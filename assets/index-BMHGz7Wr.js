(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function XD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jp={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function WD(){if(kE)return Hu;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var LE;function ZD(){return LE||(LE=1,Jp.exports=WD()),Jp.exports}var I=ZD(),eg={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function JD(){if(UE)return Ge;UE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function P(O,oe,ge){this.props=O,this.context=oe,this.refs=k,this.updater=ge||b}P.prototype.isReactComponent={},P.prototype.setState=function(O,oe){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,oe,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=P.prototype;function Y(O,oe,ge){this.props=O,this.context=oe,this.refs=k,this.updater=ge||b}var H=Y.prototype=new D;H.constructor=Y,C(H,P.prototype),H.isPureReactComponent=!0;var re=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function M(O,oe,ge,de,Re,qe){return ge=qe.ref,{$$typeof:t,type:O,key:oe,ref:ge!==void 0?ge:null,props:qe}}function A(O,oe){return M(O.type,oe,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function U(O){var oe={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return oe[ge]})}var z=/\/+/g;function G(O,oe){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):oe.toString(36)}function N(){}function Oe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(oe){O.status==="pending"&&(O.status="fulfilled",O.value=oe)},function(oe){O.status==="pending"&&(O.status="rejected",O.reason=oe)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function fe(O,oe,ge,de,Re){var qe=typeof O;(qe==="undefined"||qe==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(qe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case t:case e:xe=!0;break;case y:return xe=O._init,fe(xe(O._payload),oe,ge,de,Re)}}if(xe)return Re=Re(O),xe=de===""?"."+G(O,0):de,re(Re)?(ge="",xe!=null&&(ge=xe.replace(z,"$&/")+"/"),fe(Re,oe,ge,"",function(fi){return fi})):Re!=null&&(x(Re)&&(Re=A(Re,ge+(Re.key==null||O&&O.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+xe)),oe.push(Re)),1;xe=0;var Bt=de===""?".":de+":";if(re(O))for(var yt=0;yt<O.length;yt++)de=O[yt],qe=Bt+G(de,yt),xe+=fe(de,oe,ge,qe,Re);else if(yt=T(O),typeof yt=="function")for(O=yt.call(O),yt=0;!(de=O.next()).done;)de=de.value,qe=Bt+G(de,yt++),xe+=fe(de,oe,ge,qe,Re);else if(qe==="object"){if(typeof O.then=="function")return fe(Oe(O),oe,ge,de,Re);throw oe=String(O),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function q(O,oe,ge){if(O==null)return O;var de=[],Re=0;return fe(O,de,"","",function(qe){return oe.call(ge,qe,Re++)}),de}function ne(O){if(O._status===-1){var oe=O._result;oe=oe(),oe.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=oe)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ve(){}return Ge.Children={map:q,forEach:function(O,oe,ge){q(O,function(){oe.apply(this,arguments)},ge)},count:function(O){var oe=0;return q(O,function(){oe++}),oe},toArray:function(O){return q(O,function(oe){return oe})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ge.Component=P,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=Y,Ge.StrictMode=r,Ge.Suspense=d,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return te.H.useMemoCache(O)}},Ge.cache=function(O){return function(){return O.apply(null,arguments)}},Ge.cloneElement=function(O,oe,ge){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=C({},O.props),Re=O.key,qe=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(qe=void 0),oe.key!==void 0&&(Re=""+oe.key),oe)!B.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(de[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)de.children=ge;else if(1<xe){for(var Bt=Array(xe),yt=0;yt<xe;yt++)Bt[yt]=arguments[yt+2];de.children=Bt}return M(O.type,Re,void 0,void 0,qe,de)},Ge.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ge.createElement=function(O,oe,ge){var de,Re={},qe=null;if(oe!=null)for(de in oe.key!==void 0&&(qe=""+oe.key),oe)B.call(oe,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Re[de]=oe[de]);var xe=arguments.length-2;if(xe===1)Re.children=ge;else if(1<xe){for(var Bt=Array(xe),yt=0;yt<xe;yt++)Bt[yt]=arguments[yt+2];Re.children=Bt}if(O&&O.defaultProps)for(de in xe=O.defaultProps,xe)Re[de]===void 0&&(Re[de]=xe[de]);return M(O,qe,void 0,void 0,null,Re)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:h,render:O}},Ge.isValidElement=x,Ge.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ne}},Ge.memo=function(O,oe){return{$$typeof:p,type:O,compare:oe===void 0?null:oe}},Ge.startTransition=function(O){var oe=te.T,ge={};te.T=ge;try{var de=O(),Re=te.S;Re!==null&&Re(ge,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ve,me)}catch(qe){me(qe)}finally{te.T=oe}},Ge.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ge.use=function(O){return te.H.use(O)},Ge.useActionState=function(O,oe,ge){return te.H.useActionState(O,oe,ge)},Ge.useCallback=function(O,oe){return te.H.useCallback(O,oe)},Ge.useContext=function(O){return te.H.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O,oe){return te.H.useDeferredValue(O,oe)},Ge.useEffect=function(O,oe,ge){var de=te.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(O,oe)},Ge.useId=function(){return te.H.useId()},Ge.useImperativeHandle=function(O,oe,ge){return te.H.useImperativeHandle(O,oe,ge)},Ge.useInsertionEffect=function(O,oe){return te.H.useInsertionEffect(O,oe)},Ge.useLayoutEffect=function(O,oe){return te.H.useLayoutEffect(O,oe)},Ge.useMemo=function(O,oe){return te.H.useMemo(O,oe)},Ge.useOptimistic=function(O,oe){return te.H.useOptimistic(O,oe)},Ge.useReducer=function(O,oe,ge){return te.H.useReducer(O,oe,ge)},Ge.useRef=function(O){return te.H.useRef(O)},Ge.useState=function(O){return te.H.useState(O)},Ge.useSyncExternalStore=function(O,oe,ge){return te.H.useSyncExternalStore(O,oe,ge)},Ge.useTransition=function(){return te.H.useTransition()},Ge.version="19.1.0",Ge}var jE;function Ly(){return jE||(jE=1,eg.exports=JD()),eg.exports}var L=Ly();const so=XD(L);var tg={exports:{}},qu={},ng={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function e2(){return BE||(BE=1,function(t){function e(q,ne){var me=q.length;q.push(ne);e:for(;0<me;){var ve=me-1>>>1,O=q[ve];if(0<a(O,ne))q[ve]=ne,q[me]=O,me=ve;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ne=q[0],me=q.pop();if(me!==ne){q[0]=me;e:for(var ve=0,O=q.length,oe=O>>>1;ve<oe;){var ge=2*(ve+1)-1,de=q[ge],Re=ge+1,qe=q[Re];if(0>a(de,me))Re<O&&0>a(qe,de)?(q[ve]=qe,q[Re]=me,ve=Re):(q[ve]=de,q[ge]=me,ve=ge);else if(Re<O&&0>a(qe,me))q[ve]=qe,q[Re]=me,ve=Re;else break e}}return ne}function a(q,ne){var me=q.sortIndex-ne.sortIndex;return me!==0?me:q.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,_=null,T=3,b=!1,C=!1,k=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(q){for(var ne=n(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=q)r(p),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(p)}}function te(q){if(k=!1,re(q),!C)if(n(d)!==null)C=!0,B||(B=!0,G());else{var ne=n(p);ne!==null&&fe(te,ne.startTime-q)}}var B=!1,M=-1,A=5,x=-1;function U(){return P?!0:!(t.unstable_now()-x<A)}function z(){if(P=!1,B){var q=t.unstable_now();x=q;var ne=!0;try{e:{C=!1,k&&(k=!1,Y(M),M=-1),b=!0;var me=T;try{t:{for(re(q),_=n(d);_!==null&&!(_.expirationTime>q&&U());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,T=_.priorityLevel;var O=ve(_.expirationTime<=q);if(q=t.unstable_now(),typeof O=="function"){_.callback=O,re(q),ne=!0;break t}_===n(d)&&r(d),re(q)}else r(d);_=n(d)}if(_!==null)ne=!0;else{var oe=n(p);oe!==null&&fe(te,oe.startTime-q),ne=!1}}break e}finally{_=null,T=me,b=!1}ne=void 0}}finally{ne?G():B=!1}}}var G;if(typeof H=="function")G=function(){H(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=z,G=function(){Oe.postMessage(null)}}else G=function(){D(z,0)};function fe(q,ne){M=D(function(){q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var me=T;T=ne;try{return q()}finally{T=me}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=T;T=q;try{return ne()}finally{T=me}},t.unstable_scheduleCallback=function(q,ne,me){var ve=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ve+me:ve):me=ve,q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,q={id:y++,callback:ne,priorityLevel:q,startTime:me,expirationTime:O,sortIndex:-1},me>ve?(q.sortIndex=me,e(p,q),n(d)===null&&q===n(p)&&(k?(Y(M),M=-1):k=!0,fe(te,me-ve))):(q.sortIndex=O,e(d,q),C||b||(C=!0,B||(B=!0,G()))),q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(q){var ne=T;return function(){var me=T;T=ne;try{return q.apply(this,arguments)}finally{T=me}}}}(ig)),ig}var zE;function t2(){return zE||(zE=1,ng.exports=e2()),ng.exports}var rg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function n2(){if(FE)return Sn;FE=1;var t=Ly();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},Sn.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},Sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:b}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:T,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Sn.requestFormReset=function(d){r.d.r(d)},Sn.unstable_batchedUpdates=function(d,p){return d(p)},Sn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var HE;function mA(){if(HE)return rg.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=n2(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function i2(){if(qE)return qu;qE=1;var t=t2(),e=Ly(),n=mA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===c)return h(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,S=m.child;S;){if(S===o){w=!0,o=m,c=g;break}if(S===c){w=!0,c=m,o=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===o){w=!0,o=g,c=m;break}if(S===c){w=!0,c=g,o=m;break}S=S.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case B:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case H:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}var fe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ve=[],O=-1;function oe(i){return{current:i}}function ge(i){0>O||(i.current=ve[O],ve[O]=null,O--)}function de(i,s){O++,ve[O]=i.current,i.current=s}var Re=oe(null),qe=oe(null),xe=oe(null),Bt=oe(null);function yt(i,s){switch(de(xe,s),de(qe,i),de(Re,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?cE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=cE(s),i=hE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Re),de(Re,i)}function fi(){ge(Re),ge(qe),ge(xe)}function Rt(i){i.memoizedState!==null&&de(Bt,i);var s=Re.current,o=hE(s,i.type);s!==o&&(de(qe,i),de(Re,o))}function Tn(i){qe.current===i&&(ge(Re),ge(qe)),Bt.current===i&&(ge(Bt),Uu._currentValue=me)}var Wi=Object.prototype.hasOwnProperty,Mr=t.unstable_scheduleCallback,Pn=t.unstable_cancelCallback,Ea=t.unstable_shouldYield,wo=t.unstable_requestPaint,Nn=t.unstable_now,Gl=t.unstable_getCurrentPriorityLevel,wa=t.unstable_ImmediatePriority,ds=t.unstable_UserBlockingPriority,Pr=t.unstable_NormalPriority,Ui=t.unstable_LowPriority,di=t.unstable_IdlePriority,ms=t.log,ps=t.unstable_setDisableYieldValue,ct=null,Ye=null;function En(i){if(typeof ms=="function"&&ps(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ct,i)}catch{}}var zt=Math.clz32?Math.clz32:Zi,bo=Math.log,mi=Math.LN2;function Zi(i){return i>>>=0,i===0?32:31-(bo(i)/mi|0)|0}var Ji=256,er=4194304;function Xn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nr(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Xn(c):(w&=S,w!==0?m=Xn(w):o||(o=S&~i,o!==0&&(m=Xn(o))))):(S=c&~g,S!==0?m=Xn(S):w!==0?m=Xn(w):o||(o=c&~i,o!==0&&(m=Xn(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gs(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var i=Ji;return Ji<<=1,(Ji&4194048)===0&&(Ji=256),i}function ba(){var i=er;return er<<=1,(er&62914560)===0&&(er=4194304),i}function gi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ji(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ys(i,s,o,c,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,Z=i.hiddenUpdates;for(o=w&~o;0<o;){var se=31-zt(o),ce=1<<se;S[se]=0,V[se]=-1;var J=Z[se];if(J!==null)for(Z[se]=null,se=0;se<J.length;se++){var ee=J[se];ee!==null&&(ee.lane&=-536870913)}o&=~ce}c!==0&&On(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function On(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-zt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function tr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-zt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function j(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:DE(i.type))}function $(i,s){var o=ne.p;try{return ne.p=i,s()}finally{ne.p=o}}var W=Math.random().toString(36).slice(2),ue="__reactFiber$"+W,pe="__reactProps$"+W,Te="__reactContainer$"+W,Me="__reactEvents$"+W,we="__reactListeners$"+W,Se="__reactHandles$"+W,Ce="__reactResources$"+W,Pe="__reactMarker$"+W;function Ae(i){delete i[ue],delete i[pe],delete i[Me],delete i[we],delete i[Se]}function Ve(i){var s=i[ue];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Te]||o[ue]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=pE(i);i!==null;){if(o=i[ue])return o;i=pE(i)}return s}i=o,o=i.parentNode}return null}function We(i){if(i=i[ue]||i[Te]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ft(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function lt(i){var s=i[Ce];return s||(s=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function it(i){i[Pe]=!0}var Qe=new Set,yi={};function Qt(i,s){Vn(i,s),Vn(i+"Capture",s)}function Vn(i,s){for(yi[i]=s,i=0;i<s.length;i++)Qe.add(s[i])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},Wn={};function _s(i){return Wi.call(Wn,i)?!0:Wi.call(ir,i)?!1:un.test(i)?Wn[i]=!0:(ir[i]=!0,!1)}function wn(i,s,o){if(_s(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function kn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ze(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var Ft,Zn;function Fn(i){if(Ft===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ft=s&&s[1]||"",Zn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+i+Zn}var rr=!1;function wt(i,s){if(!i||rr)return"";rr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ee){J=ee}i.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var V=w.split(`
`),Z=S.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===Z.length)for(c=V.length-1,m=Z.length-1;1<=c&&0<=m&&V[c]!==Z[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==Z[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==Z[m]){var se=`
`+V[c].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=c&&0<=m);break}}}finally{rr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fn(o):""}function vi(i){switch(i.tag){case 26:case 27:case 5:return Fn(i.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return wt(i.type,!1);case 11:return wt(i.type.render,!1);case 1:return wt(i.type,!0);case 31:return Fn("Activity");default:return""}}function Vr(i){try{var s="";do s+=vi(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function im(i){var s=Yl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function So(i){i._valueTracker||(i._valueTracker=im(i))}function Kl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Yl(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rm=/[\n"\\]/g;function Ht(i){return i.replace(rm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Jn(i,s,o,c,m,g,w,S){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Ts(i,w,cn(s)):o!=null?Ts(i,w,cn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+cn(S):i.removeAttribute("name")}function Aa(i,s,o,c,m,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Ts(i,s,o){s==="number"&&Sa(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function kr(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function vt(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function Ra(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(fe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function _i(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Ca.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function $l(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&ih(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&ih(i,g,s[g])}function Ql(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return am.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Lr=null;function Ti(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,jr=null;function Xl(i){var s=We(i);if(s&&(i=s.stateNode)){var o=i[pe]||null;e:switch(i=s.stateNode,s.type){case"input":if(Jn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[pe]||null;if(!m)throw Error(r(90));Jn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Kl(c)}break e;case"textarea":vt(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&kr(i,!!o.multiple,s,!1)}}}var sr=!1;function rh(i,s,o){if(sr)return i(s,o);sr=!0;try{var c=i(s);return c}finally{if(sr=!1,(Ur!==null||jr!==null)&&(Wh(),Ur&&(s=Ur,i=jr,jr=Ur=null,Xl(s),i)))for(s=0;s<i.length;s++)Xl(i[s])}}function Ia(i,s){var o=i.stateNode;if(o===null)return null;var c=o[pe]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=!1;if(Bi)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Ei=!1}var ar=null,Es=null,Br=null;function Wl(){if(Br)return Br;var i,s=Es,o=s.length,c,m="value"in ar?ar.value:ar.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var w=o-i;for(c=1;c<=w&&s[o-c]===m[g-c];c++);return Br=m.slice(i,1<c?1-c:void 0)}function or(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Zl(){return!1}function nn(i){function s(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?lr:Zl,this.isPropagationStopped=Zl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=nn(dt),Da=y({},dt,{view:0,detail:0}),sh=nn(Da),Co,Io,ur,Ma=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ur&&(ur&&i.type==="mousemove"?(Co=i.screenX-ur.screenX,Io=i.screenY-ur.screenY):Io=Co=0,ur=i),Co)},movementY:function(i){return"movementY"in i?i.movementY:Io}}),wi=nn(Ma),ah=y({},Ma,{dataTransfer:0}),om=nn(ah),Pa=y({},Da,{relatedTarget:0}),xo=nn(Pa),Jl=y({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=nn(Jl),oh=y({},dt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mo=nn(oh),lm=y({},dt,{data:0}),eu=nn(lm),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=uh[i])?!!s[i]:!1}function Oa(){return tu}var ch=y({},Da,{key:function(i){if(i.key){var s=Na[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=or(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(i){return i.type==="keypress"?or(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?or(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Po=nn(ch),hh=y({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=nn(hh),zr=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),fh=nn(zr),dh=y({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=nn(dh),ph=y({},Ma,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),No=nn(ph),Ln=y({},dt,{newState:0,oldState:0}),gh=nn(Ln),yh=[9,13,27,32],cr=Bi&&"CompositionEvent"in window,f=null;Bi&&"documentMode"in document&&(f=document.documentMode);var v=Bi&&"TextEvent"in window&&!f,E=Bi&&(!cr||f&&8<f&&11>=f),R=" ",Q=!1;function ie(i,s){switch(i){case"keyup":return yh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rt=!1;function Xt(i,s){switch(i){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(Q=!0,R);case"textInput":return i=s.data,i===R&&Q?null:i;default:return null}}function st(i,s){if(rt)return i==="compositionend"||!cr&&ie(i,s)?(i=Wl(),Br=Es=ar=null,rt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!rn[i.type]:s==="textarea"}function Fr(i,s,o,c){Ur?jr?jr.push(c):jr=[c]:Ur=c,s=rf(s,"onChange"),0<s.length&&(o=new Ro("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var hn=null,hr=null;function iu(i){sE(i,0)}function vh(i){var s=ft(i);if(Kl(s))return i}function R_(i,s){if(i==="change")return s}var C_=!1;if(Bi){var um;if(Bi){var cm="oninput"in document;if(!cm){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),cm=typeof I_.oninput=="function"}um=cm}else um=!1;C_=um&&(!document.documentMode||9<document.documentMode)}function x_(){hn&&(hn.detachEvent("onpropertychange",D_),hr=hn=null)}function D_(i){if(i.propertyName==="value"&&vh(hr)){var s=[];Fr(s,hr,i,Ti(i)),rh(iu,s)}}function Rx(i,s,o){i==="focusin"?(x_(),hn=s,hr=o,hn.attachEvent("onpropertychange",D_)):i==="focusout"&&x_()}function Cx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vh(hr)}function Ix(i,s){if(i==="click")return vh(s)}function xx(i,s){if(i==="input"||i==="change")return vh(s)}function Dx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ei=typeof Object.is=="function"?Object.is:Dx;function ru(i,s){if(ei(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Wi.call(s,m)||!ei(i[m],s[m]))return!1}return!0}function M_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P_(i,s){var o=M_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=M_(o)}}function N_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?N_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function O_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Sa(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Sa(i.document)}return s}function hm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Mx=Bi&&"documentMode"in document&&11>=document.documentMode,Oo=null,fm=null,su=null,dm=!1;function V_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dm||Oo==null||Oo!==Sa(c)||(c=Oo,"selectionStart"in c&&hm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),su&&ru(su,c)||(su=c,c=rf(fm,"onSelect"),0<c.length&&(s=new Ro("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Oo)))}function Va(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Vo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},mm={},k_={};Bi&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function ka(i){if(mm[i])return mm[i];if(!Vo[i])return i;var s=Vo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in k_)return mm[i]=s[o];return i}var L_=ka("animationend"),U_=ka("animationiteration"),j_=ka("animationstart"),Px=ka("transitionrun"),Nx=ka("transitionstart"),Ox=ka("transitioncancel"),B_=ka("transitionend"),z_=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function zi(i,s){z_.set(i,s),Qt(s,[i])}var F_=new WeakMap;function bi(i,s){if(typeof i=="object"&&i!==null){var o=F_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Vr(s)},F_.set(i,s),s)}return{value:i,source:s,stack:Vr(s)}}var Si=[],ko=0,gm=0;function _h(){for(var i=ko,s=gm=ko=0;s<i;){var o=Si[s];Si[s++]=null;var c=Si[s];Si[s++]=null;var m=Si[s];Si[s++]=null;var g=Si[s];if(Si[s++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&H_(o,m,g)}}function Th(i,s,o,c){Si[ko++]=i,Si[ko++]=s,Si[ko++]=o,Si[ko++]=c,gm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ym(i,s,o,c){return Th(i,s,o,c),Eh(i)}function Lo(i,s){return Th(i,null,null,s),Eh(i)}function H_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-zt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Eh(i){if(50<Du)throw Du=0,bp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Uo={};function Vx(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(i,s,o,c){return new Vx(i,s,o,c)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hr(i,s){var o=i.alternate;return o===null?(o=ti(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function q_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function wh(i,s,o,c,m,g){var w=0;if(c=i,typeof i=="function")vm(i)&&(w=1);else if(typeof i=="string")w=LD(i,o,Re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case x:return i=ti(31,o,s,m),i.elementType=x,i.lanes=g,i;case C:return La(o.children,m,g,s);case k:w=8,m|=24;break;case P:return i=ti(12,o,s,m|2),i.elementType=P,i.lanes=g,i;case te:return i=ti(13,o,s,m),i.elementType=te,i.lanes=g,i;case B:return i=ti(19,o,s,m),i.elementType=B,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case H:w=10;break e;case Y:w=9;break e;case re:w=11;break e;case M:w=14;break e;case A:w=16,c=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=ti(w,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function La(i,s,o,c){return i=ti(7,i,c,s),i.lanes=o,i}function _m(i,s,o){return i=ti(6,i,null,s),i.lanes=o,i}function Tm(i,s,o){return s=ti(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var jo=[],Bo=0,bh=null,Sh=0,Ai=[],Ri=0,Ua=null,qr=1,Gr="";function ja(i,s){jo[Bo++]=Sh,jo[Bo++]=bh,bh=i,Sh=s}function G_(i,s,o){Ai[Ri++]=qr,Ai[Ri++]=Gr,Ai[Ri++]=Ua,Ua=i;var c=qr;i=Gr;var m=32-zt(c)-1;c&=~(1<<m),o+=1;var g=32-zt(s)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,qr=1<<32-zt(s)+m|o<<m|c,Gr=g+i}else qr=1<<g|o<<m|c,Gr=i}function Em(i){i.return!==null&&(ja(i,1),G_(i,1,0))}function wm(i){for(;i===bh;)bh=jo[--Bo],jo[Bo]=null,Sh=jo[--Bo],jo[Bo]=null;for(;i===Ua;)Ua=Ai[--Ri],Ai[Ri]=null,Gr=Ai[--Ri],Ai[Ri]=null,qr=Ai[--Ri],Ai[Ri]=null}var Un=null,Pt=null,ht=!1,Ba=null,fr=!1,bm=Error(r(519));function za(i){var s=Error(r(418,""));throw lu(bi(s,i)),bm}function Y_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[ue]=i,s[pe]=c,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<Pu.length;o++)Je(Pu[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Aa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),So(s);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Ra(s,c.value,c.defaultValue,c.children),So(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||uE(s.textContent,o)?(c.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),c.onScroll!=null&&Je("scroll",s),c.onScrollEnd!=null&&Je("scrollend",s),c.onClick!=null&&(s.onclick=sf),s=!0):s=!1,s||za(i)}function K_(i){for(Un=i.return;Un;)switch(Un.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:Un=Un.return}}function au(i){if(i!==Un)return!1;if(!ht)return K_(i),ht=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||jp(i.type,i.memoizedProps)),o=!o),o&&Pt&&za(i),K_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Pt=Hi(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Pt=null}}else s===27?(s=Pt,Ls(i.type)?(i=Hp,Hp=null,Pt=i):Pt=s):Pt=Un?Hi(i.stateNode.nextSibling):null;return!0}function ou(){Pt=Un=null,ht=!1}function $_(){var i=Ba;return i!==null&&(Gn===null?Gn=i:Gn.push.apply(Gn,i),Ba=null),i}function lu(i){Ba===null?Ba=[i]:Ba.push(i)}var Sm=oe(null),Fa=null,Yr=null;function ws(i,s,o){de(Sm,s._currentValue),s._currentValue=o}function Kr(i){i._currentValue=Sm.current,ge(Sm)}function Am(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Rm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Am(g.return,o,i),c||(w=null);break e}g=S.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Am(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function uu(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var S=m.type;ei(m.pendingProps.value,w.value)||(i!==null?i.push(S):i=[S])}}else if(m===Bt.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Uu):i=[Uu])}m=m.return}i!==null&&Rm(s,i,o,c),s.flags|=262144}function Ah(i){for(i=i.firstContext;i!==null;){if(!ei(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ha(i){Fa=i,Yr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bn(i){return Q_(Fa,i)}function Rh(i,s){return Fa===null&&Ha(i),Q_(i,s)}function Q_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Yr===null){if(i===null)throw Error(r(308));Yr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Yr=Yr.next=s;return o}var kx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Lx=t.unstable_scheduleCallback,Ux=t.unstable_NormalPriority,Zt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new kx,data:new Map,refCount:0}}function cu(i){i.refCount--,i.refCount===0&&Lx(Ux,function(){i.controller.abort()})}var hu=null,Im=0,zo=0,Fo=null;function jx(i,s){if(hu===null){var o=hu=[];Im=0,zo=Dp(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Im++,s.then(X_,X_),s}function X_(){if(--Im===0&&hu!==null){Fo!==null&&(Fo.status="fulfilled");var i=hu;hu=null,zo=0,Fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Bx(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var W_=q.S;q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&jx(i,s),W_!==null&&W_(i,s)};var qa=oe(null);function xm(){var i=qa.current;return i!==null?i:St.pooledCache}function Ch(i,s){s===null?de(qa,qa.current):de(qa,s.pool)}function Z_(){var i=xm();return i===null?null:{parent:Zt._currentValue,pool:i}}var fu=Error(r(460)),J_=Error(r(474)),Ih=Error(r(542)),Dm={then:function(){}};function e0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xh(){}function t0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(xh,xh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i0(i),i;default:if(typeof s.status=="string")s.then(xh,xh);else{if(i=St,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i0(i),i}throw du=s,fu}}var du=null;function n0(){if(du===null)throw Error(r(459));var i=du;return du=null,i}function i0(i){if(i===fu||i===Ih)throw Error(r(483))}var bs=!1;function Mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Eh(i),H_(i,null,o),s}return Th(i,c,s,o),Eh(i)}function mu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,tr(i,o)}}function Nm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Om=!1;function pu(){if(Om){var i=Fo;if(i!==null)throw i}}function gu(i,s,o,c){Om=!1;var m=i.updateQueue;bs=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,Z=V.next;V.next=null,w===null?g=Z:w.next=Z,w=V;var se=i.alternate;se!==null&&(se=se.updateQueue,S=se.lastBaseUpdate,S!==w&&(S===null?se.firstBaseUpdate=Z:S.next=Z,se.lastBaseUpdate=V))}if(g!==null){var ce=m.baseState;w=0,se=Z=V=null,S=g;do{var J=S.lane&-536870913,ee=J!==S.lane;if(ee?(at&J)===J:(c&J)===J){J!==0&&J===zo&&(Om=!0),se!==null&&(se=se.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var je=i,Ne=S;J=s;var Et=o;switch(Ne.tag){case 1:if(je=Ne.payload,typeof je=="function"){ce=je.call(Et,ce,J);break e}ce=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ne.payload,J=typeof je=="function"?je.call(Et,ce,J):je,J==null)break e;ce=y({},ce,J);break e;case 2:bs=!0}}J=S.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},se===null?(Z=se=ee,V=ce):se=se.next=ee,w|=J;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(V=ce),m.baseState=V,m.firstBaseUpdate=Z,m.lastBaseUpdate=se,g===null&&(m.shared.lanes=0),Ns|=w,i.lanes=w,i.memoizedState=ce}}function r0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function s0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r0(o[i],s)}var Ho=oe(null),Dh=oe(0);function a0(i,s){i=es,de(Dh,i),de(Ho,s),es=i|s.baseLanes}function Vm(){de(Dh,es),de(Ho,Ho.current)}function km(){es=Dh.current,ge(Ho),ge(Dh)}var Rs=0,Ke=null,_t=null,qt=null,Mh=!1,qo=!1,Ga=!1,Ph=0,yu=0,Go=null,zx=0;function kt(){throw Error(r(321))}function Lm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ei(i[o],s[o]))return!1;return!0}function Um(i,s,o,c,m,g){return Rs=g,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?H0:q0,Ga=!1,g=o(c,m),Ga=!1,qo&&(g=l0(s,o,c,m)),o0(i),g}function o0(i){q.H=Uh;var s=_t!==null&&_t.next!==null;if(Rs=0,qt=_t=Ke=null,Mh=!1,yu=0,Go=null,s)throw Error(r(300));i===null||sn||(i=i.dependencies,i!==null&&Ah(i)&&(sn=!0))}function l0(i,s,o,c){Ke=i;var m=0;do{if(qo&&(Go=null),yu=0,qo=!1,25<=m)throw Error(r(301));if(m+=1,qt=_t=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=$x,g=s(o,c)}while(qo);return g}function Fx(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?vu(s):s,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&(Ke.flags|=1024),s}function jm(){var i=Ph!==0;return Ph=0,i}function Bm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function zm(i){if(Mh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Mh=!1}Rs=0,qt=_t=Ke=null,qo=!1,yu=Ph=0,Go=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ke.memoizedState=qt=i:qt=qt.next=i,qt}function Gt(){if(_t===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=qt===null?Ke.memoizedState:qt.next;if(s!==null)qt=s,_t=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},qt===null?Ke.memoizedState=qt=i:qt=qt.next=i}return qt}function Fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(i){var s=yu;return yu+=1,Go===null&&(Go=[]),i=t0(Go,i,s),s=Ke,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?H0:q0),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vu(i);if(i.$$typeof===H)return bn(i)}throw Error(r(438,String(i)))}function Hm(i){var s=null,o=Ke.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Fm(),Ke.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=U;return s.index++,o}function $r(i,s){return typeof s=="function"?s(i):s}function Oh(i){var s=Gt();return qm(s,_t,i)}function qm(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var S=w=null,V=null,Z=s,se=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(at&ce)===ce:(Rs&ce)===ce){var J=Z.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===zo&&(se=!0);else if((Rs&J)===J){Z=Z.next,J===zo&&(se=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(S=V=ce,w=g):V=V.next=ce,Ke.lanes|=J,Ns|=J;ce=Z.action,Ga&&o(g,ce),g=Z.hasEagerState?Z.eagerState:o(g,ce)}else J={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},V===null?(S=V=J,w=g):V=V.next=J,Ke.lanes|=ce,Ns|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(V===null?w=g:V.next=S,!ei(g,i.memoizedState)&&(sn=!0,se&&(o=Fo,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Gm(i){var s=Gt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);ei(g,s.memoizedState)||(sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function u0(i,s,o){var c=Ke,m=Gt(),g=ht;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!ei((_t||m).memoizedState,o);w&&(m.memoizedState=o,sn=!0),m=m.queue;var S=f0.bind(null,c,m,i);if(_u(2048,8,S,[i]),m.getSnapshot!==s||w||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Yo(9,Vh(),h0.bind(null,c,m,o,s),null),St===null)throw Error(r(349));g||(Rs&124)!==0||c0(c,s,o)}return o}function c0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ke.updateQueue,s===null?(s=Fm(),Ke.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function h0(i,s,o,c){s.value=o,s.getSnapshot=c,d0(s)&&m0(i)}function f0(i,s,o){return o(function(){d0(s)&&m0(i)})}function d0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ei(i,o)}catch{return!0}}function m0(i){var s=Lo(i,2);s!==null&&ai(s,i,2)}function Ym(i){var s=Hn();if(typeof i=="function"){var o=i;if(i=o(),Ga){En(!0);try{o()}finally{En(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:i},s}function p0(i,s,o,c){return i.baseState=o,qm(i,_t,typeof c=="function"?c:$r)}function Hx(i,s,o,c,m){if(Lh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,g0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function g0(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=q.T,w={};q.T=w;try{var S=o(m,c),V=q.S;V!==null&&V(w,S),y0(i,s,S)}catch(Z){Km(i,s,Z)}finally{q.T=g}}else try{g=o(m,c),y0(i,s,g)}catch(Z){Km(i,s,Z)}}function y0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){v0(i,s,c)},function(c){return Km(i,s,c)}):v0(i,s,o)}function v0(i,s,o){s.status="fulfilled",s.value=o,_0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,g0(i,o)))}function Km(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,_0(s),s=s.next;while(s!==c)}i.action=null}function _0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function T0(i,s){return s}function E0(i,s){if(ht){var o=St.formState;if(o!==null){e:{var c=Ke;if(ht){if(Pt){t:{for(var m=Pt,g=fr;m.nodeType!==8;){if(!g){m=null;break t}if(m=Hi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Pt=Hi(m.nextSibling),c=m.data==="F!";break e}}za(c)}c=!1}c&&(s=o[0])}}return o=Hn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:s},o.queue=c,o=B0.bind(null,Ke,c),c.dispatch=o,c=Ym(!1),g=Zm.bind(null,Ke,!1,c.queue),c=Hn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=Hx.bind(null,Ke,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function w0(i){var s=Gt();return b0(s,_t,i)}function b0(i,s,o){if(s=qm(i,s,T0)[0],i=Oh($r)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=vu(s)}catch(w){throw w===fu?Ih:w}else c=s;s=Gt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ke.flags|=2048,Yo(9,Vh(),qx.bind(null,m,o),null)),[c,g,i]}function qx(i,s){i.action=s}function S0(i){var s=Gt(),o=_t;if(o!==null)return b0(s,o,i);Gt(),s=s.memoizedState,o=Gt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Yo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ke.updateQueue,s===null&&(s=Fm(),Ke.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function Vh(){return{destroy:void 0,resource:void 0}}function A0(){return Gt().memoizedState}function kh(i,s,o,c){var m=Hn();c=c===void 0?null:c,Ke.flags|=i,m.memoizedState=Yo(1|s,Vh(),o,c)}function _u(i,s,o,c){var m=Gt();c=c===void 0?null:c;var g=m.memoizedState.inst;_t!==null&&c!==null&&Lm(c,_t.memoizedState.deps)?m.memoizedState=Yo(s,g,o,c):(Ke.flags|=i,m.memoizedState=Yo(1|s,g,o,c))}function R0(i,s){kh(8390656,8,i,s)}function C0(i,s){_u(2048,8,i,s)}function I0(i,s){return _u(4,2,i,s)}function x0(i,s){return _u(4,4,i,s)}function D0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function M0(i,s,o){o=o!=null?o.concat([i]):null,_u(4,4,D0.bind(null,s,i),o)}function $m(){}function P0(i,s){var o=Gt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Lm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function N0(i,s){var o=Gt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Lm(s,c[1]))return c[0];if(c=i(),Ga){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[c,s],c}function Qm(i,s,o){return o===void 0||(Rs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=kT(),Ke.lanes|=i,Ns|=i,o)}function O0(i,s,o,c){return ei(o,s)?o:Ho.current!==null?(i=Qm(i,o,c),ei(i,s)||(sn=!0),i):(Rs&42)===0?(sn=!0,i.memoizedState=o):(i=kT(),Ke.lanes|=i,Ns|=i,s)}function V0(i,s,o,c,m){var g=ne.p;ne.p=g!==0&&8>g?g:8;var w=q.T,S={};q.T=S,Zm(i,!1,s,o);try{var V=m(),Z=q.S;if(Z!==null&&Z(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=Bx(V,c);Tu(i,s,se,si(i))}else Tu(i,s,c,si(i))}catch(ce){Tu(i,s,{then:function(){},status:"rejected",reason:ce},si())}finally{ne.p=g,q.T=w}}function Gx(){}function Xm(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=k0(i).queue;V0(i,m,s,me,o===null?Gx:function(){return L0(i),o(c)})}function k0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function L0(i){var s=k0(i).next.queue;Tu(i,s,{},si())}function Wm(){return bn(Uu)}function U0(){return Gt().memoizedState}function j0(){return Gt().memoizedState}function Yx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=si();i=Ss(o);var c=As(s,i,o);c!==null&&(ai(c,s,o),mu(c,s,o)),s={cache:Cm()},i.payload=s;return}s=s.return}}function Kx(i,s,o){var c=si();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(i)?z0(s,o):(o=ym(i,s,o,c),o!==null&&(ai(o,i,c),F0(o,s,c)))}function B0(i,s,o){var c=si();Tu(i,s,o,c)}function Tu(i,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(i))z0(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,S=g(w,o);if(m.hasEagerState=!0,m.eagerState=S,ei(S,w))return Th(i,s,m,0),St===null&&_h(),!1}catch{}finally{}if(o=ym(i,s,m,c),o!==null)return ai(o,i,c),F0(o,s,c),!0}return!1}function Zm(i,s,o,c){if(c={lane:2,revertLane:Dp(),action:c,hasEagerState:!1,eagerState:null,next:null},Lh(i)){if(s)throw Error(r(479))}else s=ym(i,o,c,2),s!==null&&ai(s,i,2)}function Lh(i){var s=i.alternate;return i===Ke||s!==null&&s===Ke}function z0(i,s){qo=Mh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function F0(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,tr(i,o)}}var Uh={readContext:bn,use:Nh,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},H0={readContext:bn,use:Nh,useCallback:function(i,s){return Hn().memoizedState=[i,s===void 0?null:s],i},useContext:bn,useEffect:R0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,kh(4194308,4,D0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return kh(4194308,4,i,s)},useInsertionEffect:function(i,s){kh(4,2,i,s)},useMemo:function(i,s){var o=Hn();s=s===void 0?null:s;var c=i();if(Ga){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Hn();if(o!==void 0){var m=o(s);if(Ga){En(!0);try{o(s)}finally{En(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=Kx.bind(null,Ke,i),[c.memoizedState,i]},useRef:function(i){var s=Hn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ym(i);var s=i.queue,o=B0.bind(null,Ke,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:$m,useDeferredValue:function(i,s){var o=Hn();return Qm(o,i,s)},useTransition:function(){var i=Ym(!1);return i=V0.bind(null,Ke,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ke,m=Hn();if(ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),St===null)throw Error(r(349));(at&124)!==0||c0(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,R0(f0.bind(null,c,g,i),[i]),c.flags|=2048,Yo(9,Vh(),h0.bind(null,c,g,o,s),null),o},useId:function(){var i=Hn(),s=St.identifierPrefix;if(ht){var o=Gr,c=qr;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Ph++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=zx++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Wm,useFormState:E0,useActionState:E0,useOptimistic:function(i){var s=Hn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Zm.bind(null,Ke,!0,o),o.dispatch=s,[i,s]},useMemoCache:Hm,useCacheRefresh:function(){return Hn().memoizedState=Yx.bind(null,Ke)}},q0={readContext:bn,use:Nh,useCallback:P0,useContext:bn,useEffect:C0,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:x0,useMemo:N0,useReducer:Oh,useRef:A0,useState:function(){return Oh($r)},useDebugValue:$m,useDeferredValue:function(i,s){var o=Gt();return O0(o,_t.memoizedState,i,s)},useTransition:function(){var i=Oh($r)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:vu(i),s]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Wm,useFormState:w0,useActionState:w0,useOptimistic:function(i,s){var o=Gt();return p0(o,_t,i,s)},useMemoCache:Hm,useCacheRefresh:j0},$x={readContext:bn,use:Nh,useCallback:P0,useContext:bn,useEffect:C0,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:x0,useMemo:N0,useReducer:Gm,useRef:A0,useState:function(){return Gm($r)},useDebugValue:$m,useDeferredValue:function(i,s){var o=Gt();return _t===null?Qm(o,i,s):O0(o,_t.memoizedState,i,s)},useTransition:function(){var i=Gm($r)[0],s=Gt().memoizedState;return[typeof i=="boolean"?i:vu(i),s]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Wm,useFormState:S0,useActionState:S0,useOptimistic:function(i,s){var o=Gt();return _t!==null?p0(o,_t,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:j0},Ko=null,Eu=0;function jh(i){var s=Eu;return Eu+=1,Ko===null&&(Ko=[]),t0(Ko,i,s)}function wu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Bh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function G0(i){var s=i._init;return s(i._payload)}function Y0(i){function s(K,F){if(i){var X=K.deletions;X===null?(K.deletions=[F],K.flags|=16):X.push(F)}}function o(K,F){if(!i)return null;for(;F!==null;)s(K,F),F=F.sibling;return null}function c(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function m(K,F){return K=Hr(K,F),K.index=0,K.sibling=null,K}function g(K,F,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<F?(K.flags|=67108866,F):X):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function w(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function S(K,F,X,ae){return F===null||F.tag!==6?(F=_m(X,K.mode,ae),F.return=K,F):(F=m(F,X),F.return=K,F)}function V(K,F,X,ae){var be=X.type;return be===C?se(K,F,X.props.children,ae,X.key):F!==null&&(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&G0(be)===F.type)?(F=m(F,X.props),wu(F,X),F.return=K,F):(F=wh(X.type,X.key,X.props,null,K.mode,ae),wu(F,X),F.return=K,F)}function Z(K,F,X,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Tm(X,K.mode,ae),F.return=K,F):(F=m(F,X.children||[]),F.return=K,F)}function se(K,F,X,ae,be){return F===null||F.tag!==7?(F=La(X,K.mode,ae,be),F.return=K,F):(F=m(F,X),F.return=K,F)}function ce(K,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=_m(""+F,K.mode,X),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return X=wh(F.type,F.key,F.props,null,K.mode,X),wu(X,F),X.return=K,X;case b:return F=Tm(F,K.mode,X),F.return=K,F;case A:var ae=F._init;return F=ae(F._payload),ce(K,F,X)}if(fe(F)||G(F))return F=La(F,K.mode,X,null),F.return=K,F;if(typeof F.then=="function")return ce(K,jh(F),X);if(F.$$typeof===H)return ce(K,Rh(K,F),X);Bh(K,F)}return null}function J(K,F,X,ae){var be=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return be!==null?null:S(K,F,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===be?V(K,F,X,ae):null;case b:return X.key===be?Z(K,F,X,ae):null;case A:return be=X._init,X=be(X._payload),J(K,F,X,ae)}if(fe(X)||G(X))return be!==null?null:se(K,F,X,ae,null);if(typeof X.then=="function")return J(K,F,jh(X),ae);if(X.$$typeof===H)return J(K,F,Rh(K,X),ae);Bh(K,X)}return null}function ee(K,F,X,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(X)||null,S(F,K,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return K=K.get(ae.key===null?X:ae.key)||null,V(F,K,ae,be);case b:return K=K.get(ae.key===null?X:ae.key)||null,Z(F,K,ae,be);case A:var Xe=ae._init;return ae=Xe(ae._payload),ee(K,F,X,ae,be)}if(fe(ae)||G(ae))return K=K.get(X)||null,se(F,K,ae,be,null);if(typeof ae.then=="function")return ee(K,F,X,jh(ae),be);if(ae.$$typeof===H)return ee(K,F,X,Rh(F,ae),be);Bh(F,ae)}return null}function je(K,F,X,ae){for(var be=null,Xe=null,Ie=F,ke=F=0,on=null;Ie!==null&&ke<X.length;ke++){Ie.index>ke?(on=Ie,Ie=null):on=Ie.sibling;var ut=J(K,Ie,X[ke],ae);if(ut===null){Ie===null&&(Ie=on);break}i&&Ie&&ut.alternate===null&&s(K,Ie),F=g(ut,F,ke),Xe===null?be=ut:Xe.sibling=ut,Xe=ut,Ie=on}if(ke===X.length)return o(K,Ie),ht&&ja(K,ke),be;if(Ie===null){for(;ke<X.length;ke++)Ie=ce(K,X[ke],ae),Ie!==null&&(F=g(Ie,F,ke),Xe===null?be=Ie:Xe.sibling=Ie,Xe=Ie);return ht&&ja(K,ke),be}for(Ie=c(Ie);ke<X.length;ke++)on=ee(Ie,K,ke,X[ke],ae),on!==null&&(i&&on.alternate!==null&&Ie.delete(on.key===null?ke:on.key),F=g(on,F,ke),Xe===null?be=on:Xe.sibling=on,Xe=on);return i&&Ie.forEach(function(Fs){return s(K,Fs)}),ht&&ja(K,ke),be}function Ne(K,F,X,ae){if(X==null)throw Error(r(151));for(var be=null,Xe=null,Ie=F,ke=F=0,on=null,ut=X.next();Ie!==null&&!ut.done;ke++,ut=X.next()){Ie.index>ke?(on=Ie,Ie=null):on=Ie.sibling;var Fs=J(K,Ie,ut.value,ae);if(Fs===null){Ie===null&&(Ie=on);break}i&&Ie&&Fs.alternate===null&&s(K,Ie),F=g(Fs,F,ke),Xe===null?be=Fs:Xe.sibling=Fs,Xe=Fs,Ie=on}if(ut.done)return o(K,Ie),ht&&ja(K,ke),be;if(Ie===null){for(;!ut.done;ke++,ut=X.next())ut=ce(K,ut.value,ae),ut!==null&&(F=g(ut,F,ke),Xe===null?be=ut:Xe.sibling=ut,Xe=ut);return ht&&ja(K,ke),be}for(Ie=c(Ie);!ut.done;ke++,ut=X.next())ut=ee(Ie,K,ke,ut.value,ae),ut!==null&&(i&&ut.alternate!==null&&Ie.delete(ut.key===null?ke:ut.key),F=g(ut,F,ke),Xe===null?be=ut:Xe.sibling=ut,Xe=ut);return i&&Ie.forEach(function(QD){return s(K,QD)}),ht&&ja(K,ke),be}function Et(K,F,X,ae){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:e:{for(var be=X.key;F!==null;){if(F.key===be){if(be=X.type,be===C){if(F.tag===7){o(K,F.sibling),ae=m(F,X.props.children),ae.return=K,K=ae;break e}}else if(F.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&G0(be)===F.type){o(K,F.sibling),ae=m(F,X.props),wu(ae,X),ae.return=K,K=ae;break e}o(K,F);break}else s(K,F);F=F.sibling}X.type===C?(ae=La(X.props.children,K.mode,ae,X.key),ae.return=K,K=ae):(ae=wh(X.type,X.key,X.props,null,K.mode,ae),wu(ae,X),ae.return=K,K=ae)}return w(K);case b:e:{for(be=X.key;F!==null;){if(F.key===be)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){o(K,F.sibling),ae=m(F,X.children||[]),ae.return=K,K=ae;break e}else{o(K,F);break}else s(K,F);F=F.sibling}ae=Tm(X,K.mode,ae),ae.return=K,K=ae}return w(K);case A:return be=X._init,X=be(X._payload),Et(K,F,X,ae)}if(fe(X))return je(K,F,X,ae);if(G(X)){if(be=G(X),typeof be!="function")throw Error(r(150));return X=be.call(X),Ne(K,F,X,ae)}if(typeof X.then=="function")return Et(K,F,jh(X),ae);if(X.$$typeof===H)return Et(K,F,Rh(K,X),ae);Bh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(o(K,F.sibling),ae=m(F,X),ae.return=K,K=ae):(o(K,F),ae=_m(X,K.mode,ae),ae.return=K,K=ae),w(K)):o(K,F)}return function(K,F,X,ae){try{Eu=0;var be=Et(K,F,X,ae);return Ko=null,be}catch(Ie){if(Ie===fu||Ie===Ih)throw Ie;var Xe=ti(29,Ie,null,K.mode);return Xe.lanes=ae,Xe.return=K,Xe}finally{}}}var $o=Y0(!0),K0=Y0(!1),Ci=oe(null),dr=null;function Cs(i){var s=i.alternate;de(Jt,Jt.current&1),de(Ci,i),dr===null&&(s===null||Ho.current!==null||s.memoizedState!==null)&&(dr=i)}function $0(i){if(i.tag===22){if(de(Jt,Jt.current),de(Ci,i),dr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(dr=i)}}else Is()}function Is(){de(Jt,Jt.current),de(Ci,Ci.current)}function Qr(i){ge(Ci),dr===i&&(dr=null),ge(Jt)}var Jt=oe(0);function zh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Fp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Jm(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ep={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=si(),m=Ss(c);m.payload=s,o!=null&&(m.callback=o),s=As(i,m,c),s!==null&&(ai(s,i,c),mu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=si(),m=Ss(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=As(i,m,c),s!==null&&(ai(s,i,c),mu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=si(),c=Ss(o);c.tag=2,s!=null&&(c.callback=s),s=As(i,c,o),s!==null&&(ai(s,i,o),mu(s,i,o))}};function Q0(i,s,o,c,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!ru(o,c)||!ru(m,g):!0}function X0(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&ep.enqueueReplaceState(s,s.state,null)}function Ya(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function W0(i){Fh(i)}function Z0(i){console.error(i)}function J0(i){Fh(i)}function Hh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function eT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tp(i,s,o){return o=Ss(o),o.tag=3,o.payload={element:null},o.callback=function(){Hh(i,s)},o}function tT(i){return i=Ss(i),i.tag=3,i}function nT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){eT(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){eT(s,o,c),typeof m!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Qx(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&uu(s,o,m,!0),o=Ci.current,o!==null){switch(o.tag){case 13:return dr===null?Ap():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Dm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Cp(i,c,m)),!1;case 22:return o.flags|=65536,c===Dm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Cp(i,c,m)),!1}throw Error(r(435,o.tag))}return Cp(i,c,m),Ap(),!1}if(ht)return s=Ci.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==bm&&(i=Error(r(422),{cause:c}),lu(bi(i,o)))):(c!==bm&&(s=Error(r(423),{cause:c}),lu(bi(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=bi(c,o),m=tp(i.stateNode,c,m),Nm(i,m),Nt!==4&&(Nt=2)),!1;var g=Error(r(520),{cause:c});if(g=bi(g,o),xu===null?xu=[g]:xu.push(g),Nt!==4&&(Nt=2),s===null)return!0;c=bi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=tp(o.stateNode,c,i),Nm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Os===null||!Os.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=tT(m),nT(m,i,o,c),Nm(o,m),!1}o=o.return}while(o!==null);return!1}var iT=Error(r(461)),sn=!1;function fn(i,s,o,c){s.child=i===null?K0(s,null,o,c):$o(s,i.child,o,c)}function rT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return Ha(s),c=Um(i,s,o,w,g,m),S=jm(),i!==null&&!sn?(Bm(i,s,m),Xr(i,s,m)):(ht&&S&&Em(s),s.flags|=1,fn(i,s,c,m),s.child)}function sT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!vm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,aT(i,s,g,c,m)):(i=wh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!up(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:ru,o(w,c)&&i.ref===s.ref)return Xr(i,s,m)}return s.flags|=1,i=Hr(g,c),i.ref=s.ref,i.return=s,s.child=i}function aT(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(ru(g,c)&&i.ref===s.ref)if(sn=!1,s.pendingProps=c=g,up(i,m))(i.flags&131072)!==0&&(sn=!0);else return s.lanes=i.lanes,Xr(i,s,m)}return np(i,s,o,c,m)}function oT(i,s,o){var c=s.pendingProps,m=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return lT(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ch(s,g!==null?g.cachePool:null),g!==null?a0(s,g):Vm(),$0(s);else return s.lanes=s.childLanes=536870912,lT(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ch(s,g.cachePool),a0(s,g),Is(),s.memoizedState=null):(i!==null&&Ch(s,null),Vm(),Is());return fn(i,s,m,o),s.child}function lT(i,s,o,c){var m=xm();return m=m===null?null:{parent:Zt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Ch(s,null),Vm(),$0(s),i!==null&&uu(i,s,c,!0),null}function qh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function np(i,s,o,c,m){return Ha(s),o=Um(i,s,o,c,void 0,m),c=jm(),i!==null&&!sn?(Bm(i,s,m),Xr(i,s,m)):(ht&&c&&Em(s),s.flags|=1,fn(i,s,o,m),s.child)}function uT(i,s,o,c,m,g){return Ha(s),s.updateQueue=null,o=l0(s,c,o,m),o0(i),c=jm(),i!==null&&!sn?(Bm(i,s,g),Xr(i,s,g)):(ht&&c&&Em(s),s.flags|=1,fn(i,s,o,g),s.child)}function cT(i,s,o,c,m){if(Ha(s),s.stateNode===null){var g=Uo,w=o.contextType;typeof w=="object"&&w!==null&&(g=bn(w)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ep,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Mm(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?bn(w):Uo,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Jm(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&ep.enqueueReplaceState(g,g.state,null),gu(s,c,g,m),pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,V=Ya(o,S);g.props=V;var Z=g.context,se=o.contextType;w=Uo,typeof se=="object"&&se!==null&&(w=bn(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Z!==w)&&X0(s,g,c,w),bs=!1;var J=s.memoizedState;g.state=J,gu(s,c,g,m),pu(),Z=s.memoizedState,S||J!==Z||bs?(typeof ce=="function"&&(Jm(s,o,ce,c),Z=s.memoizedState),(V=bs||Q0(s,o,V,c,J,Z,w))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),g.props=c,g.state=Z,g.context=w,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Pm(i,s),w=s.memoizedProps,se=Ya(o,w),g.props=se,ce=s.pendingProps,J=g.context,Z=o.contextType,V=Uo,typeof Z=="object"&&Z!==null&&(V=bn(Z)),S=o.getDerivedStateFromProps,(Z=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ce||J!==V)&&X0(s,g,c,V),bs=!1,J=s.memoizedState,g.state=J,gu(s,c,g,m),pu();var ee=s.memoizedState;w!==ce||J!==ee||bs||i!==null&&i.dependencies!==null&&Ah(i.dependencies)?(typeof S=="function"&&(Jm(s,o,S,c),ee=s.memoizedState),(se=bs||Q0(s,o,se,c,J,ee,V)||i!==null&&i.dependencies!==null&&Ah(i.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),g.props=c,g.state=ee,g.context=V,c=se):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,qh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=$o(s,i.child,null,m),s.child=$o(s,null,o,m)):fn(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Xr(i,s,m),i}function hT(i,s,o,c){return ou(),s.flags|=256,fn(i,s,o,c),s.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(i){return{baseLanes:i,cachePool:Z_()}}function sp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Ii),i}function fT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(Jt.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(ht){if(m?Cs(s):Is(),ht){var S=Pt,V;if(V=S){e:{for(V=S,S=fr;V.nodeType!==8;){if(!S){S=null;break e}if(V=Hi(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ua!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},V=ti(18,null,null,0),V.stateNode=S,V.return=s,s.child=V,Un=s,Pt=null,V=!0):V=!1}V||za(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Fp(S)?s.lanes=32:s.lanes=536870912,null;Qr(s)}return S=c.children,c=c.fallback,m?(Is(),m=s.mode,S=Gh({mode:"hidden",children:S},m),c=La(c,m,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,m=s.child,m.memoizedState=rp(o),m.childLanes=sp(i,w,o),s.memoizedState=ip,c):(Cs(s),ap(s,S))}if(V=i.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(Cs(s),s.flags&=-257,s=op(i,s,o)):s.memoizedState!==null?(Is(),s.child=i.child,s.flags|=128,s=null):(Is(),m=c.fallback,S=s.mode,c=Gh({mode:"visible",children:c.children},S),m=La(m,S,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,$o(s,i.child,null,o),c=s.child,c.memoizedState=rp(o),c.childLanes=sp(i,w,o),s.memoizedState=ip,s=m);else if(Cs(s),Fp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var Z=w.dgst;w=Z,c=Error(r(419)),c.stack="",c.digest=w,lu({value:c,source:null,stack:null}),s=op(i,s,o)}else if(sn||uu(i,s,o,!1),w=(o&i.childLanes)!==0,sn||w){if(w=St,w!==null&&(c=o&-o,c=(c&42)!==0?1:nr(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Lo(i,c),ai(w,i,c),iT;S.data==="$?"||Ap(),s=op(i,s,o)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,Pt=Hi(S.nextSibling),Un=s,ht=!0,Ba=null,fr=!1,i!==null&&(Ai[Ri++]=qr,Ai[Ri++]=Gr,Ai[Ri++]=Ua,qr=i.id,Gr=i.overflow,Ua=s),s=ap(s,c.children),s.flags|=4096);return s}return m?(Is(),m=c.fallback,S=s.mode,V=i.child,Z=V.sibling,c=Hr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Z!==null?m=Hr(Z,m):(m=La(m,S,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,S=i.child.memoizedState,S===null?S=rp(o):(V=S.cachePool,V!==null?(Z=Zt._currentValue,V=V.parent!==Z?{parent:Z,pool:Z}:V):V=Z_(),S={baseLanes:S.baseLanes|o,cachePool:V}),m.memoizedState=S,m.childLanes=sp(i,w,o),s.memoizedState=ip,c):(Cs(s),o=i.child,i=o.sibling,o=Hr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function ap(i,s){return s=Gh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Gh(i,s){return i=ti(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function op(i,s,o){return $o(s,i.child,null,o),i=ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function dT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Am(i.return,s,o)}function lp(i,s,o,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function mT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(fn(i,s,c.children,o),c=Jt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dT(i,o,s);else if(i.tag===19)dT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(de(Jt,c),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&zh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),lp(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&zh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}lp(s,!0,o,null,g);break;case"together":lp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Ns|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(uu(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Hr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Hr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function up(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ah(i)))}function Xx(i,s,o){switch(s.tag){case 3:yt(s,s.stateNode.containerInfo),ws(s,Zt,i.memoizedState.cache),ou();break;case 27:case 5:Rt(s);break;case 4:yt(s,s.stateNode.containerInfo);break;case 10:ws(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Cs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?fT(i,s,o):(Cs(s),i=Xr(i,s,o),i!==null?i.sibling:null);Cs(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(uu(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return mT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(Jt,Jt.current),c)break;return null;case 22:case 23:return s.lanes=0,oT(i,s,o);case 24:ws(s,Zt,i.memoizedState.cache)}return Xr(i,s,o)}function pT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)sn=!0;else{if(!up(i,o)&&(s.flags&128)===0)return sn=!1,Xx(i,s,o);sn=(i.flags&131072)!==0}else sn=!1,ht&&(s.flags&1048576)!==0&&G_(s,Sh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")vm(c)?(i=Ya(c,i),s.tag=1,s=cT(null,s,c,i,o)):(s.tag=0,s=np(null,s,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===re){s.tag=11,s=rT(null,s,c,i,o);break e}else if(m===M){s.tag=14,s=sT(null,s,c,i,o);break e}}throw s=Oe(c)||c,Error(r(306,s,""))}}return s;case 0:return np(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ya(c,s.pendingProps),cT(i,s,c,m,o);case 3:e:{if(yt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Pm(i,s),gu(s,c,null,o);var w=s.memoizedState;if(c=w.cache,ws(s,Zt,c),c!==g.cache&&Rm(s,[Zt],o,!0),pu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=hT(i,s,c,o);break e}else if(c!==m){m=bi(Error(r(424)),s),lu(m),s=hT(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=Hi(i.firstChild),Un=s,ht=!0,Ba=null,fr=!0,o=K0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ou(),c===m){s=Xr(i,s,o);break e}fn(i,s,c,o)}s=s.child}return s;case 26:return qh(i,s),i===null?(o=_E(s.type,null,s.pendingProps,null))?s.memoizedState=o:ht||(o=s.type,i=s.pendingProps,c=af(xe.current).createElement(o),c[ue]=s,c[pe]=i,mn(c,o,i),it(c),s.stateNode=c):s.memoizedState=_E(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Rt(s),i===null&&ht&&(c=s.stateNode=gE(s.type,s.pendingProps,xe.current),Un=s,fr=!0,m=Pt,Ls(s.type)?(Hp=m,Pt=Hi(c.firstChild)):Pt=m),fn(i,s,s.pendingProps.children,o),qh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ht&&((m=c=Pt)&&(c=SD(c,s.type,s.pendingProps,fr),c!==null?(s.stateNode=c,Un=s,Pt=Hi(c.firstChild),fr=!1,m=!0):m=!1),m||za(s)),Rt(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,jp(m,g)?c=null:w!==null&&jp(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=Um(i,s,Fx,null,null,o),Uu._currentValue=m),qh(i,s),fn(i,s,c,o),s.child;case 6:return i===null&&ht&&((i=o=Pt)&&(o=AD(o,s.pendingProps,fr),o!==null?(s.stateNode=o,Un=s,Pt=null,i=!0):i=!1),i||za(s)),null;case 13:return fT(i,s,o);case 4:return yt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=$o(s,null,c,o):fn(i,s,c,o),s.child;case 11:return rT(i,s,s.type,s.pendingProps,o);case 7:return fn(i,s,s.pendingProps,o),s.child;case 8:return fn(i,s,s.pendingProps.children,o),s.child;case 12:return fn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ws(s,s.type,c.value),fn(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ha(s),m=bn(m),c=c(m),s.flags|=1,fn(i,s,c,o),s.child;case 14:return sT(i,s,s.type,s.pendingProps,o);case 15:return aT(i,s,s.type,s.pendingProps,o);case 19:return mT(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=Gh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Hr(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return oT(i,s,o);case 24:return Ha(s),c=bn(Zt),i===null?(m=xm(),m===null&&(m=St,g=Cm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Mm(s),ws(s,Zt,m)):((i.lanes&o)!==0&&(Pm(i,s),gu(s,null,null,o),pu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ws(s,Zt,c)):(c=g.cache,ws(s,Zt,c),c!==m.cache&&Rm(s,[Zt],o,!0))),fn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Wr(i){i.flags|=4}function gT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!SE(s)){if(s=Ci.current,s!==null&&((at&4194048)===at?dr!==null:(at&62914560)!==at&&(at&536870912)===0||s!==dr))throw du=Dm,J_;i.flags|=8192}}function Yh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ba():536870912,i.lanes|=s,Zo|=s)}function bu(i,s){if(!ht)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function It(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function Wx(i,s,o){var c=s.pendingProps;switch(wm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Kr(Zt),fi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(au(s)?Wr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$_())),It(s),null;case 26:return o=s.memoizedState,i===null?(Wr(s),o!==null?(It(s),gT(s,o)):(It(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Wr(s),It(s),gT(s,o)):(It(s),s.flags&=-16777217):(i.memoizedProps!==c&&Wr(s),It(s),s.flags&=-16777217),null;case 27:Tn(s),o=xe.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Wr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return It(s),null}i=Re.current,au(s)?Y_(s):(i=gE(m,c,o),s.stateNode=i,Wr(s))}return It(s),null;case 5:if(Tn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Wr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return It(s),null}if(i=Re.current,au(s))Y_(s);else{switch(m=af(xe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[ue]=s,i[pe]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(mn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wr(s)}}return It(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Wr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=xe.current,au(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Un,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[ue]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||uE(i.nodeValue,o)),i||za(s)}else i=af(i).createTextNode(c),i[ue]=s,s.stateNode=i}return It(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=au(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ue]=s}else ou(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),m=!1}else m=$_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Qr(s),s):(Qr(s),null)}if(Qr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Yh(s,s.updateQueue),It(s),null;case 4:return fi(),i===null&&Op(s.stateNode.containerInfo),It(s),null;case 10:return Kr(s.type),It(s),null;case 19:if(ge(Jt),m=s.memoizedState,m===null)return It(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)bu(m,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=zh(i),g!==null){for(s.flags|=128,bu(m,!1),i=g.updateQueue,s.updateQueue=i,Yh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)q_(o,i),o=o.sibling;return de(Jt,Jt.current&1|2),s.child}i=i.sibling}m.tail!==null&&Nn()>Qh&&(s.flags|=128,c=!0,bu(m,!1),s.lanes=4194304)}else{if(!c)if(i=zh(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Yh(s,i),bu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!ht)return It(s),null}else 2*Nn()-m.renderingStartTime>Qh&&o!==536870912&&(s.flags|=128,c=!0,bu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Nn(),s.sibling=null,i=Jt.current,de(Jt,c?i&1|2:i&1),s):(It(s),null);case 22:case 23:return Qr(s),km(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),o=s.updateQueue,o!==null&&Yh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ge(qa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Kr(Zt),It(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Zx(i,s){switch(wm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Kr(Zt),fi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Tn(s),null;case 13:if(Qr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ou()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ge(Jt),null;case 4:return fi(),null;case 10:return Kr(s.type),null;case 22:case 23:return Qr(s),km(),i!==null&&ge(qa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Kr(Zt),null;case 25:return null;default:return null}}function yT(i,s){switch(wm(s),s.tag){case 3:Kr(Zt),fi();break;case 26:case 27:case 5:Tn(s);break;case 4:fi();break;case 13:Qr(s);break;case 19:ge(Jt);break;case 10:Kr(s.type);break;case 22:case 23:Qr(s),km(),i!==null&&ge(qa);break;case 24:Kr(Zt)}}function Su(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(S){bt(s,s.return,S)}}function xs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,m=s;var V=o,Z=S;try{Z()}catch(se){bt(m,V,se)}}}c=c.next}while(c!==g)}}catch(se){bt(s,s.return,se)}}function vT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{s0(s,o)}catch(c){bt(i,i.return,c)}}}function _T(i,s,o){o.props=Ya(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){bt(i,s,c)}}function Au(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){bt(i,s,m)}}function mr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){bt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){bt(i,s,m)}else o.current=null}function TT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){bt(i,i.return,m)}}function cp(i,s,o){try{var c=i.stateNode;_D(c,i.type,o,s),c[pe]=s}catch(m){bt(i,i.return,m)}}function ET(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ls(i.type)||i.tag===4}function hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ET(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=sf));else if(c!==4&&(c===27&&Ls(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(fp(i,s,o),i=i.sibling;i!==null;)fp(i,s,o),i=i.sibling}function Kh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ls(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Kh(i,s,o),i=i.sibling;i!==null;)Kh(i,s,o),i=i.sibling}function wT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);mn(s,c,o),s[ue]=i,s[pe]=o}catch(g){bt(i,i.return,g)}}var Zr=!1,Lt=!1,dp=!1,bT=typeof WeakSet=="function"?WeakSet:Set,an=null;function Jx(i,s){if(i=i.containerInfo,Lp=ff,i=O_(i),hm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,S=-1,V=-1,Z=0,se=0,ce=i,J=null;t:for(;;){for(var ee;ce!==o||m!==0&&ce.nodeType!==3||(S=w+m),ce!==g||c!==0&&ce.nodeType!==3||(V=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===i)break t;if(J===o&&++Z===m&&(S=w),J===g&&++se===c&&(V=w),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:i,selectionRange:o},ff=!1,an=s;an!==null;)if(s=an,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,an=i;else for(;an!==null;){switch(s=an,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var je=Ya(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(je,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ne){bt(o,o.return,Ne)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)zp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,an=i;break}an=s.return}}function ST(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ds(i,o),c&4&&Su(5,o);break;case 1:if(Ds(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){bt(o,o.return,w)}else{var m=Ya(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){bt(o,o.return,w)}}c&64&&vT(o),c&512&&Au(o,o.return);break;case 3:if(Ds(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{s0(i,s)}catch(w){bt(o,o.return,w)}}break;case 27:s===null&&c&4&&wT(o);case 26:case 5:Ds(i,o),s===null&&c&4&&TT(o),c&512&&Au(o,o.return);break;case 12:Ds(i,o);break;case 13:Ds(i,o),c&4&&CT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=lD.bind(null,o),RD(i,o))));break;case 22:if(c=o.memoizedState!==null||Zr,!c){s=s!==null&&s.memoizedState!==null||Lt,m=Zr;var g=Lt;Zr=c,(Lt=s)&&!g?Ms(i,o,(o.subtreeFlags&8772)!==0):Ds(i,o),Zr=m,Lt=g}break;case 30:break;default:Ds(i,o)}}function AT(i){var s=i.alternate;s!==null&&(i.alternate=null,AT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ae(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,qn=!1;function Jr(i,s,o){for(o=o.child;o!==null;)RT(i,s,o),o=o.sibling}function RT(i,s,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:Lt||mr(o,s),Jr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||mr(o,s);var c=Ct,m=qn;Ls(o.type)&&(Ct=o.stateNode,qn=!1),Jr(i,s,o),Ou(o.stateNode),Ct=c,qn=m;break;case 5:Lt||mr(o,s);case 6:if(c=Ct,m=qn,Ct=null,Jr(i,s,o),Ct=c,qn=m,Ct!==null)if(qn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){bt(o,s,g)}else try{Ct.removeChild(o.stateNode)}catch(g){bt(o,s,g)}break;case 18:Ct!==null&&(qn?(i=Ct,mE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Fu(i)):mE(Ct,o.stateNode));break;case 4:c=Ct,m=qn,Ct=o.stateNode.containerInfo,qn=!0,Jr(i,s,o),Ct=c,qn=m;break;case 0:case 11:case 14:case 15:Lt||xs(2,o,s),Lt||xs(4,o,s),Jr(i,s,o);break;case 1:Lt||(mr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_T(o,s,c)),Jr(i,s,o);break;case 21:Jr(i,s,o);break;case 22:Lt=(c=Lt)||o.memoizedState!==null,Jr(i,s,o),Lt=c;break;default:Jr(i,s,o)}}function CT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fu(i)}catch(o){bt(s,s.return,o)}}function eD(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new bT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new bT),s;default:throw Error(r(435,i.tag))}}function mp(i,s){var o=eD(i);s.forEach(function(c){var m=uD.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function ni(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Ls(S.type)){Ct=S.stateNode,qn=!1;break e}break;case 5:Ct=S.stateNode,qn=!1;break e;case 3:case 4:Ct=S.stateNode.containerInfo,qn=!0;break e}S=S.return}if(Ct===null)throw Error(r(160));RT(g,w,m),Ct=null,qn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)IT(s,i),s=s.sibling}var Fi=null;function IT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ni(s,i),ii(i),c&4&&(xs(3,i,i.return),Su(3,i),xs(5,i,i.return));break;case 1:ni(s,i),ii(i),c&512&&(Lt||o===null||mr(o,o.return)),c&64&&Zr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Fi;if(ni(s,i),ii(i),c&512&&(Lt||o===null||mr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pe]||g[ue]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),mn(g,c,o),g[ue]=i,it(g),c=g;break e;case"link":var w=wE("link","href",m).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}g=m.createElement(c),mn(g,c,o),m.head.appendChild(g);break;case"meta":if(w=wE("meta","content",m).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}g=m.createElement(c),mn(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[ue]=i,it(g),c=g}i.stateNode=c}else bE(m,i.type,i.stateNode);else i.stateNode=EE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?bE(m,i.type,i.stateNode):EE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&cp(i,i.memoizedProps,o.memoizedProps)}break;case 27:ni(s,i),ii(i),c&512&&(Lt||o===null||mr(o,o.return)),o!==null&&c&4&&cp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ni(s,i),ii(i),c&512&&(Lt||o===null||mr(o,o.return)),i.flags&32){m=i.stateNode;try{_i(m,"")}catch(ee){bt(i,i.return,ee)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,cp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(dp=!0);break;case 6:if(ni(s,i),ii(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ee){bt(i,i.return,ee)}}break;case 3:if(uf=null,m=Fi,Fi=of(s.containerInfo),ni(s,i),Fi=m,ii(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Fu(s.containerInfo)}catch(ee){bt(i,i.return,ee)}dp&&(dp=!1,xT(i));break;case 4:c=Fi,Fi=of(i.stateNode.containerInfo),ni(s,i),ii(i),Fi=c;break;case 12:ni(s,i),ii(i);break;case 13:ni(s,i),ii(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tp=Nn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mp(i,c)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Z=Zr,se=Lt;if(Zr=Z||m,Lt=se||V,ni(s,i),Lt=se,Zr=Z,ii(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||Zr||Lt||Ka(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=V.stateNode;var ce=V.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){bt(V,V.return,ee)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ee){bt(V,V.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,mp(i,o))));break;case 19:ni(s,i),ii(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mp(i,c)));break;case 30:break;case 21:break;default:ni(s,i),ii(i)}}function ii(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(ET(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=hp(i);Kh(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(_i(w,""),o.flags&=-33);var S=hp(i);Kh(i,S,w);break;case 3:case 4:var V=o.stateNode.containerInfo,Z=hp(i);fp(i,Z,V);break;default:throw Error(r(161))}}catch(se){bt(i,i.return,se)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;xT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ds(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ST(i,s.alternate,s),s=s.sibling}function Ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:xs(4,s,s.return),Ka(s);break;case 1:mr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&_T(s,s.return,o),Ka(s);break;case 27:Ou(s.stateNode);case 26:case 5:mr(s,s.return),Ka(s);break;case 22:s.memoizedState===null&&Ka(s);break;case 30:Ka(s);break;default:Ka(s)}i=i.sibling}}function Ms(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(m,g,o),Su(4,g);break;case 1:if(Ms(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){bt(c,c.return,Z)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)r0(V[m],S)}catch(Z){bt(c,c.return,Z)}}o&&w&64&&vT(g),Au(g,g.return);break;case 27:wT(g);case 26:case 5:Ms(m,g,o),o&&c===null&&w&4&&TT(g),Au(g,g.return);break;case 12:Ms(m,g,o);break;case 13:Ms(m,g,o),o&&w&4&&CT(m,g);break;case 22:g.memoizedState===null&&Ms(m,g,o),Au(g,g.return);break;case 30:break;default:Ms(m,g,o)}s=s.sibling}}function pp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&cu(o))}function gp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&cu(i))}function pr(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DT(i,s,o,c),s=s.sibling}function DT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:pr(i,s,o,c),m&2048&&Su(9,s);break;case 1:pr(i,s,o,c);break;case 3:pr(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&cu(i)));break;case 12:if(m&2048){pr(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){bt(s,s.return,V)}}else pr(i,s,o,c);break;case 13:pr(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?pr(i,s,o,c):Ru(i,s):g._visibility&2?pr(i,s,o,c):(g._visibility|=2,Qo(i,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&pp(w,s);break;case 24:pr(i,s,o,c),m&2048&&gp(s.alternate,s);break;default:pr(i,s,o,c)}}function Qo(i,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,w=s,S=o,V=c,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Qo(g,w,S,V,m),Su(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?Qo(g,w,S,V,m):Ru(g,w):(se._visibility|=2,Qo(g,w,S,V,m)),m&&Z&2048&&pp(w.alternate,w);break;case 24:Qo(g,w,S,V,m),m&&Z&2048&&gp(w.alternate,w);break;default:Qo(g,w,S,V,m)}s=s.sibling}}function Ru(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Ru(o,c),m&2048&&pp(c.alternate,c);break;case 24:Ru(o,c),m&2048&&gp(c.alternate,c);break;default:Ru(o,c)}s=s.sibling}}var Cu=8192;function Xo(i){if(i.subtreeFlags&Cu)for(i=i.child;i!==null;)MT(i),i=i.sibling}function MT(i){switch(i.tag){case 26:Xo(i),i.flags&Cu&&i.memoizedState!==null&&jD(Fi,i.memoizedState,i.memoizedProps);break;case 5:Xo(i);break;case 3:case 4:var s=Fi;Fi=of(i.stateNode.containerInfo),Xo(i),Fi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Cu,Cu=16777216,Xo(i),Cu=s):Xo(i));break;default:Xo(i)}}function PT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Iu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];an=c,OT(c,i)}PT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)NT(i),i=i.sibling}function NT(i){switch(i.tag){case 0:case 11:case 15:Iu(i),i.flags&2048&&xs(9,i,i.return);break;case 3:Iu(i);break;case 12:Iu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,$h(i)):Iu(i);break;default:Iu(i)}}function $h(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];an=c,OT(c,i)}PT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:xs(8,s,s.return),$h(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,$h(s));break;default:$h(s)}i=i.sibling}}function OT(i,s){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:xs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,an=c;else e:for(o=i;an!==null;){c=an;var m=c.sibling,g=c.return;if(AT(c),c===o){an=null;break e}if(m!==null){m.return=g,an=m;break e}an=g}}}var tD={getCacheForType:function(i){var s=bn(Zt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},nD=typeof WeakMap=="function"?WeakMap:Map,pt=0,St=null,Ze=null,at=0,gt=0,ri=null,Ps=!1,Wo=!1,yp=!1,es=0,Nt=0,Ns=0,$a=0,vp=0,Ii=0,Zo=0,xu=null,Gn=null,_p=!1,Tp=0,Qh=1/0,Xh=null,Os=null,dn=0,Vs=null,Jo=null,el=0,Ep=0,wp=null,VT=null,Du=0,bp=null;function si(){if((pt&2)!==0&&at!==0)return at&-at;if(q.T!==null){var i=zo;return i!==0?i:Dp()}return j()}function kT(){Ii===0&&(Ii=(at&536870912)===0||ht?Or():536870912);var i=Ci.current;return i!==null&&(i.flags|=32),Ii}function ai(i,s,o){(i===St&&(gt===2||gt===9)||i.cancelPendingCommit!==null)&&(tl(i,0),ks(i,at,Ii,!1)),ji(i,o),((pt&2)===0||i!==St)&&(i===St&&((pt&2)===0&&($a|=o),Nt===4&&ks(i,at,Ii,!1)),gr(i))}function LT(i,s,o){if((pt&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||pi(i,s),m=c?sD(i,s):Rp(i,s,!0),g=c;do{if(m===0){Wo&&!c&&ks(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!iD(o)){m=Rp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=i;m=xu;var V=S.current.memoizedState.isDehydrated;if(V&&(tl(S,w).flags|=256),w=Rp(S,w,!1),w!==2){if(yp&&!V){S.errorRecoveryDisabledLanes|=g,$a|=g,m=4;break e}g=Gn,Gn=m,g!==null&&(Gn===null?Gn=g:Gn.push.apply(Gn,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){tl(i,0),ks(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ks(c,s,Ii,!Ps);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Tp+300-Nn(),10<m)){if(ks(c,s,Ii,!Ps),Nr(c,0,!0)!==0)break e;c.timeoutHandle=fE(UT.bind(null,c,o,Gn,Xh,_p,s,Ii,$a,Zo,Ps,g,2,-0,0),m);break e}UT(c,o,Gn,Xh,_p,s,Ii,$a,Zo,Ps,g,0,-0,0)}}break}while(!0);gr(i)}function UT(i,s,o,c,m,g,w,S,V,Z,se,ce,J,ee){if(i.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Lu={stylesheets:null,count:0,unsuspend:UD},MT(s),ce=BD(),ce!==null)){i.cancelPendingCommit=ce(GT.bind(null,i,s,g,o,c,m,w,S,V,se,1,J,ee)),ks(i,g,w,!Z);return}GT(i,s,g,o,c,m,w,S,V)}function iD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!ei(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(i,s,o,c){s&=~vp,s&=~$a,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-zt(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&On(i,o,s)}function Wh(){return(pt&6)===0?(Mu(0),!1):!0}function Sp(){if(Ze!==null){if(gt===0)var i=Ze.return;else i=Ze,Yr=Fa=null,zm(i),Ko=null,Eu=0,i=Ze;for(;i!==null;)yT(i.alternate,i),i=i.return;Ze=null}}function tl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ED(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Sp(),St=i,Ze=o=Hr(i.current,null),at=s,gt=0,ri=null,Ps=!1,Wo=pi(i,s),yp=!1,Zo=Ii=vp=$a=Ns=Nt=0,Gn=xu=null,_p=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-zt(c),g=1<<m;s|=i[m],c&=~g}return es=s,_h(),o}function jT(i,s){Ke=null,q.H=Uh,s===fu||s===Ih?(s=n0(),gt=3):s===J_?(s=n0(),gt=4):gt=s===iT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ri=s,Ze===null&&(Nt=1,Hh(i,bi(s,i.current)))}function BT(){var i=q.H;return q.H=Uh,i===null?Uh:i}function zT(){var i=q.A;return q.A=tD,i}function Ap(){Nt=4,Ps||(at&4194048)!==at&&Ci.current!==null||(Wo=!0),(Ns&134217727)===0&&($a&134217727)===0||St===null||ks(St,at,Ii,!1)}function Rp(i,s,o){var c=pt;pt|=2;var m=BT(),g=zT();(St!==i||at!==s)&&(Xh=null,tl(i,s)),s=!1;var w=Nt;e:do try{if(gt!==0&&Ze!==null){var S=Ze,V=ri;switch(gt){case 8:Sp(),w=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(s=!0);var Z=gt;if(gt=0,ri=null,nl(i,S,V,Z),o&&Wo){w=0;break e}break;default:Z=gt,gt=0,ri=null,nl(i,S,V,Z)}}rD(),w=Nt;break}catch(se){jT(i,se)}while(!0);return s&&i.shellSuspendCounter++,Yr=Fa=null,pt=c,q.H=m,q.A=g,Ze===null&&(St=null,at=0,_h()),w}function rD(){for(;Ze!==null;)FT(Ze)}function sD(i,s){var o=pt;pt|=2;var c=BT(),m=zT();St!==i||at!==s?(Xh=null,Qh=Nn()+500,tl(i,s)):Wo=pi(i,s);e:do try{if(gt!==0&&Ze!==null){s=Ze;var g=ri;t:switch(gt){case 1:gt=0,ri=null,nl(i,s,g,1);break;case 2:case 9:if(e0(g)){gt=0,ri=null,HT(s);break}s=function(){gt!==2&&gt!==9||St!==i||(gt=7),gr(i)},g.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:e0(g)?(gt=0,ri=null,HT(s)):(gt=0,ri=null,nl(i,s,g,7));break;case 5:var w=null;switch(Ze.tag){case 26:w=Ze.memoizedState;case 5:case 27:var S=Ze;if(!w||SE(w)){gt=0,ri=null;var V=S.sibling;if(V!==null)Ze=V;else{var Z=S.return;Z!==null?(Ze=Z,Zh(Z)):Ze=null}break t}}gt=0,ri=null,nl(i,s,g,5);break;case 6:gt=0,ri=null,nl(i,s,g,6);break;case 8:Sp(),Nt=6;break e;default:throw Error(r(462))}}aD();break}catch(se){jT(i,se)}while(!0);return Yr=Fa=null,q.H=c,q.A=m,pt=o,Ze!==null?0:(St=null,at=0,_h(),Nt)}function aD(){for(;Ze!==null&&!Ea();)FT(Ze)}function FT(i){var s=pT(i.alternate,i,es);i.memoizedProps=i.pendingProps,s===null?Zh(i):Ze=s}function HT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=uT(o,s,s.pendingProps,s.type,void 0,at);break;case 11:s=uT(o,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:zm(s);default:yT(o,s),s=Ze=q_(s,es),s=pT(o,s,es)}i.memoizedProps=i.pendingProps,s===null?Zh(i):Ze=s}function nl(i,s,o,c){Yr=Fa=null,zm(s),Ko=null,Eu=0;var m=s.return;try{if(Qx(i,m,s,o,at)){Nt=1,Hh(i,bi(o,i.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;Nt=1,Hh(i,bi(o,i.current)),Ze=null;return}s.flags&32768?(ht||c===1?i=!0:Wo||(at&536870912)!==0?i=!1:(Ps=i=!0,(c===2||c===9||c===3||c===6)&&(c=Ci.current,c!==null&&c.tag===13&&(c.flags|=16384))),qT(s,i)):Zh(s)}function Zh(i){var s=i;do{if((s.flags&32768)!==0){qT(s,Ps);return}i=s.return;var o=Wx(s.alternate,s,es);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=i}while(s!==null);Nt===0&&(Nt=5)}function qT(i,s){do{var o=Zx(i.alternate,i);if(o!==null){o.flags&=32767,Ze=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=o}while(i!==null);Nt=6,Ze=null}function GT(i,s,o,c,m,g,w,S,V){i.cancelPendingCommit=null;do Jh();while(dn!==0);if((pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=gm,ys(i,o,g,w,S,V),i===St&&(Ze=St=null,at=0),Jo=s,Vs=i,el=o,Ep=g,wp=m,VT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cD(Pr,function(){return XT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,m=ne.p,ne.p=2,w=pt,pt|=4;try{Jx(i,s,o)}finally{pt=w,ne.p=m,q.T=c}}dn=1,YT(),KT(),$T()}}function YT(){if(dn===1){dn=0;var i=Vs,s=Jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var c=ne.p;ne.p=2;var m=pt;pt|=4;try{IT(s,i);var g=Up,w=O_(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&N_(S.ownerDocument.documentElement,S)){if(V!==null&&hm(S)){var Z=V.start,se=V.end;if(se===void 0&&(se=Z),"selectionStart"in S)S.selectionStart=Z,S.selectionEnd=Math.min(se,S.value.length);else{var ce=S.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),je=S.textContent.length,Ne=Math.min(V.start,je),Et=V.end===void 0?Ne:Math.min(V.end,je);!ee.extend&&Ne>Et&&(w=Et,Et=Ne,Ne=w);var K=P_(S,Ne),F=P_(S,Et);if(K&&F&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),ee.removeAllRanges(),Ne>Et?(ee.addRange(X),ee.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),ee.addRange(X))}}}}for(ce=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ce.length;S++){var ae=ce[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ff=!!Lp,Up=Lp=null}finally{pt=m,ne.p=c,q.T=o}}i.current=s,dn=2}}function KT(){if(dn===2){dn=0;var i=Vs,s=Jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var c=ne.p;ne.p=2;var m=pt;pt|=4;try{ST(i,s.alternate,s)}finally{pt=m,ne.p=c,q.T=o}}dn=3}}function $T(){if(dn===4||dn===3){dn=0,wo();var i=Vs,s=Jo,o=el,c=VT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Jo=Vs=null,QT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Os=null),vs(o),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=q.T,m=ne.p,ne.p=2,q.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var S=c[w];g(S.value,{componentStack:S.stack})}}finally{q.T=s,ne.p=m}}(el&3)!==0&&Jh(),gr(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===bp?Du++:(Du=0,bp=i):Du=0,Mu(0)}}function QT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,cu(s)))}function Jh(i){return YT(),KT(),$T(),XT()}function XT(){if(dn!==5)return!1;var i=Vs,s=Ep;Ep=0;var o=vs(el),c=q.T,m=ne.p;try{ne.p=32>o?32:o,q.T=null,o=wp,wp=null;var g=Vs,w=el;if(dn=0,Jo=Vs=null,el=0,(pt&6)!==0)throw Error(r(331));var S=pt;if(pt|=4,NT(g.current),DT(g,g.current,w,o),pt=S,Mu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ct,g)}catch{}return!0}finally{ne.p=m,q.T=c,QT(i,s)}}function WT(i,s,o){s=bi(o,s),s=tp(i.stateNode,s,2),i=As(i,s,2),i!==null&&(ji(i,2),gr(i))}function bt(i,s,o){if(i.tag===3)WT(i,i,o);else for(;s!==null;){if(s.tag===3){WT(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Os===null||!Os.has(c))){i=bi(o,i),o=tT(2),c=As(s,o,2),c!==null&&(nT(o,c,s,i),ji(c,2),gr(c));break}}s=s.return}}function Cp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new nD;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(yp=!0,m.add(o),i=oD.bind(null,i,s,o),s.then(i,i))}function oD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,St===i&&(at&o)===o&&(Nt===4||Nt===3&&(at&62914560)===at&&300>Nn()-Tp?(pt&2)===0&&tl(i,0):vp|=o,Zo===at&&(Zo=0)),gr(i)}function ZT(i,s){s===0&&(s=ba()),i=Lo(i,s),i!==null&&(ji(i,s),gr(i))}function lD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),ZT(i,o)}function uD(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),ZT(i,o)}function cD(i,s){return Mr(i,s)}var ef=null,il=null,Ip=!1,tf=!1,xp=!1,Qa=0;function gr(i){i!==il&&i.next===null&&(il===null?ef=il=i:il=il.next=i),tf=!0,Ip||(Ip=!0,fD())}function Mu(i,s){if(!xp&&tf){xp=!0;do for(var o=!1,c=ef;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-zt(42|i)+1)-1,g&=m&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,nE(c,g))}else g=at,g=Nr(c,c===St?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||pi(c,g)||(o=!0,nE(c,g));c=c.next}while(o);xp=!1}}function hD(){JT()}function JT(){tf=Ip=!1;var i=0;Qa!==0&&(TD()&&(i=Qa),Qa=0);for(var s=Nn(),o=null,c=ef;c!==null;){var m=c.next,g=eE(c,s);g===0?(c.next=null,o===null?ef=m:o.next=m,m===null&&(il=o)):(o=c,(i!==0||(g&3)!==0)&&(tf=!0)),c=m}Mu(i)}function eE(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-zt(g),S=1<<w,V=m[w];V===-1?((S&o)===0||(S&c)!==0)&&(m[w]=gs(S,s)):V<=s&&(i.expiredLanes|=S),g&=~S}if(s=St,o=at,o=Nr(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(gt===2||gt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Pn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||pi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Pn(c),vs(o)){case 2:case 8:o=ds;break;case 32:o=Pr;break;case 268435456:o=di;break;default:o=Pr}return c=tE.bind(null,i),o=Mr(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Pn(c),i.callbackPriority=2,i.callbackNode=null,2}function tE(i,s){if(dn!==0&&dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Jh()&&i.callbackNode!==o)return null;var c=at;return c=Nr(i,i===St?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(LT(i,c,s),eE(i,Nn()),i.callbackNode!=null&&i.callbackNode===o?tE.bind(null,i):null)}function nE(i,s){if(Jh())return null;LT(i,s,!0)}function fD(){wD(function(){(pt&6)!==0?Mr(wa,hD):JT()})}function Dp(){return Qa===0&&(Qa=Or()),Qa}function iE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function rE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function dD(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=iE((m[pe]||null).action),w=c.submitter;w&&(s=(s=w[pe]||null)?iE(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var S=new Ro("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qa!==0){var V=w?rE(m,w):new FormData(m);Xm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=w?rE(m,w):new FormData(m),Xm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Mp=0;Mp<pm.length;Mp++){var Pp=pm[Mp],mD=Pp.toLowerCase(),pD=Pp[0].toUpperCase()+Pp.slice(1);zi(mD,"on"+pD)}zi(L_,"onAnimationEnd"),zi(U_,"onAnimationIteration"),zi(j_,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(Px,"onTransitionRun"),zi(Nx,"onTransitionStart"),zi(Ox,"onTransitionCancel"),zi(B_,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function sE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],V=S.instance,Z=S.currentTarget;if(S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=Z;try{g(m)}catch(se){Fh(se)}m.currentTarget=null,g=V}else for(w=0;w<c.length;w++){if(S=c[w],V=S.instance,Z=S.currentTarget,S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=Z;try{g(m)}catch(se){Fh(se)}m.currentTarget=null,g=V}}}}function Je(i,s){var o=s[Me];o===void 0&&(o=s[Me]=new Set);var c=i+"__bubble";o.has(c)||(aE(s,i,2,!1),o.add(c))}function Np(i,s,o){var c=0;s&&(c|=4),aE(o,i,c,s)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Op(i){if(!i[nf]){i[nf]=!0,Qe.forEach(function(o){o!=="selectionchange"&&(gD.has(o)||Np(o,!1,i),Np(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[nf]||(s[nf]=!0,Np("selectionchange",!1,s))}}function aE(i,s,o,c){switch(DE(s)){case 2:var m=HD;break;case 8:m=qD;break;default:m=$p}o=m.bind(null,s,o,i),m=void 0,!Ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Vp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===m)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;S!==null;){if(w=Ve(S),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=g=w;continue e}S=S.parentNode}}c=c.return}rh(function(){var Z=g,se=Ti(o),ce=[];e:{var J=z_.get(i);if(J!==void 0){var ee=Ro,je=i;switch(i){case"keypress":if(or(o)===0)break e;case"keydown":case"keyup":ee=Po;break;case"focusin":je="focus",ee=xo;break;case"focusout":je="blur",ee=xo;break;case"beforeblur":case"afterblur":ee=xo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=fh;break;case L_:case U_:case j_:ee=Do;break;case B_:ee=mh;break;case"scroll":case"scrollend":ee=sh;break;case"wheel":ee=No;break;case"copy":case"cut":case"paste":ee=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=nu;break;case"toggle":case"beforetoggle":ee=gh}var Ne=(s&4)!==0,Et=!Ne&&(i==="scroll"||i==="scrollend"),K=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var F=Z,X;F!==null;){var ae=F;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||K===null||(ae=Ia(F,K),ae!=null&&Ne.push(Nu(F,ae,X))),Et)break;F=F.return}0<Ne.length&&(J=new ee(J,je,null,o,se),ce.push({event:J,listeners:Ne}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&o!==Lr&&(je=o.relatedTarget||o.fromElement)&&(Ve(je)||je[Te]))break e;if((ee||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(je=o.relatedTarget||o.toElement,ee=Z,je=je?Ve(je):null,je!==null&&(Et=l(je),Ne=je.tag,je!==Et||Ne!==5&&Ne!==27&&Ne!==6)&&(je=null)):(ee=null,je=Z),ee!==je)){if(Ne=wi,ae="onMouseLeave",K="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=nu,ae="onPointerLeave",K="onPointerEnter",F="pointer"),Et=ee==null?J:ft(ee),X=je==null?J:ft(je),J=new Ne(ae,F+"leave",ee,o,se),J.target=Et,J.relatedTarget=X,ae=null,Ve(se)===Z&&(Ne=new Ne(K,F+"enter",je,o,se),Ne.target=X,Ne.relatedTarget=Et,ae=Ne),Et=ae,ee&&je)t:{for(Ne=ee,K=je,F=0,X=Ne;X;X=rl(X))F++;for(X=0,ae=K;ae;ae=rl(ae))X++;for(;0<F-X;)Ne=rl(Ne),F--;for(;0<X-F;)K=rl(K),X--;for(;F--;){if(Ne===K||K!==null&&Ne===K.alternate)break t;Ne=rl(Ne),K=rl(K)}Ne=null}else Ne=null;ee!==null&&oE(ce,J,ee,Ne,!1),je!==null&&Et!==null&&oE(ce,Et,je,Ne,!0)}}e:{if(J=Z?ft(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var be=R_;else if(Wt(J))if(C_)be=xx;else{be=Cx;var Xe=Rx}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Ql(Z.elementType)&&(be=R_):be=Ix;if(be&&(be=be(i,Z))){Fr(ce,be,o,se);break e}Xe&&Xe(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&Ts(J,"number",J.value)}switch(Xe=Z?ft(Z):window,i){case"focusin":(Wt(Xe)||Xe.contentEditable==="true")&&(Oo=Xe,fm=Z,su=null);break;case"focusout":su=fm=Oo=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,V_(ce,o,se);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":V_(ce,o,se)}var Ie;if(cr)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else rt?ie(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(E&&o.locale!=="ko"&&(rt||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&rt&&(Ie=Wl()):(ar=se,Es="value"in ar?ar.value:ar.textContent,rt=!0)),Xe=rf(Z,ke),0<Xe.length&&(ke=new eu(ke,i,null,o,se),ce.push({event:ke,listeners:Xe}),Ie?ke.data=Ie:(Ie=ye(o),Ie!==null&&(ke.data=Ie)))),(Ie=v?Xt(i,o):st(i,o))&&(ke=rf(Z,"onBeforeInput"),0<ke.length&&(Xe=new eu("onBeforeInput","beforeinput",null,o,se),ce.push({event:Xe,listeners:ke}),Xe.data=Ie)),dD(ce,i,Z,o,se)}sE(ce,s)})}function Nu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function rf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ia(i,o),m!=null&&c.unshift(Nu(i,m,g)),m=Ia(i,s),m!=null&&c.push(Nu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function rl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oE(i,s,o,c,m){for(var g=s._reactName,w=[];o!==null&&o!==c;){var S=o,V=S.alternate,Z=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||Z===null||(V=Z,m?(Z=Ia(o,g),Z!=null&&w.unshift(Nu(o,Z,V))):m||(Z=Ia(o,g),Z!=null&&w.push(Nu(o,Z,V)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var yD=/\r\n?/g,vD=/\u0000|\uFFFD/g;function lE(i){return(typeof i=="string"?i:""+i).replace(yD,`
`).replace(vD,"")}function uE(i,s){return s=lE(s),lE(i)===s}function sf(){}function Tt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||_i(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&_i(i,""+c);break;case"className":kn(i,"class",c);break;case"tabIndex":kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,c);break;case"style":$l(i,c,g);break;case"data":if(s!=="object"){kn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ao(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Tt(i,s,"name",m.name,m,null),Tt(i,s,"formEncType",m.formEncType,m,null),Tt(i,s,"formMethod",m.formMethod,m,null),Tt(i,s,"formTarget",m.formTarget,m,null)):(Tt(i,s,"encType",m.encType,m,null),Tt(i,s,"method",m.method,m,null),Tt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ao(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=sf);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ao(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Je("beforetoggle",i),Je("toggle",i),wn(i,"popover",c);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sm.get(o)||o,wn(i,o,c))}}function kp(i,s,o,c,m,g){switch(o){case"style":$l(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_i(i,c):(typeof c=="number"||typeof c=="bigint")&&_i(i,""+c);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[pe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):wn(i,o,c)}}}function mn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,g,w,o,null)}}m&&Tt(i,s,"srcSet",o.srcSet,o,null),c&&Tt(i,s,"src",o.src,o,null);return;case"input":Je("invalid",i);var S=g=w=m=null,V=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":m=se;break;case"type":w=se;break;case"checked":V=se;break;case"defaultChecked":Z=se;break;case"value":g=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:Tt(i,s,c,se,o,null)}}Aa(i,g,S,V,Z,w,m,!1),So(i);return;case"select":Je("invalid",i),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:Tt(i,s,m,S,o,null)}s=g,o=w,i.multiple=!!c,s!=null?kr(i,!!c,s,!1):o!=null&&kr(i,!!c,o,!0);return;case"textarea":Je("invalid",i),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Tt(i,s,w,S,o,null)}Ra(i,c,m,g),So(i);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Tt(i,s,V,c,o,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(c=0;c<Pu.length;c++)Je(Pu[c],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,Z,c,o,null)}return;default:if(Ql(s)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&kp(i,s,se,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&Tt(i,s,S,c,o,null))}function _D(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,S=null,V=null,Z=null,se=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=ce;default:c.hasOwnProperty(ee)||Tt(i,s,ee,null,c,ce)}}for(var J in c){var ee=c[J];if(ce=o[J],c.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":g=ee;break;case"name":m=ee;break;case"checked":Z=ee;break;case"defaultChecked":se=ee;break;case"value":w=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==ce&&Tt(i,s,J,ee,c,ce)}}Jn(i,w,S,V,Z,se,g,m);return;case"select":ee=w=S=J=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ee=V;default:c.hasOwnProperty(g)||Tt(i,s,g,null,c,V)}for(m in c)if(g=c[m],V=o[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":J=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==V&&Tt(i,s,m,g,c,V)}s=S,o=w,c=ee,J!=null?kr(i,!!o,J,!1):!!c!=!!o&&(s!=null?kr(i,!!o,s,!0):kr(i,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Tt(i,s,S,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Tt(i,s,w,m,c,g)}vt(i,J,ee);return;case"option":for(var je in o)if(J=o[je],o.hasOwnProperty(je)&&J!=null&&!c.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:Tt(i,s,je,null,c,J)}for(V in c)if(J=c[V],ee=o[V],c.hasOwnProperty(V)&&J!==ee&&(J!=null||ee!=null))switch(V){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Tt(i,s,V,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)J=o[Ne],o.hasOwnProperty(Ne)&&J!=null&&!c.hasOwnProperty(Ne)&&Tt(i,s,Ne,null,c,J);for(Z in c)if(J=c[Z],ee=o[Z],c.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Tt(i,s,Z,J,c,ee)}return;default:if(Ql(s)){for(var Et in o)J=o[Et],o.hasOwnProperty(Et)&&J!==void 0&&!c.hasOwnProperty(Et)&&kp(i,s,Et,void 0,c,J);for(se in c)J=c[se],ee=o[se],!c.hasOwnProperty(se)||J===ee||J===void 0&&ee===void 0||kp(i,s,se,J,c,ee);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&Tt(i,s,K,null,c,J);for(ce in c)J=c[ce],ee=o[ce],!c.hasOwnProperty(ce)||J===ee||J==null&&ee==null||Tt(i,s,ce,J,c,ee)}var Lp=null,Up=null;function af(i){return i.nodeType===9?i:i.ownerDocument}function cE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function jp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function TD(){var i=window.event;return i&&i.type==="popstate"?i===Bp?!1:(Bp=i,!0):(Bp=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,ED=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(i){return dE.resolve(null).then(i).catch(bD)}:fE;function bD(i){setTimeout(function(){throw i})}function Ls(i){return i==="head"}function mE(i,s){var o=s,c=0,m=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var w=i.ownerDocument;if(o&1&&Ou(w.documentElement),o&2&&Ou(w.body),o&4)for(o=w.head,Ou(o),w=o.firstChild;w;){var S=w.nextSibling,V=w.nodeName;w[Pe]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(m===0){i.removeChild(g),Fu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Fu(s)}function zp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zp(o),Ae(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SD(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pe])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Hi(i.nextSibling),i===null)break}return null}function AD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Hi(i.nextSibling),i===null))return null;return i}function Fp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function RD(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Hi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Hp=null;function pE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function gE(i,s,o){switch(s=af(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ou(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ae(i)}var xi=new Map,yE=new Set;function of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ts=ne.d;ne.d={f:CD,r:ID,D:xD,C:DD,L:MD,m:PD,X:OD,S:ND,M:VD};function CD(){var i=ts.f(),s=Wh();return i||s}function ID(i){var s=We(i);s!==null&&s.tag===5&&s.type==="form"?L0(s):ts.r(i)}var sl=typeof document>"u"?null:document;function vE(i,s,o){var c=sl;if(c&&typeof s=="string"&&s){var m=Ht(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),yE.has(m)||(yE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),mn(s,"link",i),it(s),c.head.appendChild(s)))}}function xD(i){ts.D(i),vE("dns-prefetch",i,null)}function DD(i,s){ts.C(i,s),vE("preconnect",i,s)}function MD(i,s,o){ts.L(i,s,o);var c=sl;if(c&&i&&s){var m='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ht(o.imageSizes)+'"]')):m+='[href="'+Ht(i)+'"]';var g=m;switch(s){case"style":g=al(i);break;case"script":g=ol(i)}xi.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),xi.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Vu(g))||s==="script"&&c.querySelector(ku(g))||(s=c.createElement("link"),mn(s,"link",i),it(s),c.head.appendChild(s)))}}function PD(i,s){ts.m(i,s);var o=sl;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ol(i)}if(!xi.has(g)&&(i=y({rel:"modulepreload",href:i},s),xi.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ku(g)))return}c=o.createElement("link"),mn(c,"link",i),it(c),o.head.appendChild(c)}}}function ND(i,s,o){ts.S(i,s,o);var c=sl;if(c&&i){var m=lt(c).hoistableStyles,g=al(i);s=s||"default";var w=m.get(g);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(Vu(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=xi.get(g))&&qp(i,o);var V=w=c.createElement("link");it(V),mn(V,"link",i),V._p=new Promise(function(Z,se){V.onload=Z,V.onerror=se}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,lf(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:S},m.set(g,w)}}}function OD(i,s){ts.X(i,s);var o=sl;if(o&&i){var c=lt(o).hoistableScripts,m=ol(i),g=c.get(m);g||(g=o.querySelector(ku(m)),g||(i=y({src:i,async:!0},s),(s=xi.get(m))&&Gp(i,s),g=o.createElement("script"),it(g),mn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function VD(i,s){ts.M(i,s);var o=sl;if(o&&i){var c=lt(o).hoistableScripts,m=ol(i),g=c.get(m);g||(g=o.querySelector(ku(m)),g||(i=y({src:i,async:!0,type:"module"},s),(s=xi.get(m))&&Gp(i,s),g=o.createElement("script"),it(g),mn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function _E(i,s,o,c){var m=(m=xe.current)?of(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=al(o.href),o=lt(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=al(o.href);var g=lt(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(Vu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),xi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xi.set(i,o),g||kD(m,i,o,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ol(o),o=lt(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function al(i){return'href="'+Ht(i)+'"'}function Vu(i){return'link[rel="stylesheet"]['+i+"]"}function TE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function kD(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),mn(s,"link",o),it(s),i.head.appendChild(s))}function ol(i){return'[src="'+Ht(i)+'"]'}function ku(i){return"script[async]"+i}function EE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(c)return s.instance=c,it(c),c;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),it(c),mn(c,"style",m),lf(c,o.precedence,i),s.instance=c;case"stylesheet":m=al(o.href);var g=i.querySelector(Vu(m));if(g)return s.state.loading|=4,s.instance=g,it(g),g;c=TE(o),(m=xi.get(m))&&qp(c,m),g=(i.ownerDocument||i).createElement("link"),it(g);var w=g;return w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),mn(g,"link",c),s.state.loading|=4,lf(g,o.precedence,i),s.instance=g;case"script":return g=ol(o.src),(m=i.querySelector(ku(g)))?(s.instance=m,it(m),m):(c=o,(m=xi.get(g))&&(c=y({},o),Gp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),it(m),mn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,lf(c,o.precedence,i));return s.instance}function lf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===s)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var uf=null;function wE(i,s,o){if(uf===null){var c=new Map,m=uf=new Map;m.set(o,c)}else m=uf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Pe]||g[ue]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var S=c.get(w);S?S.push(g):c.set(w,[g])}}return c}function bE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function LD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function SE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Lu=null;function UD(){}function jD(i,s,o){if(Lu===null)throw Error(r(475));var c=Lu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=al(o.href),g=i.querySelector(Vu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=cf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,it(g);return}g=i.ownerDocument||i,o=TE(o),(m=xi.get(m))&&qp(o,m),g=g.createElement("link"),it(g);var w=g;w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),mn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=cf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function BD(){if(Lu===null)throw Error(r(475));var i=Lu;return i.stylesheets&&i.count===0&&Yp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Yp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function cf(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hf=null;function Yp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hf=new Map,s.forEach(zD,i),hf=null,cf.call(i))}function zD(i,s){if(!(s.state.loading&4)){var o=hf.get(i);if(o)var c=o.get(null);else{o=new Map,hf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=cf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Uu={$$typeof:H,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function FD(i,s,o,c,m,g,w,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function AE(i,s,o,c,m,g,w,S,V,Z,se,ce){return i=new FD(i,s,o,w,S,V,Z,ce),s=1,g===!0&&(s|=24),g=ti(3,null,null,s),i.current=g,g.stateNode=i,s=Cm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Mm(g),i}function RE(i){return i?(i=Uo,i):Uo}function CE(i,s,o,c,m,g){m=RE(m),c.context===null?c.context=m:c.pendingContext=m,c=Ss(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=As(i,c,s),o!==null&&(ai(o,i,s),mu(o,i,s))}function IE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Kp(i,s){IE(i,s),(i=i.alternate)&&IE(i,s)}function xE(i){if(i.tag===13){var s=Lo(i,67108864);s!==null&&ai(s,i,67108864),Kp(i,67108864)}}var ff=!0;function HD(i,s,o,c){var m=q.T;q.T=null;var g=ne.p;try{ne.p=2,$p(i,s,o,c)}finally{ne.p=g,q.T=m}}function qD(i,s,o,c){var m=q.T;q.T=null;var g=ne.p;try{ne.p=8,$p(i,s,o,c)}finally{ne.p=g,q.T=m}}function $p(i,s,o,c){if(ff){var m=Qp(c);if(m===null)Vp(i,s,c,df,o),ME(i,c);else if(YD(m,i,s,o,c))c.stopPropagation();else if(ME(i,c),s&4&&-1<GD.indexOf(i)){for(;m!==null;){var g=We(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Xn(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var V=1<<31-zt(w);S.entanglements[1]|=V,w&=~V}gr(g),(pt&6)===0&&(Qh=Nn()+500,Mu(0))}}break;case 13:S=Lo(g,2),S!==null&&ai(S,g,2),Wh(),Kp(g,2)}if(g=Qp(c),g===null&&Vp(i,s,c,df,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Vp(i,s,c,null,o)}}function Qp(i){return i=Ti(i),Xp(i)}var df=null;function Xp(i){if(df=null,i=Ve(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return df=i,null}function DE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gl()){case wa:return 2;case ds:return 8;case Pr:case Ui:return 32;case di:return 268435456;default:return 32}default:return 32}}var Wp=!1,Us=null,js=null,Bs=null,ju=new Map,Bu=new Map,zs=[],GD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(i,s){switch(i){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(s.pointerId)}}function zu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=We(s),s!==null&&xE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function YD(i,s,o,c,m){switch(s){case"focusin":return Us=zu(Us,i,s,o,c,m),!0;case"dragenter":return js=zu(js,i,s,o,c,m),!0;case"mouseover":return Bs=zu(Bs,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return ju.set(g,zu(ju.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Bu.set(g,zu(Bu.get(g)||null,i,s,o,c,m)),!0}return!1}function PE(i){var s=Ve(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,$(i.priority,function(){if(o.tag===13){var c=si();c=nr(c);var m=Lo(o,c);m!==null&&ai(m,o,c),Kp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Qp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Lr=c,o.target.dispatchEvent(c),Lr=null}else return s=We(o),s!==null&&xE(s),i.blockedOn=o,!1;s.shift()}return!0}function NE(i,s,o){mf(i)&&o.delete(s)}function KD(){Wp=!1,Us!==null&&mf(Us)&&(Us=null),js!==null&&mf(js)&&(js=null),Bs!==null&&mf(Bs)&&(Bs=null),ju.forEach(NE),Bu.forEach(NE)}function pf(i,s){i.blockedOn===s&&(i.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KD)))}var gf=null;function OE(i){gf!==i&&(gf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gf===i&&(gf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Xp(c||o)===null)continue;break}var g=We(o);g!==null&&(i.splice(s,3),s-=3,Xm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Fu(i){function s(V){return pf(V,i)}Us!==null&&pf(Us,i),js!==null&&pf(js,i),Bs!==null&&pf(Bs,i),ju.forEach(s),Bu.forEach(s);for(var o=0;o<zs.length;o++){var c=zs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<zs.length&&(o=zs[0],o.blockedOn===null);)PE(o),o.blockedOn===null&&zs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[pe]||null;if(typeof g=="function")w||OE(o);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[pe]||null)S=w.formAction;else if(Xp(m)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),OE(o)}}}function Zp(i){this._internalRoot=i}yf.prototype.render=Zp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=si();CE(o,c,i,s,null,null)},yf.prototype.unmount=Zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;CE(i.current,2,null,i,null,null),Wh(),s[Te]=null}};function yf(i){this._internalRoot=i}yf.prototype.unstable_scheduleHydration=function(i){if(i){var s=j();i={blockedOn:null,target:i,priority:s};for(var o=0;o<zs.length&&s!==0&&s<zs[o].priority;o++);zs.splice(o,0,i),o===0&&PE(i)}};var VE=e.version;if(VE!=="19.1.0")throw Error(r(527,VE,"19.1.0"));ne.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var $D={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{ct=vf.inject($D),Ye=vf}catch{}}return qu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=W0,g=Z0,w=J0,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=AE(i,1,!1,null,null,o,c,m,g,w,S,null),i[Te]=s.current,Op(i),new Zp(s)},qu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=W0,w=Z0,S=J0,V=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),s=AE(i,1,!0,s,o??null,c,m,g,w,S,V,Z),s.context=RE(null),o=s.current,c=si(),c=nr(c),m=Ss(c),m.callback=null,As(o,m,c),o=c,s.current.lanes=o,ji(s,o),gr(s),i[Te]=s.current,Op(i),new yf(s)},qu.version="19.1.0",qu}var GE;function r2(){if(GE)return tg.exports;GE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=i2(),tg.exports}var s2=r2(),Gu={},YE;function a2(){if(YE)return Gu;YE=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.parse=u,Gu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,b){const C=new l,k=T.length;if(k<2)return C;const P=(b==null?void 0:b.decode)||y;let D=0;do{const Y=T.indexOf("=",D);if(Y===-1)break;const H=T.indexOf(";",D),re=H===-1?k:H;if(Y>re){D=T.lastIndexOf(";",Y-1)+1;continue}const te=h(T,D,Y),B=d(T,Y,te),M=T.slice(te,B);if(C[M]===void 0){let A=h(T,Y+1,re),x=d(T,re,A);const U=P(T.slice(A,x));C[M]=U}D=re+1}while(D<k);return C}function h(T,b,C){do{const k=T.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<C);return C}function d(T,b,C){for(;b>C;){const k=T.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return C}function p(T,b,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const P=k(b);if(!e.test(P))throw new TypeError(`argument val is invalid: ${b}`);let D=T+"="+P;if(!C)return D;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);D+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);D+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);D+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);D+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(D+="; HttpOnly"),C.secure&&(D+="; Secure"),C.partitioned&&(D+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return D}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return a.call(T)==="[object Date]"}return Gu}a2();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pA=t=>{throw TypeError(t)},o2=(t,e,n)=>e.has(t)||pA("Cannot "+n),sg=(t,e,n)=>(o2(t,e,"read from private field"),n?n.call(t):e.get(t)),l2=(t,e,n)=>e.has(t)?pA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),KE="popstate";function u2(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return vc("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ra(a)}return h2(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $t(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c2(){return Math.random().toString(36).substring(2,10)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function vc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||r||c2()}}function ra({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function h2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=y(),D=P==null?null:P-p;p=P,d&&d({action:h,location:k.location,delta:D})}function T(P,D){h="PUSH";let Y=vc(k.location,P,D);p=y()+1;let H=$E(Y,p),re=k.createHref(Y);try{u.pushState(H,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&d&&d({action:h,location:k.location,delta:1})}function b(P,D){h="REPLACE";let Y=vc(k.location,P,D);p=y();let H=$E(Y,p),re=k.createHref(Y);u.replaceState(H,"",re),l&&d&&d({action:h,location:k.location,delta:0})}function C(P){return gA(P)}let k={get action(){return h},get location(){return t(a,u)},listen(P){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(KE,_),d=P,()=>{a.removeEventListener(KE,_),d=null}},createHref(P){return e(a,P)},createURL:C,encodeLocation(P){let D=C(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:b,go(P){return u.go(P)}};return k}function gA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ra(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Xu,QE=class{constructor(t){if(l2(this,Xu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(sg(this,Xu).has(t))return sg(this,Xu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){sg(this,Xu).set(t,e)}};Xu=new WeakMap;var f2=new Set(["lazy","caseSensitive","path","id","index","children"]);function d2(t){return f2.has(t)}var m2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function p2(t){return m2.has(t)}function g2(t){return t.index===!0}function Kf(t,e,n=[],r={}){return t.map((a,l)=>{let u=[...n,String(l)],h=typeof a.id=="string"?a.id:u.join("-");if(et(a.index!==!0||!a.children,"Cannot specify children on an index route"),et(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),g2(a)){let d={...a,...e(a),id:h};return r[h]=d,d}else{let d={...a,...e(a),id:h,children:void 0};return r[h]=d,a.children&&(d.children=Kf(a.children,e,u,r)),d}})}function Ys(t,e,n="/"){return Df(t,e,n,!1)}function Df(t,e,n,r){let a=typeof e=="string"?ma(e):e,l=ki(a.pathname||"/",n);if(l==null)return null;let u=yA(t);v2(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=x2(l);h=C2(u[d],p,r)}return h}function y2(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function yA(t,e=[],n=[],r=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=vr([r,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yA(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:A2(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let d of vA(l.path))a(l,u,d)}),e}function vA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=vA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function v2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _2=/^:[\w-]+$/,T2=3,E2=2,w2=1,b2=10,S2=-2,XE=t=>t==="*";function A2(t,e){let n=t.split("/"),r=n.length;return n.some(XE)&&(r+=S2),e&&(r+=E2),n.filter(a=>!XE(a)).reduce((a,l)=>a+(_2.test(l)?T2:l===""?w2:b2),r)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function C2(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=$f({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=$f({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:vr([l,_.pathname]),pathnameBase:P2(vr([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=vr([l,_.pathnameBase]))}return u}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=I2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let C=h[T]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const b=h[T];return _&&!b?p[y]=void 0:p[y]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function I2(t,e=!1,n=!0){$t(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function x2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:M2(n,e):e,search:N2(r),hash:O2(a)}}function M2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uy(t){let e=_A(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,r=!1){let a;typeof t=="string"?a=ma(t):(a={...t},et(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}h=_>=0?e[_]:"/"}let d=D2(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),P2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Qf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _c(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TA=["POST","PUT","PATCH","DELETE"],V2=new Set(TA),k2=["GET",...TA],L2=new Set(k2),U2=new Set([301,302,303,307,308]),j2=new Set([307,308]),og={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},B2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},By=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),EA="remix-router-transitions",wA=Symbol("ResetLoaderData");function F2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],a=t.mapRouteProperties||z2,l={},u=Kf(t.routes,a,void 0,l),h,d=t.basename||"/",p=t.dataStrategy||K2,y={unstable_middleware:!1,...t.future},_=null,T=new Set,b=null,C=null,k=null,P=t.hydrationData!=null,D=Ys(u,t.history.location,d),Y=!1,H=null,re;if(D==null&&!t.patchRoutesOnNavigation){let j=Pi(404,{pathname:t.history.location.pathname}),{matches:$,route:W}=lw(u);re=!0,D=$,H={[W.id]:j}}else if(D&&!t.hydrationData&&On(D,u,t.history.location.pathname).active&&(D=null),D)if(D.some(j=>j.route.lazy))re=!1;else if(!D.some(j=>j.route.loader))re=!0;else{let j=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let W=D.findIndex(ue=>$[ue.route.id]!==void 0);re=D.slice(0,W+1).every(ue=>!Bg(ue.route,j,$))}else re=D.every(W=>!Bg(W.route,j,$))}else{re=!1,D=[];let j=On(null,u,t.history.location.pathname);j.active&&j.matches&&(Y=!0,D=j.matches)}let te,B={historyAction:t.history.action,location:t.history.location,matches:D,initialized:re,navigation:og,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},M="POP",A=!1,x,U=!1,z=new Map,G=null,N=!1,Oe=!1,fe=new Set,q=new Map,ne=0,me=-1,ve=new Map,O=new Set,oe=new Map,ge=new Map,de=new Set,Re=new Map,qe,xe=null;function Bt(){if(_=t.history.listen(({action:j,location:$,delta:W})=>{if(qe){qe(),qe=void 0;return}$t(Re.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=gs({currentLocation:B.location,nextLocation:$,historyAction:j});if(ue&&W!=null){let pe=new Promise(Te=>{qe=Te});t.history.go(W*-1),pi(ue,{state:"blocked",location:$,proceed(){pi(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),pe.then(()=>t.history.go(W))},reset(){let Te=new Map(B.blockers);Te.set(ue,Yu),Rt({blockers:Te})}});return}return Pn(j,$)}),n){rM(e,z);let j=()=>sM(e,z);e.addEventListener("pagehide",j),G=()=>e.removeEventListener("pagehide",j)}return B.initialized||Pn("POP",B.location,{initialHydration:!0}),te}function yt(){_&&_(),G&&G(),T.clear(),x&&x.abort(),B.fetchers.forEach((j,$)=>zt($)),B.blockers.forEach((j,$)=>Nr($))}function fi(j){return T.add(j),()=>T.delete(j)}function Rt(j,$={}){B={...B,...j};let W=[],ue=[];B.fetchers.forEach((pe,Te)=>{pe.state==="idle"&&(de.has(Te)?W.push(Te):ue.push(Te))}),de.forEach(pe=>{!B.fetchers.has(pe)&&!q.has(pe)&&W.push(pe)}),[...T].forEach(pe=>pe(B,{deletedFetchers:W,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),W.forEach(pe=>zt(pe)),ue.forEach(pe=>B.fetchers.delete(pe))}function Tn(j,$,{flushSync:W}={}){var Ce,Pe;let ue=B.actionData!=null&&B.navigation.formMethod!=null&&li(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Ce=j.state)==null?void 0:Ce._isRedirect)!==!0,pe;$.actionData?Object.keys($.actionData).length>0?pe=$.actionData:pe=null:ue?pe=B.actionData:pe=null;let Te=$.loaderData?aw(B.loaderData,$.loaderData,$.matches||[],$.errors):B.loaderData,Me=B.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Ae,Ve)=>Me.set(Ve,Yu)));let we=A===!0||B.navigation.formMethod!=null&&li(B.navigation.formMethod)&&((Pe=j.state)==null?void 0:Pe._isRedirect)!==!0;h&&(u=h,h=void 0),N||M==="POP"||(M==="PUSH"?t.history.push(j,j.state):M==="REPLACE"&&t.history.replace(j,j.state));let Se;if(M==="POP"){let Ae=z.get(B.location.pathname);Ae&&Ae.has(j.pathname)?Se={currentLocation:B.location,nextLocation:j}:z.has(j.pathname)&&(Se={currentLocation:j,nextLocation:B.location})}else if(U){let Ae=z.get(B.location.pathname);Ae?Ae.add(j.pathname):(Ae=new Set([j.pathname]),z.set(B.location.pathname,Ae)),Se={currentLocation:B.location,nextLocation:j}}Rt({...$,actionData:pe,loaderData:Te,historyAction:M,location:j,initialized:!0,navigation:og,revalidation:"idle",restoreScrollPosition:ys(j,$.matches||B.matches),preventScrollReset:we,blockers:Me},{viewTransitionOpts:Se,flushSync:W===!0}),M="POP",A=!1,U=!1,N=!1,Oe=!1,xe==null||xe.resolve(),xe=null}async function Wi(j,$){if(typeof j=="number"){t.history.go(j);return}let W=jg(B.location,B.matches,d,j,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:ue,submission:pe,error:Te}=WE(!1,W,$),Me=B.location,we=vc(B.location,ue,$&&$.state);we={...we,...t.history.encodeLocation(we)};let Se=$&&$.replace!=null?$.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||pe!=null&&li(pe.formMethod)&&pe.formAction===B.location.pathname+B.location.search&&(Ce="REPLACE");let Pe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ae=($&&$.flushSync)===!0,Ve=gs({currentLocation:Me,nextLocation:we,historyAction:Ce});if(Ve){pi(Ve,{state:"blocked",location:we,proceed(){pi(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Wi(j,$)},reset(){let We=new Map(B.blockers);We.set(Ve,Yu),Rt({blockers:We})}});return}await Pn(Ce,we,{submission:pe,pendingError:Te,preventScrollReset:Pe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ae})}function Mr(){xe||(xe=aM()),ps(),Rt({revalidation:"loading"});let j=xe.promise;return B.navigation.state==="submitting"?j:B.navigation.state==="idle"?(Pn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),j):(Pn(M||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:U===!0}),j)}async function Pn(j,$,W){x&&x.abort(),x=null,M=j,N=(W&&W.startUninterruptedRevalidation)===!0,ji(B.location,B.matches),A=(W&&W.preventScrollReset)===!0,U=(W&&W.enableViewTransition)===!0;let ue=h||u,pe=W&&W.overrideNavigation,Te=W!=null&&W.initialHydration&&B.matches&&B.matches.length>0&&!Y?B.matches:Ys(ue,$,d),Me=(W&&W.flushSync)===!0;if(Te&&B.initialized&&!Oe&&J2(B.location,$)&&!(W&&W.submission&&li(W.submission.formMethod))){Tn($,{matches:Te},{flushSync:Me});return}let we=On(Te,ue,$.pathname);if(we.active&&we.matches&&(Te=we.matches),!Te){let{error:lt,notFoundMatches:it,route:Qe}=Or($.pathname);Tn($,{matches:it,loaderData:{},errors:{[Qe.id]:lt}},{flushSync:Me});return}x=new AbortController;let Se=ll(t.history,$,x.signal,W&&W.submission),Ce=new QE(t.unstable_getContext?await t.unstable_getContext():void 0),Pe;if(W&&W.pendingError)Pe=[Ja(Te).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&li(W.submission.formMethod)){let lt=await Ea(Se,$,W.submission,Te,Ce,we.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Me});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[it,Qe]=lt.pendingActionResult;if(oi(Qe)&&_c(Qe.error)&&Qe.error.status===404){x=null,Tn($,{matches:lt.matches,loaderData:{},errors:{[it]:Qe.error}});return}}Te=lt.matches||Te,Pe=lt.pendingActionResult,pe=lg($,W.submission),Me=!1,we.active=!1,Se=ll(t.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:Ve,loaderData:We,errors:ft}=await wo(Se,$,Te,Ce,we.active,pe,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Me,Pe);Ae||(x=null,Tn($,{matches:Ve||Te,...ow(Pe),loaderData:We,errors:ft}))}async function Ea(j,$,W,ue,pe,Te,Me,we={}){ps();let Se=nM($,W);if(Rt({navigation:Se},{flushSync:we.flushSync===!0}),Te){let Ae=await tr(ue,$.pathname,j.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let Ve=Ja(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Ve,{type:"error",error:Ae.error}]}}else if(Ae.matches)ue=Ae.matches;else{let{notFoundMatches:Ve,error:We,route:ft}=Or($.pathname);return{matches:Ve,pendingActionResult:[ft.id,{type:"error",error:We}]}}}let Ce,Pe=Wu(ue,$);if(!Pe.route.action&&!Pe.route.lazy)Ce={type:"error",error:Pi(405,{method:j.method,pathname:$.pathname,routeId:Pe.route.id})};else{let Ae=_l(a,l,j,ue,Pe,Me?[]:r,pe),Ve=await di(j,Ae,pe,null);if(Ce=Ve[Pe.route.id],!Ce){for(let We of ue)if(Ve[We.route.id]){Ce=Ve[We.route.id];break}}if(j.signal.aborted)return{shortCircuited:!0}}if(eo(Ce)){let Ae;return we&&we.replace!=null?Ae=we.replace:Ae=iw(Ce.response.headers.get("Location"),new URL(j.url),d)===B.location.pathname+B.location.search,await Ui(j,Ce,!0,{submission:W,replace:Ae}),{shortCircuited:!0}}if(oi(Ce)){let Ae=Ja(ue,Pe.route.id);return(we&&we.replace)!==!0&&(M="PUSH"),{matches:ue,pendingActionResult:[Ae.route.id,Ce,Pe.route.id]}}return{matches:ue,pendingActionResult:[Pe.route.id,Ce]}}async function wo(j,$,W,ue,pe,Te,Me,we,Se,Ce,Pe,Ae){let Ve=Te||lg($,Me),We=Me||we||cw(Ve),ft=!N&&!Ce;if(pe){if(ft){let Ft=Nn(Ae);Rt({navigation:Ve,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:Pe})}let ze=await tr(W,$.pathname,j.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ft=Ja(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ft]:ze.error}}}else if(ze.matches)W=ze.matches;else{let{error:Ft,notFoundMatches:Zn,route:Fn}=Or($.pathname);return{matches:Zn,loaderData:{},errors:{[Fn.id]:Ft}}}}let lt=h||u,{dsMatches:it,revalidatingFetchers:Qe}=ZE(j,ue,a,l,t.history,B,W,We,$,Ce?[]:r,Ce===!0,Oe,fe,de,oe,O,lt,d,t.patchRoutesOnNavigation!=null,Ae);if(me=++ne,!t.dataStrategy&&!it.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Ji();return Tn($,{matches:W,loaderData:{},errors:Ae&&oi(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...ow(Ae),...ze?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(ft){let ze={};if(!pe){ze.navigation=Ve;let Ft=Nn(Ae);Ft!==void 0&&(ze.actionData=Ft)}Qe.length>0&&(ze.fetchers=Gl(Qe)),Rt(ze,{flushSync:Pe})}Qe.forEach(ze=>{mi(ze.key),ze.controller&&q.set(ze.key,ze.controller)});let yi=()=>Qe.forEach(ze=>mi(ze.key));x&&x.signal.addEventListener("abort",yi);let{loaderResults:Qt,fetcherResults:Vn}=await ms(it,Qe,j,ue);if(j.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",yi),Qe.forEach(ze=>q.delete(ze.key));let un=_f(Qt);if(un)return await Ui(j,un.result,!0,{replace:Se}),{shortCircuited:!0};if(un=_f(Vn),un)return O.add(un.key),await Ui(j,un.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:ir,errors:Wn}=sw(B,W,Qt,Ae,Qe,Vn);Ce&&B.errors&&(Wn={...B.errors,...Wn});let _s=Ji(),wn=er(me),kn=_s||wn||Qe.length>0;return{matches:W,loaderData:ir,errors:Wn,...kn?{fetchers:new Map(B.fetchers)}:{}}}function Nn(j){if(j&&!oi(j[1]))return{[j[0]]:j[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function Gl(j){return j.forEach($=>{let W=B.fetchers.get($.key),ue=Ku(void 0,W?W.data:void 0);B.fetchers.set($.key,ue)}),new Map(B.fetchers)}async function wa(j,$,W,ue){mi(j);let pe=(ue&&ue.flushSync)===!0,Te=h||u,Me=jg(B.location,B.matches,d,W,$,ue==null?void 0:ue.relative),we=Ys(Te,Me,d),Se=On(we,Te,Me);if(Se.active&&Se.matches&&(we=Se.matches),!we){Ye(j,$,Pi(404,{pathname:Me}),{flushSync:pe});return}let{path:Ce,submission:Pe,error:Ae}=WE(!0,Me,ue);if(Ae){Ye(j,$,Ae,{flushSync:pe});return}let Ve=Wu(we,Ce),We=new QE(t.unstable_getContext?await t.unstable_getContext():void 0),ft=(ue&&ue.preventScrollReset)===!0;if(Pe&&li(Pe.formMethod)){await ds(j,$,Ce,Ve,we,We,Se.active,pe,ft,Pe);return}oe.set(j,{routeId:$,path:Ce}),await Pr(j,$,Ce,Ve,we,We,Se.active,pe,ft,Pe)}async function ds(j,$,W,ue,pe,Te,Me,we,Se,Ce){ps(),oe.delete(j);function Pe(wt){if(!wt.route.action&&!wt.route.lazy){let vi=Pi(405,{method:Ce.formMethod,pathname:W,routeId:$});return Ye(j,$,vi,{flushSync:we}),!0}return!1}if(!Me&&Pe(ue))return;let Ae=B.fetchers.get(j);ct(j,iM(Ce,Ae),{flushSync:we});let Ve=new AbortController,We=ll(t.history,W,Ve.signal,Ce);if(Me){let wt=await tr(pe,W,We.signal,j);if(wt.type==="aborted")return;if(wt.type==="error"){Ye(j,$,wt.error,{flushSync:we});return}else if(wt.matches){if(pe=wt.matches,ue=Wu(pe,W),Pe(ue))return}else{Ye(j,$,Pi(404,{pathname:W}),{flushSync:we});return}}q.set(j,Ve);let ft=ne,lt=_l(a,l,We,pe,ue,r,Te),Qe=(await di(We,lt,Te,j))[ue.route.id];if(We.signal.aborted){q.get(j)===Ve&&q.delete(j);return}if(de.has(j)){if(eo(Qe)||oi(Qe)){ct(j,qs(void 0));return}}else{if(eo(Qe))if(q.delete(j),me>ft){ct(j,qs(void 0));return}else return O.add(j),ct(j,Ku(Ce)),Ui(We,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(oi(Qe)){Ye(j,$,Qe.error);return}}let yi=B.navigation.location||B.location,Qt=ll(t.history,yi,Ve.signal),Vn=h||u,un=B.navigation.state!=="idle"?Ys(Vn,B.navigation.location,d):B.matches;et(un,"Didn't find any matches after fetcher action");let ir=++ne;ve.set(j,ir);let Wn=Ku(Ce,Qe.data);B.fetchers.set(j,Wn);let{dsMatches:_s,revalidatingFetchers:wn}=ZE(Qt,Te,a,l,t.history,B,un,Ce,yi,r,!1,Oe,fe,de,oe,O,Vn,d,t.patchRoutesOnNavigation!=null,[ue.route.id,Qe]);wn.filter(wt=>wt.key!==j).forEach(wt=>{let vi=wt.key,Vr=B.fetchers.get(vi),cn=Ku(void 0,Vr?Vr.data:void 0);B.fetchers.set(vi,cn),mi(vi),wt.controller&&q.set(vi,wt.controller)}),Rt({fetchers:new Map(B.fetchers)});let kn=()=>wn.forEach(wt=>mi(wt.key));Ve.signal.addEventListener("abort",kn);let{loaderResults:ze,fetcherResults:Ft}=await ms(_s,wn,Qt,Te);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",kn),ve.delete(j),q.delete(j),wn.forEach(wt=>q.delete(wt.key)),B.fetchers.has(j)){let wt=qs(Qe.data);B.fetchers.set(j,wt)}let Zn=_f(ze);if(Zn)return Ui(Qt,Zn.result,!1,{preventScrollReset:Se});if(Zn=_f(Ft),Zn)return O.add(Zn.key),Ui(Qt,Zn.result,!1,{preventScrollReset:Se});let{loaderData:Fn,errors:rr}=sw(B,un,ze,void 0,wn,Ft);er(ir),B.navigation.state==="loading"&&ir>me?(et(M,"Expected pending action"),x&&x.abort(),Tn(B.navigation.location,{matches:un,loaderData:Fn,errors:rr,fetchers:new Map(B.fetchers)})):(Rt({errors:rr,loaderData:aw(B.loaderData,Fn,un,rr),fetchers:new Map(B.fetchers)}),Oe=!1)}async function Pr(j,$,W,ue,pe,Te,Me,we,Se,Ce){let Pe=B.fetchers.get(j);ct(j,Ku(Ce,Pe?Pe.data:void 0),{flushSync:we});let Ae=new AbortController,Ve=ll(t.history,W,Ae.signal);if(Me){let Qe=await tr(pe,W,Ve.signal,j);if(Qe.type==="aborted")return;if(Qe.type==="error"){Ye(j,$,Qe.error,{flushSync:we});return}else if(Qe.matches)pe=Qe.matches,ue=Wu(pe,W);else{Ye(j,$,Pi(404,{pathname:W}),{flushSync:we});return}}q.set(j,Ae);let We=ne,ft=_l(a,l,Ve,pe,ue,r,Te),it=(await di(Ve,ft,Te,j))[ue.route.id];if(q.get(j)===Ae&&q.delete(j),!Ve.signal.aborted){if(de.has(j)){ct(j,qs(void 0));return}if(eo(it))if(me>We){ct(j,qs(void 0));return}else{O.add(j),await Ui(Ve,it,!1,{preventScrollReset:Se});return}if(oi(it)){Ye(j,$,it.error);return}ct(j,qs(it.data))}}async function Ui(j,$,W,{submission:ue,fetcherSubmission:pe,preventScrollReset:Te,replace:Me}={}){$.response.headers.has("X-Remix-Revalidate")&&(Oe=!0);let we=$.response.headers.get("Location");et(we,"Expected a Location header on the redirect Response"),we=iw(we,new URL(j.url),d);let Se=vc(B.location,we,{_isRedirect:!0});if(n){let ft=!1;if($.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(By.test(we)){const lt=gA(we,!0);ft=lt.origin!==e.location.origin||ki(lt.pathname,d)==null}if(ft){Me?e.location.replace(we):e.location.assign(we);return}}x=null;let Ce=Me===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Ae,formEncType:Ve}=B.navigation;!ue&&!pe&&Pe&&Ae&&Ve&&(ue=cw(B.navigation));let We=ue||pe;if(j2.has($.response.status)&&We&&li(We.formMethod))await Pn(Ce,Se,{submission:{...We,formAction:we},preventScrollReset:Te||A,enableViewTransition:W?U:void 0});else{let ft=lg(Se,ue);await Pn(Ce,Se,{overrideNavigation:ft,fetcherSubmission:pe,preventScrollReset:Te||A,enableViewTransition:W?U:void 0})}}async function di(j,$,W,ue){let pe,Te={};try{pe=await $2(p,j,$,ue,W,!1)}catch(Me){return $.filter(we=>we.shouldLoad).forEach(we=>{Te[we.route.id]={type:"error",error:Me}}),Te}if(j.signal.aborted)return Te;for(let[Me,we]of Object.entries(pe))if(eM(we)){let Se=we.result;Te[Me]={type:"redirect",response:W2(Se,j,Me,$,d)}}else Te[Me]=await X2(we);return Te}async function ms(j,$,W,ue){let pe=di(W,j,ue,null),Te=Promise.all($.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Pe=(await di(Se.request,Se.matches,ue,Se.key))[Se.match.route.id];return{[Se.key]:Pe}}else return Promise.resolve({[Se.key]:{type:"error",error:Pi(404,{pathname:Se.path})}})})),Me=await pe,we=(await Te).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:Me,fetcherResults:we}}function ps(){Oe=!0,oe.forEach((j,$)=>{q.has($)&&fe.add($),mi($)})}function ct(j,$,W={}){B.fetchers.set(j,$),Rt({fetchers:new Map(B.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ye(j,$,W,ue={}){let pe=Ja(B.matches,$);zt(j),Rt({errors:{[pe.route.id]:W},fetchers:new Map(B.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function En(j){return ge.set(j,(ge.get(j)||0)+1),de.has(j)&&de.delete(j),B.fetchers.get(j)||B2}function zt(j){let $=B.fetchers.get(j);q.has(j)&&!($&&$.state==="loading"&&ve.has(j))&&mi(j),oe.delete(j),ve.delete(j),O.delete(j),de.delete(j),fe.delete(j),B.fetchers.delete(j)}function bo(j){let $=(ge.get(j)||0)-1;$<=0?(ge.delete(j),de.add(j)):ge.set(j,$),Rt({fetchers:new Map(B.fetchers)})}function mi(j){let $=q.get(j);$&&($.abort(),q.delete(j))}function Zi(j){for(let $ of j){let W=En($),ue=qs(W.data);B.fetchers.set($,ue)}}function Ji(){let j=[],$=!1;for(let W of O){let ue=B.fetchers.get(W);et(ue,`Expected fetcher: ${W}`),ue.state==="loading"&&(O.delete(W),j.push(W),$=!0)}return Zi(j),$}function er(j){let $=[];for(let[W,ue]of ve)if(ue<j){let pe=B.fetchers.get(W);et(pe,`Expected fetcher: ${W}`),pe.state==="loading"&&(mi(W),ve.delete(W),$.push(W))}return Zi($),$.length>0}function Xn(j,$){let W=B.blockers.get(j)||Yu;return Re.get(j)!==$&&Re.set(j,$),W}function Nr(j){B.blockers.delete(j),Re.delete(j)}function pi(j,$){let W=B.blockers.get(j)||Yu;et(W.state==="unblocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="proceeding"||W.state==="blocked"&&$.state==="unblocked"||W.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${$.state}`);let ue=new Map(B.blockers);ue.set(j,$),Rt({blockers:ue})}function gs({currentLocation:j,nextLocation:$,historyAction:W}){if(Re.size===0)return;Re.size>1&&$t(!1,"A router only supports one blocker at a time");let ue=Array.from(Re.entries()),[pe,Te]=ue[ue.length-1],Me=B.blockers.get(pe);if(!(Me&&Me.state==="proceeding")&&Te({currentLocation:j,nextLocation:$,historyAction:W}))return pe}function Or(j){let $=Pi(404,{pathname:j}),W=h||u,{matches:ue,route:pe}=lw(W);return{notFoundMatches:ue,route:pe,error:$}}function ba(j,$,W){if(b=j,k=$,C=W||null,!P&&B.navigation===og){P=!0;let ue=ys(B.location,B.matches);ue!=null&&Rt({restoreScrollPosition:ue})}return()=>{b=null,k=null,C=null}}function gi(j,$){return C&&C(j,$.map(ue=>y2(ue,B.loaderData)))||j.key}function ji(j,$){if(b&&k){let W=gi(j,$);b[W]=k()}}function ys(j,$){if(b){let W=gi(j,$),ue=b[W];if(typeof ue=="number")return ue}return null}function On(j,$,W){if(t.patchRoutesOnNavigation)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Df($,W,d,!0)}}else return{active:!0,matches:Df($,W,d,!0)||[]};return{active:!1,matches:null}}async function tr(j,$,W,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:j};let pe=j;for(;;){let Te=h==null,Me=h||u,we=l;try{await t.patchRoutesOnNavigation({signal:W,path:$,matches:pe,fetcherKey:ue,patch:(Pe,Ae)=>{W.aborted||JE(Pe,Ae,Me,we,a)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:pe}}finally{Te&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let Se=Ys(Me,$,d);if(Se)return{type:"success",matches:Se};let Ce=Df(Me,$,d,!0);if(!Ce||pe.length===Ce.length&&pe.every((Pe,Ae)=>Pe.route.id===Ce[Ae].route.id))return{type:"success",matches:null};pe=Ce}}function nr(j){l={},h=Kf(j,a,void 0,l)}function vs(j,$){let W=h==null;JE(j,$,h||u,l,a),W&&(u=[...u],Rt({}))}return te={get basename(){return d},get future(){return y},get state(){return B},get routes(){return u},get window(){return e},initialize:Bt,subscribe:fi,enableScrollRestoration:ba,navigate:Wi,fetch:wa,revalidate:Mr,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:En,deleteFetcher:bo,dispose:yt,getBlocker:Xn,deleteBlocker:Nr,patchRoutes:vs,_internalFetchControllers:q,_internalSetRoutes:nr},te}function H2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jg(t,e,n,r,a,l){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let d=jy(r||".",Uy(u),ki(t.pathname,n)||t.pathname,l==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let p=zy(d.search);if(h.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(d.search),_=y.getAll("index");y.delete("index"),_.filter(b=>b).forEach(b=>y.append("index",b));let T=y.toString();d.search=T?`?${T}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:vr([n,d.pathname])),ra(d)}function WE(t,e,n){if(!n||!H2(n))return{path:e};if(n.formMethod&&!tM(n.formMethod))return{path:e,error:Pi(405,{method:n.formMethod})};let r=()=>({path:e,error:Pi(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=IA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!li(l))return r();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[b,C])=>`${T}${b}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!li(l))return r();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=Fg(n.formData),d=n.formData;else if(n.body instanceof FormData)h=Fg(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=rw(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=rw(h)}catch{return r()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(li(p.formMethod))return{path:e,submission:p};let y=ma(e);return t&&y.search&&zy(y.search)&&h.append("index",""),y.search=`?${h}`,{path:ra(y),submission:p}}function ZE(t,e,n,r,a,l,u,h,d,p,y,_,T,b,C,k,P,D,Y,H){var N;let re=H?oi(H[1])?H[1].error:H[1].data:void 0,te=a.createURL(l.location),B=a.createURL(d),M;if(y&&l.errors){let Oe=Object.keys(l.errors)[0];M=u.findIndex(fe=>fe.route.id===Oe)}else if(H&&oi(H[1])){let Oe=H[0];M=u.findIndex(fe=>fe.route.id===Oe)-1}let A=H?H[1].statusCode:void 0,x=A&&A>=400,U={currentUrl:te,currentParams:((N=l.matches[0])==null?void 0:N.params)||{},nextUrl:B,nextParams:u[0].params,...h,actionResult:re,actionStatus:A},z=u.map((Oe,fe)=>{let{route:q}=Oe,ne=null;if(M!=null&&fe>M?ne=!1:q.lazy?ne=!0:q.loader==null?ne=!1:y?ne=Bg(q,l.loaderData,l.errors):q2(l.loaderData,l.matches[fe],Oe)&&(ne=!0),ne!==null)return zg(n,r,t,Oe,p,e,ne);let me=x?!1:_||te.pathname+te.search===B.pathname+B.search||te.search!==B.search||G2(l.matches[fe],Oe),ve={...U,defaultShouldRevalidate:me},O=Xf(Oe,ve);return zg(n,r,t,Oe,p,e,O,ve)}),G=[];return C.forEach((Oe,fe)=>{if(y||!u.some(de=>de.route.id===Oe.routeId)||b.has(fe))return;let q=l.fetchers.get(fe),ne=q&&q.state!=="idle"&&q.data===void 0,me=Ys(P,Oe.path,D);if(!me){if(Y&&ne)return;G.push({key:fe,routeId:Oe.routeId,path:Oe.path,matches:null,match:null,request:null,controller:null});return}if(k.has(fe))return;let ve=Wu(me,Oe.path),O=new AbortController,oe=ll(a,Oe.path,O.signal),ge=null;if(T.has(fe))T.delete(fe),ge=_l(n,r,oe,me,ve,p,e);else if(ne)_&&(ge=_l(n,r,oe,me,ve,p,e));else{let de={...U,defaultShouldRevalidate:x?!1:_};Xf(ve,de)&&(ge=_l(n,r,oe,me,ve,p,e,de))}ge&&G.push({key:fe,routeId:Oe.routeId,path:Oe.path,matches:ge,match:ve,request:oe,controller:O})}),{dsMatches:z,revalidatingFetchers:G}}function Bg(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function q2(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function G2(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function JE(t,e,n,r,a){let l;if(t){let d=r[t];et(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),l=d.children}else l=n;let u=e.filter(d=>!l.some(p=>bA(d,p))),h=Kf(u,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...h)}function bA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(l=>bA(n,l))}):!1}var ew=new WeakMap,SA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let u=ew.get(a);u||(u={},ew.set(a,u));let h=u[t];if(h)return h;let d=(async()=>{let p=d2(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(p)$t(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)$t(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let T=await l();T!=null&&(Object.assign(a,{[t]:T}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(T=>T===void 0)&&(a.lazy=void 0))})();return u[t]=d,d},tw=new WeakMap;function Y2(t,e,n,r,a){let l=n[t.id];if(et(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=tw.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{et(typeof t.lazy=="function","No lazy route function found");let T=await t.lazy(),b={};for(let C in T){let k=T[C];if(k===void 0)continue;let P=p2(C),Y=l[C]!==void 0&&C!=="hasErrorBoundary";P?$t(!P,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Y?$t(!Y,`Route "${l.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):b[C]=k}Object.assign(l,b),Object.assign(l,{...r(l),lazy:void 0})})();return tw.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),h=[],d;for(let y of u){if(a&&a.includes(y))continue;let _=SA({key:y,route:t,manifest:n,mapRouteProperties:r});_&&(h.push(_),y===e&&(d=_))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:d}}async function nw(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function K2(t){return t.matches.some(e=>e.route.unstable_middleware)?AA(t,!1,()=>nw(t),(e,n)=>({[n]:{type:"error",result:e}})):nw(t)}async function AA(t,e,n,r){let{matches:a,request:l,params:u,context:h}=t,d={handlerResult:void 0};try{let p=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(T=>[_.route.id,T]):[]),y=await RA({request:l,params:u,context:h},p,e,d,n);return e?y:d.handlerResult}catch(p){if(!d.middlewareError)throw p;let y=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,y):y}}async function RA(t,e,n,r,a,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[l];if(!h)return r.handlerResult=await a(),r.handlerResult;let[d,p]=h,y=!1,_,T=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await RA(t,e,n,r,a,l+1)};try{let b=await p({request:t.request,params:t.params,context:t.context},T);return y?b===void 0?_:b:T()}catch(b){throw r.middlewareError?r.middlewareError.error!==b&&(r.middlewareError={routeId:d,error:b}):r.middlewareError={routeId:d,error:b},b}}function CA(t,e,n,r,a){let l=SA({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=Y2(r.route,li(n.method)?"action":"loader",e,t,a);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function zg(t,e,n,r,a,l,u,h=null){let d=!1,p=CA(t,e,n,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return d=!0,h?typeof y=="boolean"?Xf(r,{...h,defaultShouldRevalidate:y}):Xf(r,h):u},resolve(y){return d||u||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Q2({request:n,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function _l(t,e,n,r,a,l,u,h=null){return r.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:CA(t,e,n,d,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:zg(t,e,n,d,l,u,!0,h))}async function $2(t,e,n,r,a,l){n.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:n[0].params,context:a,matches:n},d=await t({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return AA(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,T)=>({[T]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(p=>{var y,_;return[(y=p._lazyPromises)==null?void 0:y.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return d}async function Q2({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:a,scopedContext:l}){let u,h,d=li(t.method),p=d?"action":"loader",y=_=>{let T,b=new Promise((P,D)=>T=D);h=()=>T(),t.signal.addEventListener("abort",h);let C=P=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...P!==void 0?[P]:[]),k=(async()=>{try{return{type:"data",result:await(a?a(D=>C(D)):C())}}catch(P){return{type:"error",result:P}}})();return Promise.race([k,b])};try{let _=d?e.route.action:e.route.loader;if(n||r)if(_){let T,[b]=await Promise.all([y(_).catch(C=>{T=C}),n,r]);if(T!==void 0)throw T;u=b}else{await n;let T=d?e.route.action:e.route.loader;if(T)[u]=await Promise.all([y(T),r]);else if(p==="action"){let b=new URL(t.url),C=b.pathname+b.search;throw Pi(405,{method:t.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let T=new URL(t.url),b=T.pathname+T.search;throw Pi(404,{pathname:b})}}catch(_){return{type:"error",result:_}}finally{h&&t.signal.removeEventListener("abort",h)}return u}async function X2(t){var r,a,l,u,h,d;let{result:e,type:n}=t;if(xA(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new Qf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?uw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Qf(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:_c(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_c(e)?e.status:void 0}:uw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function W2(t,e,n,r,a){let l=t.headers.get("Location");if(et(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!By.test(l)){let u=r.slice(0,r.findIndex(h=>h.route.id===n)+1);l=jg(new URL(e.url),u,a,l),t.headers.set("Location",l)}return t}function iw(t,e,n){if(By.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),l=ki(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function ll(t,e,n,r){let a=t.createURL(IA(e)).toString(),l={signal:n};if(r&&li(r.formMethod)){let{formMethod:u,formEncType:h}=r;l.method=u.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(r.json)):h==="text/plain"?l.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?l.body=Fg(r.formData):l.body=r.formData}return new Request(a,l)}function Fg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function rw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Z2(t,e,n,r=!1,a=!1){let l={},u=null,h,d=!1,p={},y=n&&oi(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,b=e[T];if(et(!eo(b),"Cannot handle redirect results in processLoaderData"),oi(b)){let C=b.error;if(y!==void 0&&(C=y,y=void 0),u=u||{},a)u[T]=C;else{let k=Ja(t,T);u[k.route.id]==null&&(u[k.route.id]=C)}r||(l[T]=wA),d||(d=!0,h=_c(b.error)?b.error.status:500),b.headers&&(p[T]=b.headers)}else l[T]=b.data,b.statusCode&&b.statusCode!==200&&!d&&(h=b.statusCode),b.headers&&(p[T]=b.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:h||200,loaderHeaders:p}}function sw(t,e,n,r,a,l){let{loaderData:u,errors:h}=Z2(e,n,r);return a.filter(d=>!d.matches||d.matches.some(p=>p.shouldLoad)).forEach(d=>{let{key:p,match:y,controller:_}=d,T=l[p];if(et(T,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(oi(T)){let b=Ja(t.matches,y==null?void 0:y.route.id);h&&h[b.route.id]||(h={...h,[b.route.id]:T.error}),t.fetchers.delete(p)}else if(eo(T))et(!1,"Unhandled fetcher revalidation redirect");else{let b=qs(T.data);t.fetchers.set(p,b)}}),{loaderData:u,errors:h}}function aw(t,e,n,r){let a=Object.entries(e).filter(([,l])=>l!==wA).reduce((l,[u,h])=>(l[u]=h,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function ow(t){return t?oi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ja(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function lw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pi(t,{pathname:e,routeId:n,method:r,type:a,message:l}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Qf(t||500,u,new Error(h),!0)}function _f(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(eo(a))return{key:r,result:a}}}function IA(t){let e=typeof t=="string"?ma(t):t;return ra({...e,hash:""})}function J2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eM(t){return xA(t.result)&&U2.has(t.result.status)}function oi(t){return t.type==="error"}function eo(t){return(t&&t.type)==="redirect"}function uw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function xA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function tM(t){return L2.has(t.toUpperCase())}function li(t){return V2.has(t.toUpperCase())}function zy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wu(t,e){let n=typeof e=="string"?ma(e).search:e.search;if(t[t.length-1].route.index&&zy(n||""))return t[t.length-1];let r=_A(t);return r[r.length-1]}function cw(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:l,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function lg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ku(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rM(t,e){try{let n=t.sessionStorage.getItem(EA);if(n){let r=JSON.parse(n);for(let[a,l]of Object.entries(r||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function sM(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(EA,JSON.stringify(n))}catch(r){$t(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function aM(){let t,e,n=new Promise((r,a)=>{t=async l=>{r(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var po=L.createContext(null);po.displayName="DataRouter";var Lc=L.createContext(null);Lc.displayName="DataRouterState";var Fy=L.createContext({isTransitioning:!1});Fy.displayName="ViewTransition";var DA=L.createContext(new Map);DA.displayName="Fetchers";var oM=L.createContext(null);oM.displayName="Await";var Ir=L.createContext(null);Ir.displayName="Navigation";var Ad=L.createContext(null);Ad.displayName="Location";var xr=L.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Hy=L.createContext(null);Hy.displayName="RouteError";function lM(t,{relative:e}={}){et(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Ir),{hash:a,pathname:l,search:u}=jc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:vr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Uc(){return L.useContext(Ad)!=null}function go(){return et(Uc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ad).location}var MA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PA(t){L.useContext(Ir).static||L.useLayoutEffect(t)}function Rd(){let{isDataRoute:t}=L.useContext(xr);return t?EM():uM()}function uM(){et(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(po),{basename:e,navigator:n}=L.useContext(Ir),{matches:r}=L.useContext(xr),{pathname:a}=go(),l=JSON.stringify(Uy(r)),u=L.useRef(!1);return PA(()=>{u.current=!0}),L.useCallback((d,p={})=>{if($t(u.current,MA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=jy(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}L.createContext(null);function NA(){let{matches:t}=L.useContext(xr),e=t[t.length-1];return e?e.params:{}}function jc(t,{relative:e}={}){let{matches:n}=L.useContext(xr),{pathname:r}=go(),a=JSON.stringify(Uy(n));return L.useMemo(()=>jy(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function cM(t,e,n,r){et(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Ir),{matches:l}=L.useContext(xr),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let D=y&&y.path||"";OA(d,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=go(),T;T=_;let b=T.pathname||"/",C=b;if(p!=="/"){let D=p.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=Ys(t,{pathname:C});return $t(y||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$t(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pM(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:vr([p,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:vr([p,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,r)}function hM(){let t=TM(),e=_c(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var fM=L.createElement(hM,null),dM=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(xr.Provider,{value:this.props.routeContext},L.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mM({routeContext:t,match:e,children:n}){let r=L.useContext(po);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(xr.Provider,{value:t},n)}function pM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);et(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:_}=n,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,y)=>{let _,T=!1,b=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||fM,u&&(h<0&&y===0?(OA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):h===y&&(T=!0,C=p.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),P=()=>{let D;return _?D=b:T?D=C:p.route.Component?D=L.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=d,L.createElement(mM,{match:p,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?L.createElement(dM,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gM(t){let e=L.useContext(po);return et(e,qy(t)),e}function yM(t){let e=L.useContext(Lc);return et(e,qy(t)),e}function vM(t){let e=L.useContext(xr);return et(e,qy(t)),e}function Gy(t){let e=vM(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _M(){return Gy("useRouteId")}function TM(){var r;let t=L.useContext(Hy),e=yM("useRouteError"),n=Gy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function EM(){let{router:t}=gM("useNavigate"),e=Gy("useNavigate"),n=L.useRef(!1);return PA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{$t(n.current,MA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var hw={};function OA(t,e,n){!e&&!hw[t]&&(hw[t]=!0,$t(!1,n))}var fw={};function dw(t,e){!t&&!fw[e]&&(fw[e]=!0,console.warn(e))}function wM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:L.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var bM=["HydrateFallback","hydrateFallbackElement"],SM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function AM({router:t,flushSync:e}){let[n,r]=L.useState(t.state),[a,l]=L.useState(),[u,h]=L.useState({isTransitioning:!1}),[d,p]=L.useState(),[y,_]=L.useState(),[T,b]=L.useState(),C=L.useRef(new Map),k=L.useCallback((H,{deletedFetchers:re,flushSync:te,viewTransitionOpts:B})=>{H.fetchers.forEach((A,x)=>{A.data!==void 0&&C.current.set(x,A.data)}),re.forEach(A=>C.current.delete(A)),dw(te===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(dw(B==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!M){e&&te?e(()=>r(H)):L.startTransition(()=>r(H));return}if(e&&te){e(()=>{y&&(d&&d.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let A=t.window.document.startViewTransition(()=>{e(()=>r(H))});A.finished.finally(()=>{e(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>_(A));return}y?(d&&d.resolve(),y.skipTransition(),b({state:H,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(l(H),h({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,y,d]);L.useLayoutEffect(()=>t.subscribe(k),[t,k]),L.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new SM)},[u]),L.useEffect(()=>{if(d&&a&&t.window){let H=a,re=d.promise,te=t.window.document.startViewTransition(async()=>{L.startTransition(()=>r(H)),await re});te.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(te)}},[a,d,t.window]),L.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,y,n.location,a]),L.useEffect(()=>{!u.isTransitioning&&T&&(l(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),b(void 0))},[u.isTransitioning,T]);let P=L.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,re,te)=>t.navigate(H,{state:re,preventScrollReset:te==null?void 0:te.preventScrollReset}),replace:(H,re,te)=>t.navigate(H,{replace:!0,state:re,preventScrollReset:te==null?void 0:te.preventScrollReset})}),[t]),D=t.basename||"/",Y=L.useMemo(()=>({router:t,navigator:P,static:!1,basename:D}),[t,P,D]);return L.createElement(L.Fragment,null,L.createElement(po.Provider,{value:Y},L.createElement(Lc.Provider,{value:n},L.createElement(DA.Provider,{value:C.current},L.createElement(Fy.Provider,{value:u},L.createElement(IM,{basename:D,location:n.location,navigationType:n.historyAction,navigator:P},L.createElement(RM,{routes:t.routes,future:t.future,state:n})))))),null)}var RM=L.memo(CM);function CM({routes:t,future:e,state:n}){return cM(t,void 0,n,e)}function IM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){et(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ma(n));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:T="default"}=n,b=L.useMemo(()=>{let C=ki(d,u);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:T},navigationType:r}},[u,d,p,y,_,T,r]);return $t(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(Ir.Provider,{value:h},L.createElement(Ad.Provider,{children:e,value:b}))}var Mf="get",Pf="application/x-www-form-urlencoded";function Cd(t){return t!=null&&typeof t.tagName=="string"}function xM(t){return Cd(t)&&t.tagName.toLowerCase()==="button"}function DM(t){return Cd(t)&&t.tagName.toLowerCase()==="form"}function MM(t){return Cd(t)&&t.tagName.toLowerCase()==="input"}function PM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NM(t,e){return t.button===0&&(!e||e==="_self")&&!PM(t)}var Tf=null;function OM(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var VM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(t){return t!=null&&!VM.has(t)?($t(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function kM(t,e){let n,r,a,l,u;if(DM(t)){let h=t.getAttribute("action");r=h?ki(h,e):null,n=t.getAttribute("method")||Mf,a=ug(t.getAttribute("enctype"))||Pf,l=new FormData(t)}else if(xM(t)||MM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?ki(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Mf,a=ug(t.getAttribute("formenctype"))||ug(h.getAttribute("enctype"))||Pf,l=new FormData(h,t),!OM()){let{name:p,type:y,value:_}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(Cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,r=null,a=Pf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}function Yy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await LM(l,n);return u.links?u.links():[]}return[]}));return HM(r.flat(1).filter(UM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mw(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function BM(t,e,{includeHydrateFallback:n}={}){return zM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zM(t){return[...new Set(t)]}function FM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(FM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qM=new Set([100,101,204,205]);function GM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ki(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function VA(){let t=L.useContext(po);return Yy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YM(){let t=L.useContext(Lc);return Yy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ky=L.createContext(void 0);Ky.displayName="FrameworkContext";function kA(){let t=L.useContext(Ky);return Yy(t,"You must render this element inside a <HydratedRouter> element"),t}function KM(t,e){let n=L.useContext(Ky),[r,a]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,T=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=D=>{D.forEach(Y=>{u(Y.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[t]),L.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let b=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:$u(h,b),onBlur:$u(d,C),onMouseEnter:$u(p,b),onMouseLeave:$u(y,C),onTouchStart:$u(_,b)}]:[!1,T,{}]}function $u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $M({page:t,...e}){let{router:n}=VA(),r=L.useMemo(()=>Ys(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(XM,{page:t,matches:r,...e}):null}function QM(t){let{manifest:e,routeModules:n}=kA(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return jM(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function XM({page:t,matches:e,...n}){let r=go(),{manifest:a,routeModules:l}=kA(),{basename:u}=VA(),{loaderData:h,matches:d}=YM(),p=L.useMemo(()=>mw(t,e,d,a,r,"data"),[t,e,d,a,r]),y=L.useMemo(()=>mw(t,e,d,a,r,"assets"),[t,e,d,a,r]),_=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(D=>{var H;let Y=a.routes[D.route.id];!Y||!Y.hasLoader||(!p.some(re=>re.route.id===D.route.id)&&D.route.id in h&&((H=l[D.route.id])!=null&&H.shouldRevalidate)||Y.hasClientLoader?k=!0:C.add(D.route.id))}),C.size===0)return[];let P=GM(t,u);return k&&C.size>0&&P.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[P.pathname+P.search]},[u,h,r,a,p,e,t,l]),T=L.useMemo(()=>BM(y,a),[y,a]),b=QM(y);return L.createElement(L.Fragment,null,_.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),b.map(({key:C,link:k})=>L.createElement("link",{key:C,...k})))}function WM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LA&&(window.__reactRouterVersion="7.6.2")}catch{}function ZM(t,e){return F2({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:u2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||JM(),routes:t,mapRouteProperties:wM,hydrationRouteProperties:bM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function JM(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:eP(t.errors)}),t}function eP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new Qf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let l=new Error(a.message);l.stack="",n[r]=l}}else n[r]=a;return n}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jA=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:_,...T},b){let{basename:C}=L.useContext(Ir),k=typeof p=="string"&&UA.test(p),P,D=!1;if(typeof p=="string"&&k&&(P=p,LA))try{let x=new URL(window.location.href),U=p.startsWith("//")?new URL(x.protocol+p):new URL(p),z=ki(U.pathname,C);U.origin===x.origin&&z!=null?p=z+U.search+U.hash:D=!0}catch{$t(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=lM(p,{relative:a}),[H,re,te]=KM(r,T),B=iP(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_});function M(x){e&&e(x),x.defaultPrevented||B(x)}let A=L.createElement("a",{...T,...te,href:P||Y,onClick:D||l?e:M,ref:WM(b,re),target:d,"data-discover":!k&&n==="render"?"true":void 0});return H&&!k?L.createElement(L.Fragment,null,A,L.createElement($M,{page:Y})):A});jA.displayName="Link";var pn=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let _=jc(u,{relative:p.relative}),T=go(),b=L.useContext(Lc),{navigator:C,basename:k}=L.useContext(Ir),P=b!=null&&lP(_)&&h===!0,D=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,Y=T.pathname,H=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),H=H?H.toLowerCase():null,D=D.toLowerCase()),H&&k&&(H=ki(H,k)||H);const re=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let te=Y===D||!a&&Y.startsWith(D)&&Y.charAt(re)==="/",B=H!=null&&(H===D||!a&&H.startsWith(D)&&H.charAt(D.length)==="/"),M={isActive:te,isPending:B,isTransitioning:P},A=te?e:void 0,x;typeof r=="function"?x=r(M):x=[r,te?"active":null,B?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(M):l;return L.createElement(jA,{...p,"aria-current":A,className:x,ref:y,style:U,to:u,viewTransition:h},typeof d=="function"?d(M):d)});pn.displayName="NavLink";var tP=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Mf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...T},b)=>{let C=aP(),k=oP(h,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&UA.test(h),Y=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let re=H.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||u;C(re||H.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return L.createElement("form",{ref:b,method:P,action:k,onSubmit:r?d:Y,...T,"data-discover":!D&&t==="render"?"true":void 0})});tP.displayName="Form";function nP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(t){let e=L.useContext(po);return et(e,nP(t)),e}function iP(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Rd(),d=go(),p=jc(t,{relative:l});return L.useCallback(y=>{if(NM(y,e)){y.preventDefault();let _=n!==void 0?n:ra(d)===ra(p);h(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,r,e,t,a,l,u])}var rP=0,sP=()=>`__${String(++rP)}__`;function aP(){let{router:t}=BA("useSubmit"),{basename:e}=L.useContext(Ir),n=_M();return L.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=kM(r,e);if(a.navigate===!1){let y=a.fetcherKey||sP();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function oP(t,{relative:e}={}){let{basename:n}=L.useContext(Ir),r=L.useContext(xr);et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...jc(t||".",{relative:e})},u=go();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vr([n,l.pathname])),ra(l)}function lP(t,e={}){let n=L.useContext(Fy);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BA("useViewTransitionState"),a=jc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $f(a.pathname,u)!=null||$f(a.pathname,l)!=null}[...qM];var uP=mA();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cP(t){return L.createElement(AM,{flushSync:uP.flushSync,...t})}const zA=L.createContext({});function hP(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const $y=typeof window<"u",fP=$y?L.useLayoutEffect:L.useEffect,Qy=L.createContext(null);function Xy(t,e){t.indexOf(e)===-1&&t.push(e)}function Wy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const as=(t,e,n)=>n>e?e:n<t?t:n;let Zy=()=>{};const os={},FA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function HA(t){return typeof t=="object"&&t!==null}const qA=t=>/^0[^.\s]+$/u.test(t);function Jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Oi=t=>t,dP=(t,e)=>n=>e(t(n)),Bc=(...t)=>t.reduce(dP),Tc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ev{constructor(){this.subscriptions=[]}add(e){return Xy(this.subscriptions,e),()=>Wy(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _r=t=>t*1e3,Tr=t=>t/1e3;function GA(t,e){return e?t*(1e3/e):0}const YA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mP=1e-7,pP=12;function gP(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=YA(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>mP&&++h<pP);return u}function zc(t,e,n,r){if(t===e&&n===r)return Oi;const a=l=>gP(l,0,1,t,n);return l=>l===0||l===1?l:YA(a(l),e,r)}const KA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$A=t=>e=>1-t(1-e),QA=zc(.33,1.53,.69,.99),tv=$A(QA),XA=KA(tv),WA=t=>(t*=2)<1?.5*tv(t):.5*(2-Math.pow(2,-10*(t-1))),nv=t=>1-Math.sin(Math.acos(t)),ZA=$A(nv),JA=KA(nv),yP=zc(.42,0,1,1),vP=zc(0,0,.58,1),e1=zc(.42,0,.58,1),_P=t=>Array.isArray(t)&&typeof t[0]!="number",t1=t=>Array.isArray(t)&&typeof t[0]=="number",TP={linear:Oi,easeIn:yP,easeInOut:e1,easeOut:vP,circIn:nv,circInOut:JA,circOut:ZA,backIn:tv,backInOut:XA,backOut:QA,anticipate:WA},EP=t=>typeof t=="string",pw=t=>{if(t1(t)){Zy(t.length===4);const[e,n,r,a]=t;return zc(e,n,r,a)}else if(EP(t))return TP[t];return t},Ef=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gw={value:null};function wP(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){u.has(_)&&(y.schedule(_),t()),d++,_(h)}const y={schedule:(_,T=!1,b=!1)=>{const k=b&&a?n:r;return T&&u.add(_),k.has(_)||k.add(_),_},cancel:_=>{r.delete(_),u.delete(_)},process:_=>{if(h=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&gw.value&&gw.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const bP=40;function n1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ef.reduce((H,re)=>(H[re]=wP(l,e?re:void 0),H),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:b,postRender:C}=u,k=()=>{const H=os.useManualTiming?a.timestamp:performance.now();n=!1,os.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(H-a.timestamp,bP),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),_.process(a),T.process(a),b.process(a),C.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(k))},P=()=>{n=!0,r=!0,a.isProcessing||t(k)};return{schedule:Ef.reduce((H,re)=>{const te=u[re];return H[re]=(B,M=!1,A=!1)=>(n||P(),te.schedule(B,M,A)),H},{}),cancel:H=>{for(let re=0;re<Ef.length;re++)u[Ef[re]].cancel(H)},state:a,steps:u}}const{schedule:Dt,cancel:sa,state:gn,steps:cg}=n1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0);let Nf;function SP(){Nf=void 0}const $n={now:()=>(Nf===void 0&&$n.set(gn.isProcessing||os.useManualTiming?gn.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(SP)}},i1=t=>e=>typeof e=="string"&&e.startsWith(t),iv=i1("--"),AP=i1("var(--"),rv=t=>AP(t)?RP.test(t.split("/*")[0].trim()):!1,RP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ec={...Ol,transform:t=>as(0,1,t)},wf={...Ol,default:1},sc=t=>Math.round(t*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CP(t){return t==null}const IP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,av=(t,e)=>n=>!!(typeof n=="string"&&IP.test(n)&&n.startsWith(t)||e&&!CP(n)&&Object.prototype.hasOwnProperty.call(n,e)),r1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(sv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},xP=t=>as(0,255,t),hg={...Ol,transform:t=>Math.round(xP(t))},to={test:av("rgb","red"),parse:r1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hg.transform(t)+", "+hg.transform(e)+", "+hg.transform(n)+", "+sc(Ec.transform(r))+")"};function DP(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Hg={test:av("#"),parse:DP,transform:to.transform},Fc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gs=Fc("deg"),Er=Fc("%"),Be=Fc("px"),MP=Fc("vh"),PP=Fc("vw"),yw={...Er,parse:t=>Er.parse(t)/100,transform:t=>Er.transform(t*100)},dl={test:av("hsl","hue"),parse:r1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Er.transform(sc(e))+", "+Er.transform(sc(n))+", "+sc(Ec.transform(r))+")"},Rn={test:t=>to.test(t)||Hg.test(t)||dl.test(t),parse:t=>to.test(t)?to.parse(t):dl.test(t)?dl.parse(t):Hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):dl.transform(t)},NP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sv))==null?void 0:e.length)||0)+(((n=t.match(NP))==null?void 0:n.length)||0)>0}const s1="number",a1="color",VP="var",kP="var(",vw="${}",LP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(LP,d=>(Rn.test(d)?(r.color.push(l),a.push(a1),n.push(Rn.parse(d))):d.startsWith(kP)?(r.var.push(l),a.push(VP),n.push(d)):(r.number.push(l),a.push(s1),n.push(parseFloat(d))),++l,vw)).split(vw);return{values:n,split:h,indexes:r,types:a}}function o1(t){return wc(t).values}function l1(t){const{split:e,types:n}=wc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===s1?l+=sc(a[u]):h===a1?l+=Rn.transform(a[u]):l+=a[u]}return l}}const UP=t=>typeof t=="number"?0:t;function jP(t){const e=o1(t);return l1(t)(e.map(UP))}const aa={test:OP,parse:o1,createTransformer:l1,getAnimatableNone:jP};function fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=fg(d,h,t+1/3),l=fg(d,h,t),u=fg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Wf(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,dg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},zP=[Hg,to,dl],FP=t=>zP.find(e=>e.test(t));function _w(t){const e=FP(t);if(!e)return!1;let n=e.parse(t);return e===dl&&(n=BP(n)),n}const Tw=(t,e)=>{const n=_w(t),r=_w(e);if(!n||!r)return Wf(t,e);const a={...n};return l=>(a.red=dg(n.red,r.red,l),a.green=dg(n.green,r.green,l),a.blue=dg(n.blue,r.blue,l),a.alpha=xt(n.alpha,r.alpha,l),to.transform(a))},qg=new Set(["none","hidden"]);function HP(t,e){return qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qP(t,e){return n=>xt(t,e,n)}function ov(t){return typeof t=="number"?qP:typeof t=="string"?rv(t)?Wf:Rn.test(t)?Tw:KP:Array.isArray(t)?u1:typeof t=="object"?Rn.test(t)?Tw:GP:Wf}function u1(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>ov(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function GP(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=ov(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function YP(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const KP=(t,e)=>{const n=aa.createTransformer(e),r=wc(t),a=wc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?qg.has(t)&&!a.values.length||qg.has(e)&&!r.values.length?HP(t,e):Bc(u1(YP(r,a),a.values),n):Wf(t,e)};function c1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):ov(t)(t,e)}const $P=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Dt.update(e,n),stop:()=>sa(e),now:()=>gn.isProcessing?gn.timestamp:$n.now()}},h1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Zf=2e4;function lv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zf;)e+=n,r=t.next(e);return e>=Zf?1/0:e}function QP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(lv(r),Zf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:Tr(a)}}const XP=5;function f1(t,e,n){const r=Math.max(e-XP,0);return GA(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function WP({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let a,l,u=1-e;u=as(Ot.minDamping,Ot.maxDamping,u),t=as(Ot.minDuration,Ot.maxDuration,Tr(t)),u<1?(a=p=>{const y=p*u,_=y*t,T=y-n,b=Gg(p,u),C=Math.exp(-_);return mg-T/b*C},l=p=>{const _=p*u*t,T=_*n+n,b=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-_),k=Gg(Math.pow(p,2),u);return(-a(p)+mg>0?-1:1)*((T-b)*C)/k}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-mg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,d=JP(a,l,h);if(t=_r(t),isNaN(d))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const ZP=12;function JP(t,e,n){let r=n;for(let a=1;a<ZP;a++)r=r-t(r)/e(r);return r}function Gg(t,e){return t*Math.sqrt(1-e*e)}const eN=["duration","bounce"],tN=["stiffness","damping","mass"];function Ew(t,e){return e.some(n=>t[n]!==void 0)}function nN(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!Ew(t,tN)&&Ew(t,eN))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*as(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ot.mass,stiffness:a,damping:l}}else{const n=WP(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function Jf(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:b}=nN({...n,velocity:-Tr(n.velocity||0)}),C=T||0,k=p/(2*Math.sqrt(d*y)),P=u-l,D=Tr(Math.sqrt(d/y)),Y=Math.abs(P)<5;r||(r=Y?Ot.restSpeed.granular:Ot.restSpeed.default),a||(a=Y?Ot.restDelta.granular:Ot.restDelta.default);let H;if(k<1){const te=Gg(D,k);H=B=>{const M=Math.exp(-k*D*B);return u-M*((C+k*D*P)/te*Math.sin(te*B)+P*Math.cos(te*B))}}else if(k===1)H=te=>u-Math.exp(-D*te)*(P+(C+D*P)*te);else{const te=D*Math.sqrt(k*k-1);H=B=>{const M=Math.exp(-k*D*B),A=Math.min(te*B,300);return u-M*((C+k*D*P)*Math.sinh(A)+te*P*Math.cosh(A))/te}}const re={calculatedDuration:b&&_||null,next:te=>{const B=H(te);if(b)h.done=te>=_;else{let M=te===0?C:0;k<1&&(M=te===0?_r(C):f1(H,te,B));const A=Math.abs(M)<=r,x=Math.abs(u-B)<=a;h.done=A&&x}return h.value=h.done?u:B,h},toString:()=>{const te=Math.min(lv(re),Zf),B=h1(M=>re.next(te*M).value,te,30);return te+"ms "+B},toTransition:()=>{}};return re}Jf.applyToOptions=t=>{const e=QP(t,100,Jf);return t.ease=e.ease,t.duration=_r(e.duration),t.type="keyframes",t};function Yg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const _=t[0],T={done:!1,value:_},b=A=>h!==void 0&&A<h||d!==void 0&&A>d,C=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let k=n*e;const P=_+k,D=u===void 0?P:u(P);D!==P&&(k=D-_);const Y=A=>-k*Math.exp(-A/r),H=A=>D+Y(A),re=A=>{const x=Y(A),U=H(A);T.done=Math.abs(x)<=p,T.value=T.done?D:U};let te,B;const M=A=>{b(T.value)&&(te=A,B=Jf({keyframes:[T.value,C(T.value)],velocity:f1(H,A,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:A=>{let x=!1;return!B&&te===void 0&&(x=!0,re(A),M(A)),te!==void 0&&A>=te?B.next(A-te):(!x&&re(A),T)}}}function iN(t,e,n){const r=[],a=n||os.mix||c1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Oi:e;h=Bc(d,h)}r.push(h)}return r}function rN(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(Zy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=iN(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const T=Tc(t[_],t[_+1],y);return h[_](T)};return n?y=>p(as(t[0],t[l-1],y)):p}function sN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Tc(0,e,r);t.push(xt(n,1,a))}}function aN(t){const e=[0];return sN(e,t.length-1),e}function oN(t,e){return t.map(n=>n*e)}function lN(t,e){return t.map(()=>e||e1).splice(0,t.length-1)}function ac({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=_P(r)?r.map(pw):pw(r),l={done:!1,value:e[0]},u=oN(n&&n.length===e.length?n:aN(e),t),h=rN(u,e,{ease:Array.isArray(a)?a:lN(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const uN=t=>t!==null;function uv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(uN),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const cN={decay:Yg,inertia:Yg,tween:ac,keyframes:ac,spring:Jf};function d1(t){typeof t.type=="string"&&(t.type=cN[t.type])}class cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hN=t=>t/100;class hv extends cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;d1(e);const{type:n=ac,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||ac;d!==ac&&typeof h[0]!="number"&&(this.mixKeyframes=Bc(hN,c1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=lv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:b,type:C,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?D<0:D>a;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,re=r;if(_){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),U=A%1;!U&&A>=1&&(U=1),U===1&&x--,x=Math.min(x,_+1),!!(x%2)&&(T==="reverse"?(U=1-U,b&&(U-=b/h)):T==="mirror"&&(re=u)),H=as(0,1,U)*h}const te=Y?{done:!1,value:y[0]}:re.next(H);l&&(te.value=l(te.value));let{done:B}=te;!Y&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return M&&C!==Yg&&(te.value=uv(y,this.options,P,this.speed)),k&&k(te.value),M&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(e){var n;e=_r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tr(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=$P,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,Kg=t=>{const e=no(Math.atan2(t[1],t[0]));return $g(e)},dN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kg,rotateZ:Kg,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$g=t=>(t=t%360,t<0&&(t+=360),t),ww=Kg,bw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Sw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bw,scaleY:Sw,scale:t=>(bw(t)+Sw(t))/2,rotateX:t=>$g(no(Math.atan2(t[6],t[5]))),rotateY:t=>$g(no(Math.atan2(-t[2],t[0]))),rotateZ:ww,rotate:ww,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Qg(t){return t.includes("scale")?1:0}function Xg(t,e){if(!t||t==="none")return Qg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=mN,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dN,a=h}if(!a)return Qg(e);const l=r[e],u=a[1].split(",").map(gN);return typeof l=="function"?l(u):u[l]}const pN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xg(n,e)};function gN(t){return parseFloat(t.trim())}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(Vl),Aw=t=>t===Ol||t===Be,yN=new Set(["x","y","z"]),vN=Vl.filter(t=>!yN.has(t));function _N(t){const e=[];return vN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xg(e,"x"),y:(t,{transform:e})=>Xg(e,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const oo=new Set;let Wg=!1,Zg=!1,Jg=!1;function m1(){if(Zg){const t=Array.from(oo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=_N(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var h;(h=r.getValue(l))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zg=!1,Wg=!1,oo.forEach(t=>t.complete(Jg)),oo.clear()}function p1(){oo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function TN(){Jg=!0,p1(),m1(),Jg=!1}class fv{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),Wg||(Wg=!0,Dt.read(p1),Dt.resolveKeyframes(m1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}fN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EN=t=>t.startsWith("--");function wN(t,e,n){EN(e)?t.style.setProperty(e,n):t.style[e]=n}const bN=Jy(()=>window.ScrollTimeline!==void 0),SN={};function AN(t,e){const n=Jy(t);return()=>SN[e]??n()}const g1=AN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zu([0,.65,.55,1]),circOut:Zu([.55,0,1,.45]),backIn:Zu([.31,.01,.66,-.59]),backOut:Zu([.33,1.53,.69,.99])};function y1(t,e){if(t)return typeof t=="function"?g1()?h1(t,e):"ease-out":t1(t)?Zu(t):Array.isArray(t)?t.map(n=>y1(n,e)||Rw.easeOut):Rw[t]}function RN(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const _=y1(h,a);Array.isArray(_)&&(y.easing=_);const T={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function v1(t){return typeof t=="function"&&"applyToOptions"in t}function CN({type:t,...e}){return v1(t)&&g1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IN extends cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Zy(typeof e.type!="string");const p=CN(e);this.animation=RN(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=uv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):wN(n,r,y),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tr(Number(e))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&bN()?(this.animation.timeline=e,Oi):n(this)}}const _1={anticipate:WA,backInOut:XA,circInOut:JA};function xN(t){return t in _1}function DN(t){typeof t.ease=="string"&&xN(t.ease)&&(t.ease=_1[t.ease])}const Cw=10;class MN extends IN{constructor(e){DN(e),d1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new hv({...u,autoplay:!1}),d=_r(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Cw).value,h.sample(d).value,Cw),h.stop()}}const Iw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(aa.test(t)||t==="0")&&!t.startsWith("url("));function PN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function NN(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Iw(a,e),h=Iw(l,e);return!u||!h?!1:PN(t)||(n==="spring"||v1(n))&&r}function T1(t){return HA(t)&&"offsetHeight"in t}const ON=new Set(["opacity","clipPath","filter","transform"]),VN=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kN(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!T1((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return VN()&&n&&ON.has(n)&&(n!=="transform"||!d)&&!h&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const LN=40;class UN extends cv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var k,P;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=$n.now();const T={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,..._},b=(y==null?void 0:y.KeyframeResolver)||fv;this.keyframeResolver=new b(h,(k,P,D)=>this.onKeyframesResolved(k,P,T,!D),d,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=$n.now(),NN(e,l,u,h)||((os.instantAnimations||!d)&&(y==null||y(uv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>LN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!p&&kN(T)?new MN({...T,element:T.motionValue.owner.current}):new hv(T);b.finished.then(()=>this.notifyFinished()).catch(Oi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const jN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BN(t){const e=jN.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function E1(t,e,n=1){const[r,a]=BN(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return FA(u)?parseFloat(u):u}return rv(a)?E1(a,e,n+1):a}function dv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const w1=new Set(["width","height","top","left","right","bottom",...Vl]),zN={test:t=>t==="auto",parse:t=>t},b1=t=>e=>e.test(t),S1=[Ol,Be,Er,Gs,PP,MP,zN],xw=t=>S1.find(b1(t));function FN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qA(t):!0}const HN=new Set(["brightness","contrast","saturate","opacity"]);function qN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sv)||[];if(!r)return t;const a=n.replace(r,"");let l=HN.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const GN=/\b([a-z-]*)\(.*?\)/gu,ey={...aa,getAnimatableNone:t=>{const e=t.match(GN);return e?e.map(qN).join(" "):t}},Dw={...Ol,transform:Math.round},YN={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Gs,skewX:Gs,skewY:Gs,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Ec,originX:yw,originY:yw,originZ:Be},mv={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...YN,zIndex:Dw,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:Dw},KN={...mv,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:ey,WebkitFilter:ey},A1=t=>KN[t];function R1(t,e){let n=A1(t);return n!==ey&&(n=aa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $N=new Set(["auto","none","0"]);function QN(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!$N.has(l)&&wc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=R1(n,a)}class XN extends fv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),rv(p))){const y=E1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!w1.has(r)||e.length!==2)return;const[a,l]=e,u=xw(a),h=xw(l);if(u!==h)if(Aw(u)&&Aw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else ao[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||FN(e[a]))&&r.push(a);r.length&&QN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function WN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const C1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mw=30,ZN=t=>!isNaN(parseFloat(t));class JN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var u,h;const l=$n.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ev);const r=this.events[e].add(n);return e==="change"?()=>{r(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mw);return GA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(t,e){return new JN(t,e)}const{schedule:pv}=n1(queueMicrotask,!1),qi={x:!1,y:!1};function I1(){return qi.x||qi.y}function eO(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function x1(t,e){const n=WN(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Pw(t){return!(t.pointerType==="touch"||I1())}function tO(t,e,n={}){const[r,a,l]=x1(t,n),u=h=>{if(!Pw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=_=>{Pw(_)&&(p(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const D1=(t,e)=>e?t===e?!0:D1(t,e.parentElement):!1,gv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iO(t){return nO.has(t.tagName)||t.tabIndex!==-1}const Of=new WeakSet;function Nw(t){return e=>{e.key==="Enter"&&t(e)}}function pg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Nw(()=>{if(Of.has(n))return;pg(n,"down");const a=Nw(()=>{pg(n,"up")}),l=()=>pg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ow(t){return gv(t)&&!I1()}function sO(t,e,n={}){const[r,a,l]=x1(t,n),u=h=>{const d=h.currentTarget;if(!Ow(h))return;Of.add(d);const p=e(d,h),y=(b,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),Of.has(d)&&Of.delete(d),Ow(b)&&typeof p=="function"&&p(b,{success:C})},_=b=>{y(b,d===window||d===document||n.useGlobalTarget||D1(d,b.target))},T=b=>{y(b,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),T1(h)&&(h.addEventListener("focus",p=>rO(p,a)),!iO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function M1(t){return HA(t)&&"ownerSVGElement"in t}function aO(t){return M1(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),oO=[...S1,Rn,aa],lO=t=>oO.find(b1(t)),P1=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function uO(t=!0){const e=L.useContext(Qy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=L.useId();L.useEffect(()=>{if(t)return a(l)},[t]);const u=L.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const N1=L.createContext({strict:!1}),Vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const t in Vw)Al[t]={isEnabled:e=>Vw[t].some(n=>!!e[n])};function cO(t){for(const e in t)Al[e]={...Al[e],...t[e]}}const hO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hO.has(t)}let O1=t=>!ed(t);function fO(t){t&&(O1=e=>e.startsWith("on")?!ed(e):t(e))}try{fO(require("@emotion/is-prop-valid").default)}catch{}function dO(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(O1(a)||n===!0&&ed(a)||!e&&!ed(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function mO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Id=L.createContext({});function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bc(t){return typeof t=="string"||Array.isArray(t)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function Dd(t){return xd(t.animate)||vv.some(e=>bc(t[e]))}function V1(t){return!!(Dd(t)||t.variants)}function pO(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bc(n)?n:void 0,animate:bc(r)?r:void 0}}return t.inherit!==!1?e:{}}function gO(t){const{initial:e,animate:n}=pO(t,L.useContext(Id));return L.useMemo(()=>({initial:e,animate:n}),[kw(e),kw(n)])}function kw(t){return Array.isArray(t)?t.join(" "):t}const yO=Symbol.for("motionComponentSymbol");function ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vO(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ml(n)&&(n.current=r))},[e])}const _v=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_O="framerAppearId",k1="data-"+_v(_O),L1=L.createContext({});function TO(t,e,n,r,a){var k,P;const{visualElement:l}=L.useContext(Id),u=L.useContext(N1),h=L.useContext(Qy),d=L.useContext(P1).reducedMotion,p=L.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,_=L.useContext(L1);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&EO(p.current,n,a,_);const T=L.useRef(!1);L.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const b=n[k1],C=L.useRef(!!b&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,b))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,b)));return fP(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),pv.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,b)}),C.current=!1))}),y}function EO(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:U1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ml(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function U1(t){if(t)return t.options.allowProjection!==!1?t.projection:U1(t.parent)}function wO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&cO(t);function l(h,d){let p;const y={...L.useContext(P1),...h,layoutId:bO(h)},{isStatic:_}=y,T=gO(h),b=r(h,_);if(!_&&$y){SO();const C=AO(y);p=C.MeasureLayout,T.visualElement=TO(a,b,y,e,C.ProjectionNode)}return I.jsxs(Id.Provider,{value:T,children:[p&&T.visualElement?I.jsx(p,{visualElement:T.visualElement,...y}):null,n(a,h,vO(b,T.visualElement,d),b,_,T.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=L.forwardRef(l);return u[yO]=a,u}function bO({layoutId:t}){const e=L.useContext(zA).id;return e&&t!==void 0?e+"-"+t:t}function SO(t,e){L.useContext(N1).strict}function AO(t){const{drag:e,layout:n}=Al;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Sc={};function RO(t){for(const e in t)Sc[e]=t[e],iv(e)&&(Sc[e].isCSSVariable=!0)}function j1(t,{layout:e,layoutId:n}){return kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sc[t]||t==="opacity")}const CO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IO=Vl.length;function xO(t,e,n){let r="",a=!0;for(let l=0;l<IO;l++){const u=Vl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=C1(h,mv[u]);if(!d){a=!1;const y=CO[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Tv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(kl.has(d)){u=!0;continue}else if(iv(d)){a[d]=p;continue}else{const y=C1(p,mv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=xO(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const Ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B1(t,e,n){for(const r in e)!Dn(e[r])&&!j1(r,n)&&(t[r]=e[r])}function DO({transformTemplate:t},e){return L.useMemo(()=>{const n=Ev();return Tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MO(t,e){const n=t.style||{},r={};return B1(r,n,t),Object.assign(r,DO(t,e)),r}function PO(t,e){const n={},r=MO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const NO={offset:"stroke-dashoffset",array:"stroke-dasharray"},OO={offset:"strokeDashoffset",array:"strokeDasharray"};function VO(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?NO:OO;t[l.offset]=Be.transform(-r);const u=Be.transform(e),h=Be.transform(n);t[l.array]=`${u} ${h}`}function z1(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Tv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T}=t;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&VO(_,a,l,u,!1)}const F1=()=>({...Ev(),attrs:{}}),H1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kO(t,e,n,r){const a=L.useMemo(()=>{const l=F1();return z1(l,e,H1(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};B1(l,t.style,t),a.style={...l,...a.style}}return a}const LO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wv(t){return typeof t!="string"||t.includes("-")?!1:!!(LO.indexOf(t)>-1||/[A-Z]/u.test(t))}function UO(t=!1){return(n,r,a,{latestValues:l},u)=>{const d=(wv(n)?kO:PO)(r,l,u,n),p=dO(r,typeof n=="string",t),y=n!==L.Fragment?{...p,...d,ref:a}:{},{children:_}=r,T=L.useMemo(()=>Dn(_)?_.get():_,[_]);return L.createElement(n,{...y,children:T})}}function Lw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bv(t,e,n,r){if(typeof e=="function"){const[a,l]=Lw(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Lw(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Vf(t){return Dn(t)?t.get():t}function jO({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:BO(n,r,a,t),renderState:e()}}const q1=t=>(e,n)=>{const r=L.useContext(Id),a=L.useContext(Qy),l=()=>jO(t,e,r,a);return n?l():hP(l)};function BO(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=Vf(l[T]);let{initial:u,animate:h}=t;const d=Dd(t),p=V1(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!xd(_)){const T=Array.isArray(_)?_:[_];for(let b=0;b<T.length;b++){const C=bv(t,T[b]);if(C){const{transitionEnd:k,transition:P,...D}=C;for(const Y in D){let H=D[Y];if(Array.isArray(H)){const re=y?H.length-1:0;H=H[re]}H!==null&&(a[Y]=H)}for(const Y in k)a[Y]=k[Y]}}}return a}function Sv(t,e,n){var l;const{style:r}=t,a={};for(const u in r)(Dn(r[u])||e.style&&Dn(e.style[u])||j1(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const zO={useVisualState:q1({scrapeMotionValuesFromProps:Sv,createRenderState:Ev})};function G1(t,e,n){const r=Sv(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const FO={useVisualState:q1({scrapeMotionValuesFromProps:G1,createRenderState:F1})};function HO(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...wv(r)?FO:zO,preloadedFeatures:t,useRender:UO(a),createVisualElement:e,Component:r};return wO(u)}}function Ac(t,e,n){const r=t.getProps();return bv(r,e,n!==void 0?n:r.custom,t)}const ty=t=>Array.isArray(t);function qO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sl(n))}function GO(t){return ty(t)?t[t.length-1]||0:t}function YO(t,e){const n=Ac(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=GO(l[u]);qO(t,u,h)}}function KO(t){return!!(Dn(t)&&t.add)}function ny(t,e){const n=t.getValue("willChange");if(KO(n))return n.add(e);if(!n&&os.WillChange){const r=new os.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Y1(t){return t.props[k1]}const $O=t=>t!==null;function QO(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter($O),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const XO={type:"spring",stiffness:500,damping:25,restSpeed:10},WO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZO={type:"keyframes",duration:.8},JO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eV=(t,{keyframes:e})=>e.length>2?ZO:kl.has(t)?t.startsWith("scale")?WO(e[1]):XO:JO;function tV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Av=(t,e,n,r={},a,l)=>u=>{const h=dv(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-_r(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};tV(h)||Object.assign(y,eV(t,y)),y.duration&&(y.duration=_r(y.duration)),y.repeatDelay&&(y.repeatDelay=_r(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(os.instantAnimations||os.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const T=QO(y.keyframes,h);if(T!==void 0){Dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new hv(y):new UN(y)};function nV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function K1(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&nV(p,y))continue;const b={delay:n,...dv(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===C&&!b.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const D=Y1(t);if(D){const Y=window.MotionHandoffAnimation(D,y,Dt);Y!==null&&(b.startTime=Y,k=!0)}}ny(t,y),_.start(Av(y,_,T,t.shouldReduceMotion&&w1.has(y)?{type:!1}:b,t,k));const P=_.animation;P&&d.push(P)}return u&&Promise.all(d).then(()=>{Dt.update(()=>{u&&YO(t,u)})}),d}function iy(t,e,n={}){var d;const r=Ac(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(K1(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:T}=a;return iV(t,e,y+p,_,T,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,y]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>y())}else return Promise.all([l(),u(n.delay)])}function iV(t,e,n=0,r=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(rV).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(iy(p,e,{...l,delay:n+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function rV(t,e){return t.sortNodePosition(e)}function sV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=iy(t,e,n);else{const a=typeof e=="function"?Ac(t,e,n.custom):e;r=Promise.all(K1(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function $1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const aV=vv.length;function Q1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Q1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aV;n++){const r=vv[n],a=t.props[r];(bc(a)||a===!1)&&(e[r]=a)}return e}const oV=[...yv].reverse(),lV=yv.length;function uV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sV(t,n,r)))}function cV(t){let e=uV(t),n=Uw(),r=!0;const a=d=>(p,y)=>{var T;const _=Ac(t,y,d==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:b,transitionEnd:C,...k}=_;p={...p,...k,...C}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=Q1(t.parent)||{},_=[],T=new Set;let b={},C=1/0;for(let P=0;P<lV;P++){const D=oV[P],Y=n[D],H=p[D]!==void 0?p[D]:y[D],re=bc(H),te=D===d?Y.isActive:null;te===!1&&(C=P);let B=H===y[D]&&H!==p[D]&&re;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),Y.protectedKeys={...b},!Y.isActive&&te===null||!H&&!Y.prevProp||xd(H)||typeof H=="boolean")continue;const M=hV(Y.prevProp,H);let A=M||D===d&&Y.isActive&&!B&&re||P>C&&re,x=!1;const U=Array.isArray(H)?H:[H];let z=U.reduce(a(D),{});te===!1&&(z={});const{prevResolvedValues:G={}}=Y,N={...G,...z},Oe=ne=>{A=!0,T.has(ne)&&(x=!0,T.delete(ne)),Y.needsAnimating[ne]=!0;const me=t.getValue(ne);me&&(me.liveStyle=!1)};for(const ne in N){const me=z[ne],ve=G[ne];if(b.hasOwnProperty(ne))continue;let O=!1;ty(me)&&ty(ve)?O=!$1(me,ve):O=me!==ve,O?me!=null?Oe(ne):T.add(ne):me!==void 0&&T.has(ne)?Oe(ne):Y.protectedKeys[ne]=!0}Y.prevProp=H,Y.prevResolvedValues=z,Y.isActive&&(b={...b,...z}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(B&&M)||x)&&_.push(...U.map(ne=>({animation:ne,options:{type:D}})))}if(T.size){const P={};if(typeof p.initial!="boolean"){const D=Ac(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(P.transition=D.transition)}T.forEach(D=>{const Y=t.getBaseTarget(D),H=t.getValue(D);H&&(H.liveStyle=!0),P[D]=Y??null}),_.push({animation:P})}let k=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(_):Promise.resolve()}function h(d,p){var _;if(n[d].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(T=>{var b;return(b=T.animationState)==null?void 0:b.setActive(d,p)}),n[d].isActive=p;const y=u(d);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Uw(),r=!0}}}function hV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$1(e,t):!1}function Xa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uw(){return{animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()}}class pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fV extends pa{constructor(e){super(e),e.animationState||(e.animationState=cV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let dV=0;class mV extends pa{constructor(){super(...arguments),this.id=dV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pV={animation:{Feature:fV},exit:{Feature:mV}};function Rc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hc(t){return{point:{x:t.pageX,y:t.pageY}}}const gV=t=>e=>gv(e)&&t(e,Hc(e));function oc(t,e,n,r){return Rc(t,e,gV(n),r)}function X1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function yV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const W1=1e-4,_V=1-W1,TV=1+W1,Z1=.01,EV=0-Z1,wV=0+Z1;function jn(t){return t.max-t.min}function bV(t,e,n){return Math.abs(t-e)<=n}function jw(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=jn(n)/jn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_V&&t.scale<=TV||isNaN(t.scale))&&(t.scale=1),(t.translate>=EV&&t.translate<=wV||isNaN(t.translate))&&(t.translate=0)}function lc(t,e,n,r){jw(t.x,e.x,n.x,r?r.originX:void 0),jw(t.y,e.y,n.y,r?r.originY:void 0)}function Bw(t,e,n){t.min=n.min+e.min,t.max=t.min+jn(e)}function SV(t,e,n){Bw(t.x,e.x,n.x),Bw(t.y,e.y,n.y)}function zw(t,e,n){t.min=e.min-n.min,t.max=t.min+jn(e)}function uc(t,e,n){zw(t.x,e.x,n.x),zw(t.y,e.y,n.y)}const Fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),pl=()=>({x:Fw(),y:Fw()}),Hw=()=>({min:0,max:0}),Ut=()=>({x:Hw(),y:Hw()});function Mi(t){return[t("x"),t("y")]}function gg(t){return t===void 0||t===1}function ry({scale:t,scaleX:e,scaleY:n}){return!gg(t)||!gg(e)||!gg(n)}function Wa(t){return ry(t)||J1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J1(t){return qw(t.x)||qw(t.y)}function qw(t){return t&&t!=="0%"}function td(t,e,n){const r=t-n,a=e*r;return n+a}function Gw(t,e,n,r,a){return a!==void 0&&(t=td(t,a,r)),td(t,n,r)+e}function sy(t,e=0,n=1,r,a){t.min=Gw(t.min,e,n,r,a),t.max=Gw(t.max,e,n,r,a)}function eR(t,{x:e,y:n}){sy(t.x,e.translate,e.scale,e.originPoint),sy(t.y,n.translate,n.scale,n.originPoint)}const Yw=.999999999999,Kw=1.0000000000001;function AV(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&yl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,eR(t,u)),r&&Wa(l.latestValues)&&yl(t,l.latestValues))}e.x<Kw&&e.x>Yw&&(e.x=1),e.y<Kw&&e.y>Yw&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function $w(t,e,n,r,a=.5){const l=xt(t.min,t.max,a);sy(t,e,n,l,r)}function yl(t,e){$w(t.x,e.x,e.scaleX,e.scale,e.originX),$w(t.y,e.y,e.scaleY,e.scale,e.originY)}function tR(t,e){return X1(vV(t.getBoundingClientRect(),e))}function RV(t,e,n){const r=tR(t,n),{scroll:a}=e;return a&&(gl(r.x,a.offset.x),gl(r.y,a.offset.y)),r}const nR=({current:t})=>t?t.ownerDocument.defaultView:null,Qw=(t,e)=>Math.abs(t-e);function CV(t,e){const n=Qw(t.x,e.x),r=Qw(t.y,e.y);return Math.sqrt(n**2+r**2)}class iR{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=vg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,b=CV(_.offset,{x:0,y:0})>=3;if(!T&&!b)return;const{point:C}=_,{timestamp:k}=gn;this.history.push({...C,timestamp:k});const{onStart:P,onMove:D}=this.handlers;T||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=yg(T,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=vg(_.type==="pointercancel"?this.lastMoveEventInfo:yg(T,this.transformPagePoint),this.history);this.startEvent&&b&&b(_,P),C&&C(_,P)},!gv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=Hc(e),h=yg(u,this.transformPagePoint),{point:d}=h,{timestamp:p}=gn;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,vg(h,this.history)),this.removeListeners=Bc(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sa(this.updatePoint)}}function yg(t,e){return e?{point:e(t.point)}:t}function Xw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:Xw(t,rR(e)),offset:Xw(t,IV(e)),velocity:xV(e,.1)}}function IV(t){return t[0]}function rR(t){return t[t.length-1]}function xV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=rR(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>_r(e)));)n--;if(!r)return{x:0,y:0};const l=Tr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function DV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function Ww(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MV(t,{top:e,left:n,bottom:r,right:a}){return{x:Ww(t.x,n,a),y:Ww(t.y,e,r)}}function Zw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PV(t,e){return{x:Zw(t.x,e.x),y:Zw(t.y,e.y)}}function NV(t,e){let n=.5;const r=jn(t),a=jn(e);return a>r?n=Tc(e.min,e.max-r,t.min):r>a&&(n=Tc(t.min,t.max-a,e.min)),as(0,1,n)}function OV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ay=.35;function VV(t=ay){return t===!1?t=0:t===!0&&(t=ay),{x:Jw(t,"left","right"),y:Jw(t,"top","bottom")}}function Jw(t,e,n){return{min:eb(t,e),max:eb(t,n)}}function eb(t,e){return typeof t=="number"?t:t[e]||0}const kV=new WeakMap;class LV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hc(y).point)},l=(y,_)=>{const{drag:T,dragPropagation:b,onDragStart:C}=this.getProps();if(T&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eO(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(P=>{let D=this.getAxisMotionValue(P).get()||0;if(Er.test(D)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const H=Y.layout.layoutBox[P];H&&(D=jn(H)*(parseFloat(D)/100))}}this.originPoint[P]=D}),C&&Dt.postRender(()=>C(y,_)),ny(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(y,_)=>{const{dragPropagation:T,dragDirectionLock:b,onDirectionLock:C,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:P}=_;if(b&&this.currentDirection===null){this.currentDirection=UV(P),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),k&&k(y,_)},h=(y,_)=>this.stop(y,_),d=()=>Mi(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new iR(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:nR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Dt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!bf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=DV(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MV(r.layoutBox,e):this.constraints=!1,this.elastic=VV(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=OV(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ml(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=RV(r,a.root,this.visualElement.getTransformPagePoint());let u=PV(a.layout.layoutBox,l);if(n){const h=n(yV(u));this.hasMutatedConstraints=!!h,h&&(u=X1(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Mi(y=>{if(!bf(y,n,this.currentDirection))return;let _=d&&d[y]||{};u&&(_={min:0,max:0});const T=a?200:1e6,b=a?40:1e7,C={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ny(this.visualElement,e),r.start(Av(e,r,0,n,this.visualElement,!1))}stopAnimation(){Mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mi(n=>{const{drag:r}=this.getProps();if(!bf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-xt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ml(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=NV({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mi(u=>{if(!bf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(xt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;kV.set(this.visualElement,this);const e=this.visualElement.current,n=oc(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ml(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Dt.read(r);const u=Rc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mi(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ay,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jV extends pa{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new LV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const tb=t=>(e,n)=>{t&&Dt.postRender(()=>t(e,n))};class BV extends pa{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new iR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:tb(e),onStart:tb(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&Dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=nb(t,e.target.x),r=nb(t,e.target.y);return`${n}% ${r}%`}},zV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=aa.parse(t);if(a.length>5)return r;const l=aa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=xt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class FV extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;RO(HV),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sR(t){const[e,n]=uO(),r=L.useContext(zA);return I.jsx(FV,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(L1),isPresent:e,safeToRemove:n})}const HV={borderRadius:{...Qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qu,borderTopRightRadius:Qu,borderBottomLeftRadius:Qu,borderBottomRightRadius:Qu,boxShadow:zV};function qV(t,e,n){const r=Dn(t)?t:Sl(t);return r.start(Av("",r,e,n)),r.animation}const GV=(t,e)=>t.depth-e.depth;class YV{constructor(){this.children=[],this.isDirty=!1}add(e){Xy(this.children,e),this.isDirty=!0}remove(e){Wy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GV),this.isDirty=!1,this.children.forEach(e)}}function KV(t,e){const n=$n.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(sa(r),t(l-e))};return Dt.setup(r,!0),()=>sa(r)}const aR=["TopLeft","TopRight","BottomLeft","BottomRight"],$V=aR.length,ib=t=>typeof t=="string"?parseFloat(t):t,rb=t=>typeof t=="number"||Be.test(t);function QV(t,e,n,r,a,l){a?(t.opacity=xt(0,n.opacity??1,XV(r)),t.opacityExit=xt(e.opacity??1,0,WV(r))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,r));for(let u=0;u<$V;u++){const h=`border${aR[u]}Radius`;let d=sb(e,h),p=sb(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||rb(d)===rb(p)?(t[h]=Math.max(xt(ib(d),ib(p),r),0),(Er.test(p)||Er.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function sb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XV=oR(0,.5,ZA),WV=oR(.5,.95,Oi);function oR(t,e,n){return r=>r<t?0:r>e?1:n(Tc(t,e,r))}function ab(t,e){t.min=e.min,t.max=e.max}function Di(t,e){ab(t.x,e.x),ab(t.y,e.y)}function ob(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lb(t,e,n,r,a){return t-=e,t=td(t,1/n,r),a!==void 0&&(t=td(t,1/a,r)),t}function ZV(t,e=0,n=1,r=.5,a,l=t,u=t){if(Er.test(e)&&(e=parseFloat(e),e=xt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=xt(l.min,l.max,r);t===l&&(h-=e),t.min=lb(t.min,e,n,h,a),t.max=lb(t.max,e,n,h,a)}function ub(t,e,[n,r,a],l,u){ZV(t,e[n],e[r],e[a],e.scale,l,u)}const JV=["x","scaleX","originX"],ek=["y","scaleY","originY"];function cb(t,e,n,r){ub(t.x,e,JV,n?n.x:void 0,r?r.x:void 0),ub(t.y,e,ek,n?n.y:void 0,r?r.y:void 0)}function hb(t){return t.translate===0&&t.scale===1}function lR(t){return hb(t.x)&&hb(t.y)}function fb(t,e){return t.min===e.min&&t.max===e.max}function tk(t,e){return fb(t.x,e.x)&&fb(t.y,e.y)}function db(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uR(t,e){return db(t.x,e.x)&&db(t.y,e.y)}function mb(t){return jn(t.x)/jn(t.y)}function pb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nk{constructor(){this.members=[]}add(e){Xy(this.members,e),e.scheduleRender()}remove(e){if(Wy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ik(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:b,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),T&&(r+=`rotateY(${T}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const _g=["","X","Y","Z"],rk={visibility:"hidden"},sk=1e3;let ak=0;function Tg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Y1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Dt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cR(r)}function hR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=ak++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uk),this.nodes.forEach(mk),this.nodes.forEach(pk),this.nodes.forEach(ck)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new YV)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ev),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=M1(u)&&!aO(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=KV(_,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(yb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||Tk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=p.getProps(),D=!this.targetLayout||!uR(this.targetLayout,b),Y=!_&&T;if(this.options.layoutRoot||this.resumeFrom||Y||_&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...dv(C,"layout"),onPlay:k,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,Y)}else _||yb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gb);return}this.isUpdating||this.nodes.forEach(fk),this.isUpdating=!1,this.nodes.forEach(dk),this.nodes.forEach(ok),this.nodes.forEach(lk),this.clearAllSnapshots();const h=$n.now();gn.delta=as(0,1e3/60,h-gn.timestamp),gn.timestamp=h,gn.isProcessing=!0,cg.update.process(gn),cg.preRender.process(gn),cg.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hk),this.sharedNodes.forEach(yk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jn(this.snapshot.measuredBox.x)&&!jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!lR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Wa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Ek(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Ut();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(wk))){const{scroll:y}=this.root;y&&(gl(h.x,y.offset.x),gl(h.y,y.offset.y))}return h}removeElementScroll(u){var d;const h=Ut();if(Di(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:T}=y;y!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&Di(h,u),gl(h.x,_.offset.x),gl(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const d=Ut();Di(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&yl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Wa(y.latestValues)&&yl(d,y.latestValues)}return Wa(this.latestValues)&&yl(d,this.latestValues),d}removeTransform(u){const h=Ut();Di(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Wa(p.latestValues))continue;ry(p.latestValues)&&p.updateSnapshot();const y=Ut(),_=p.measurePageBox();Di(y,_),cb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Wa(this.latestValues)&&cb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),uc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Di(this.target,this.layout.layoutBox),eR(this.target,this.targetDelta)):Di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),uc(this.relativeTargetOrigin,this.target,b.target),Di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||J1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Di(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;AV(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ut());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ob(this.prevProjectionDelta.x,this.projectionDelta.x),ob(this.prevProjectionDelta.y,this.projectionDelta.y)),lc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pl(),this.projectionDelta=pl(),this.projectionDeltaWithTransform=pl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},_=pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ut(),b=d?d.source:void 0,C=this.layout?this.layout.source:void 0,k=b!==C,P=this.getStack(),D=!P||P.members.length<=1,Y=!!(k&&!D&&this.options.crossfade===!0&&!this.path.some(_k));this.animationProgress=0;let H;this.mixTargetDelta=re=>{const te=re/1e3;vb(_.x,u.x,te),vb(_.y,u.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vk(this.relativeTarget,this.relativeTargetOrigin,T,te),H&&tk(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Ut()),Di(H,this.relativeTarget)),k&&(this.animationValues=y,QV(y,p,this.latestValues,te,Y,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.currentAnimation=qV(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&fR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ut();const _=jn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const T=jn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}Di(h,d),yl(h,y),lc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new nk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Tg("z",u,p,this.animationValues);for(let y=0;y<_g.length;y++)Tg(`rotate${_g[y]}`,u,p,this.animationValues),Tg(`skew${_g[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return rk;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Vf(u==null?void 0:u.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Vf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Wa(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=ik(this.projectionDeltaWithTransform,this.treeScale,y),d&&(h.transform=d(y,h.transform));const{x:_,y:T}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,p.animationValues?h.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const b in Sc){if(y[b]===void 0)continue;const{correct:C,applyTo:k,isCSSVariable:P}=Sc[b],D=h.transform==="none"?y[b]:C(y[b],p);if(k){const Y=k.length;for(let H=0;H<Y;H++)h[k[H]]=D}else P?this.options.visualElement.renderState.vars[b]=D:h[b]=D}return this.options.layoutId&&(h.pointerEvents=p===this?Vf(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(gb),this.root.sharedNodes.clear()}}}function ok(t){t.updateLayout()}function lk(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?Mi(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],b=jn(T);T.min=r[_].min,T.max=T.min+b}):fR(l,e.layoutBox,r)&&Mi(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],b=jn(r[_]);T.max=T.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+b)});const h=pl();lc(h,r,e.layoutBox);const d=pl();u?lc(d,t.applyTransform(a,!0),e.measuredBox):lc(d,r,e.layoutBox);const p=!lR(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:b}=_;if(T&&b){const C=Ut();uc(C,e.layoutBox,T.layoutBox);const k=Ut();uc(k,r,b.layoutBox),uR(C,k)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ck(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hk(t){t.clearSnapshot()}function gb(t){t.clearMeasurements()}function fk(t){t.isLayoutDirty=!1}function dk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mk(t){t.resolveTargetDelta()}function pk(t){t.calcProjection()}function gk(t){t.resetSkewAndRotation()}function yk(t){t.removeLeadSnapshot()}function vb(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _b(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function vk(t,e,n,r){_b(t.x,e.x,n.x,r),_b(t.y,e.y,n.y,r)}function _k(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Tk={duration:.45,ease:[.4,0,.1,1]},Tb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Eb=Tb("applewebkit/")&&!Tb("chrome/")?Math.round:Oi;function wb(t){t.min=Eb(t.min),t.max=Eb(t.max)}function Ek(t){wb(t.x),wb(t.y)}function fR(t,e,n){return t==="position"||t==="preserve-aspect"&&!bV(mb(e),mb(n),.2)}function wk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bk=hR({attachResizeListener:(t,e)=>Rc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},dR=hR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new bk({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sk={pan:{Feature:BV},drag:{Feature:jV,ProjectionNode:dR,MeasureLayout:sR}};function bb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Dt.postRender(()=>l(e,Hc(e)))}class Ak extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=tO(e,(n,r)=>(bb(this.node,r,"Start"),a=>bb(this.node,a,"End"))))}unmount(){}}class Rk extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(Rc(this.node.current,"focus",()=>this.onFocus()),Rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Dt.postRender(()=>l(e,Hc(e)))}class Ck extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=sO(e,(n,r)=>(Sb(this.node,r,"Start"),(a,{success:l})=>Sb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,wg=new WeakMap,Ik=t=>{const e=oy.get(t.target);e&&e(t)},xk=t=>{t.forEach(Ik)};function Dk({root:t,...e}){const n=t||document;wg.has(n)||wg.set(n,{});const r=wg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(xk,{root:t,...e})),r[a]}function Mk(t,e,n){const r=Dk(e);return oy.set(t,n),r.observe(t),()=>{oy.delete(t),r.unobserve(t)}}const Pk={some:0,all:1};class Nk extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Pk[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(d)};return Mk(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ok(e,n))&&this.startObserver()}unmount(){}}function Ok({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Vk={inView:{Feature:Nk},tap:{Feature:Ck},focus:{Feature:Rk},hover:{Feature:Ak}},kk={layout:{ProjectionNode:dR,MeasureLayout:sR}},ly={current:null},mR={current:!1};function Lk(){if(mR.current=!0,!!$y)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ly.current=t.matches;t.addListener(e),e()}else ly.current=!1}const Uk=new WeakMap;function jk(t,e,n){for(const r in e){const a=e[r],l=n[r];if(Dn(a))t.addValue(r,a);else if(Dn(l))t.addValue(r,Sl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,Sl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bk{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=$n.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Dd(n),this.isVariantNode=V1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const b=_[T];d[T]!==void 0&&Dn(b)&&b.set(d[T],!1)}}mount(e){this.current=e,Uk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mR.current||Lk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=kl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Al){const n=Al[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ab.length;r++){const a=Ab[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=jk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Sl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(FA(r)||qA(r))?r=parseFloat(r):!lO(r)&&aa.test(n)&&(r=R1(e,n)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=bv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ev),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class pR extends Bk{constructor(){super(...arguments),this.KeyframeResolver=XN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gR(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function zk(t){return window.getComputedStyle(t)}class Fk extends pR{constructor(){super(...arguments),this.type="html",this.renderInstance=gR}readValueFromInstance(e,n){var r;if(kl.has(n))return(r=this.projection)!=null&&r.isProjecting?Qg(n):pN(e,n);{const a=zk(e),l=(iv(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tR(e,n)}build(e,n,r){Tv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sv(e,n,r)}}const yR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hk(t,e,n,r){gR(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(yR.has(a)?a:_v(a),e.attrs[a])}class qk extends pR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kl.has(n)){const r=A1(n);return r&&r.default||0}return n=yR.has(n)?n:_v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return G1(e,n,r)}build(e,n,r){z1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Hk(e,n,r,a)}mount(e){this.isSVGTag=H1(e.tagName),super.mount(e)}}const Gk=(t,e)=>wv(t)?new qk(e):new Fk(e,{allowProjection:t!==L.Fragment}),Yk=HO({...pV,...Vk,...Sk,...kk},Gk),Kk=mO(Yk),$k=(t,e)=>{const n=new Set([...Object.keys(t),...e.flatMap(a=>Object.keys(a))]),r={};return n.forEach(a=>{r[a]=[t[a],...e.map(l=>l[a])]}),r},Qk=({text:t="",delay:e=200,className:n="",animateBy:r="words",direction:a="top",threshold:l=.1,rootMargin:u="0px",animationFrom:h,animationTo:d,easing:p=T=>T,onAnimationComplete:y,stepDuration:_=.35})=>{const T=r==="words"?t.split(" "):t.split(""),[b,C]=L.useState(!1),k=L.useRef(null);L.useEffect(()=>{if(!k.current)return;const M=new IntersectionObserver(([A])=>{A.isIntersecting&&(C(!0),M.unobserve(k.current))},{threshold:l,rootMargin:u});return M.observe(k.current),()=>M.disconnect()},[l,u]);const P=L.useMemo(()=>a==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[a]),D=L.useMemo(()=>[{filter:"blur(5px)",opacity:.5,y:a==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[a]),Y=h??P,H=d??D,re=H.length+1,te=_*(re-1),B=Array.from({length:re},(M,A)=>re===1?0:A/(re-1));return I.jsx("p",{ref:k,className:n,style:{display:"flex",flexWrap:"wrap"},children:T.map((M,A)=>{const x=$k(Y,H),U={duration:te,times:B,delay:A*e/1e3};return U.ease=p,I.jsxs(Kk.span,{className:"inline-block will-change-[transform,filter,opacity]",initial:Y,animate:b?x:Y,transition:U,onAnimationComplete:A===T.length-1?y:void 0,children:[M===" "?"":M,r==="words"&&A<T.length-1&&""]},A)})})},Xk=({text:t,disabled:e=!1,speed:n=5,className:r=""})=>{const a=`${n}s`;return I.jsx("div",{className:`shiny-text ${e?"disabled":""} ${r}`,style:{animationDuration:a},children:t})},Wk=[{emoji:"",label:"Sad"},{emoji:"",label:"Stressed"},{emoji:"",label:"Excited"},{emoji:"",label:"Tired"},{emoji:"",label:"Numb"},{emoji:"",label:"Nostalgic"},{emoji:"",label:"Adventurous"}],Zk=()=>{const[t,e]=L.useState(!1);return L.useEffect(()=>{e(!0)},[]),I.jsx("div",{className:`hero-section ${t?"visible":""}`,children:I.jsxs("div",{className:"content-container",children:[I.jsx("p",{className:"top-words",children:I.jsx(Qk,{text:"calm. Explore. Reflect",delay:150,animateBy:"words",direction:"top"})}),I.jsxs("h1",{className:"main-heading",children:[I.jsx("span",{className:"heading-line",children:"Your AI-powered"}),I.jsx("br",{}),I.jsx("span",{className:"heading-line",children:"travel & mindfulness"}),I.jsx("span",{className:"heading-line",style:{paddingLeft:"1rem"},children:"companion."})]}),I.jsx(Xk,{text:" Chat With Me!",disabled:!1,speed:3,className:"cta-button"}),I.jsxs("div",{className:"blur-box",children:[I.jsx("h2",{className:"mood-question",children:"How are you feeling today?"}),I.jsx("div",{className:"mood-options",children:Wk.map((n,r)=>I.jsxs(pn,{to:`/mood/${n.label.toLowerCase()}`,className:"mood-btn",style:{transitionDelay:`${r*50}ms`},children:[I.jsx("span",{className:"emoji",children:n.emoji}),I.jsx("span",{className:"label",children:n.label})]},r))})]})]})})};var vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rb=so.createContext&&so.createContext(vR),Jk=["attr","size","title"];function eL(t,e){if(t==null)return{};var n=tL(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function Cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cb(Object(n),!0).forEach(function(r){nL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nL(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=rL(t,"string");return typeof e=="symbol"?e:e+""}function rL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _R(t){return t&&t.map((e,n)=>so.createElement(e.tag,id({key:n},e.attr),_R(e.child)))}function ga(t){return e=>so.createElement(sL,nd({attr:id({},t.attr)},e),_R(t.child))}function sL(t){var e=n=>{var{attr:r,size:a,title:l}=t,u=eL(t,Jk),h=a||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),so.createElement("svg",nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:d,style:id(id({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&so.createElement("title",null,l),t.children)};return Rb!==void 0?so.createElement(Rb.Consumer,null,n=>e(n)):e(vR)}function aL(t){return ga({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function oL(t){return ga({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function lL(t){return ga({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function uL(t){return ga({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}const cL=()=>I.jsx("footer",{className:"minimal-footer",children:I.jsxs("div",{className:"footer-content",children:[I.jsxs("div",{className:"social-row",children:[I.jsx("a",{href:"https://github.com/tijani-web",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:I.jsx(aL,{className:"social-icon"})}),I.jsx("a",{href:"https://www.instagram.com/tijanidev?igsh=MWVpczc4eTBpM2xlYQ==",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:I.jsx(oL,{className:"social-icon"})}),I.jsx("a",{href:"https://www.linkedin.com/in/basit-tijani-4362b3320/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:I.jsx(lL,{className:"social-icon"})}),I.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=basiittdev@gmail.com&su=Hello%20Basit",target:"_blank",rel:"noopener noreferrer","aria-label":"Email",children:I.jsx(uL,{className:"social-icon"})})]}),I.jsx("div",{className:"divider"}),I.jsxs("div",{className:"copyright",children:[" ",new Date().getFullYear()," Wandermind. All rights reserved."]})]})});function hL(t){return ga({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function fL(t){return ga({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(t)}function dL(t){return ga({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function mL(t){return ga({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}const pL=()=>{};var Ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},gL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ER={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,b=p&63;d||(b=64,u||(T=64)),r.push(n[y],n[_],n[T],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new yL;const T=l<<2|h>>4;if(r.push(T),p!==64){const b=h<<4&240|p>>2;if(r.push(b),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vL=function(t){const e=TR(t);return ER.encodeByteArray(e,!0)},rd=function(t){return vL(t).replace(/\./g,"")},wR=function(t){try{return ER.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=()=>_L().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof Ib>"u")return;const t=Ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wR(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return pL()||TL()||EL()||wL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bR=t=>{var e,n;return(n=(e=Md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bL=t=>{const e=bR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SR=()=>{var t;return(t=Md())===null||t===void 0?void 0:t.config},AR=t=>{var e;return(e=Md())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return t.endsWith(".cloudworkstations.dev")}async function RR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rd(JSON.stringify(n)),rd(JSON.stringify(u)),""].join(".")}const cc={};function RL(){const t={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?t.emulator.push(e):t.prod.push(e);return t}function CL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xb=!1;function CR(t,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||cc[t]===e||cc[t]||xb)return;cc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=RL().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{xb=!0,u()},T}function y(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=CL(r),b=n("text"),C=document.getElementById(b)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),D=n("preprendIcon"),Y=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;h(H),y(P,k);const re=p();d(Y,D),H.append(Y,C,P,re),document.body.appendChild(H)}l?(C.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function xL(){var t;const e=(t=Md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ML(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PL(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function OL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VL,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?kL(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Xi(a,h,r)}}function kL(t,e){return t.replace(LL,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const LL=/\{\$([^}]+)}/g;function UL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(Db(l)&&Db(u)){if(!oa(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Db(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jL(t,e){const n=new BL(t,e);return n.subscribe.bind(n)}class BL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=bg),a.error===void 0&&(a.error=bg),a.complete===void 0&&(a.complete=bg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1e3,HL=2,qL=4*60*60*1e3,GL=.5;function Mb(t,e=FL,n=HL){const r=e*Math.pow(n,t),a=Math.round(GL*r*(Math.random()-.5)*2);return Math.min(qL,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($L(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KL(t){return t===Za?void 0:t}function $L(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const XL={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},WL=tt.INFO,ZL={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},JL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ZL[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=WL,this._logHandler=JL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const e4=(t,e)=>e.some(n=>t instanceof n);let Pb,Nb;function t4(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n4(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MR=new WeakMap,uy=new WeakMap,PR=new WeakMap,Sg=new WeakMap,Rv=new WeakMap;function i4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ea(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&MR.set(n,t)}).catch(()=>{}),Rv.set(e,t),e}function r4(t){if(uy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});uy.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s4(t){cy=t(cy)}function a4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ag(this),e,...n);return PR.set(r,e.sort?e.sort():[e]),ea(r)}:n4().includes(t)?function(...e){return t.apply(Ag(this),e),ea(MR.get(this))}:function(...e){return ea(t.apply(Ag(this),e))}}function o4(t){return typeof t=="function"?a4(t):(t instanceof IDBTransaction&&r4(t),e4(t,t4())?new Proxy(t,cy):t)}function ea(t){if(t instanceof IDBRequest)return i4(t);if(Sg.has(t))return Sg.get(t);const e=o4(t);return e!==t&&(Sg.set(t,e),Rv.set(e,t)),e}const Ag=t=>Rv.get(t);function NR(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=ea(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ea(u.result),d.oldVersion,d.newVersion,ea(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const l4=["get","getKey","getAll","getAllKeys","count"],u4=["put","add","delete","clear"],Rg=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=u4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||l4.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Rg.set(e,l),l}s4(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hy="@firebase/app",Vb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Pd("@firebase/app"),f4="@firebase/app-compat",d4="@firebase/analytics-compat",m4="@firebase/analytics",p4="@firebase/app-check-compat",g4="@firebase/app-check",y4="@firebase/auth",v4="@firebase/auth-compat",_4="@firebase/database",T4="@firebase/data-connect",E4="@firebase/database-compat",w4="@firebase/functions",b4="@firebase/functions-compat",S4="@firebase/installations",A4="@firebase/installations-compat",R4="@firebase/messaging",C4="@firebase/messaging-compat",I4="@firebase/performance",x4="@firebase/performance-compat",D4="@firebase/remote-config",M4="@firebase/remote-config-compat",P4="@firebase/storage",N4="@firebase/storage-compat",O4="@firebase/firestore",V4="@firebase/ai",k4="@firebase/firestore-compat",L4="firebase",U4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",j4={[hy]:"fire-core",[f4]:"fire-core-compat",[m4]:"fire-analytics",[d4]:"fire-analytics-compat",[g4]:"fire-app-check",[p4]:"fire-app-check-compat",[y4]:"fire-auth",[v4]:"fire-auth-compat",[_4]:"fire-rtdb",[T4]:"fire-data-connect",[E4]:"fire-rtdb-compat",[w4]:"fire-fn",[b4]:"fire-fn-compat",[S4]:"fire-iid",[A4]:"fire-iid-compat",[R4]:"fire-fcm",[C4]:"fire-fcm-compat",[I4]:"fire-perf",[x4]:"fire-perf-compat",[D4]:"fire-rc",[M4]:"fire-rc-compat",[P4]:"fire-gcs",[N4]:"fire-gcs-compat",[O4]:"fire-fst",[k4]:"fire-fst-compat",[V4]:"fire-vertex","fire-js":"fire-js",[L4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,B4=new Map,dy=new Map;function kb(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){const e=t.name;if(dy.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of sd.values())kb(n,t);for(const n of B4.values())kb(n,t);return!0}function vo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new yo("app","Firebase",z4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=U4;function OR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw ta.create("bad-app-name",{appName:String(a)});if(n||(n=SR()),!n)throw ta.create("no-options");const l=sd.get(a);if(l){if(oa(n,l.options)&&oa(r,l.config))return l;throw ta.create("duplicate-app",{appName:a})}const u=new QL(a);for(const d of dy.values())u.addComponent(d);const h=new F4(n,r,u);return sd.set(a,h),h}function Cv(t=fy){const e=sd.get(t);if(!e&&t===fy&&SR())return OR();if(!e)throw ta.create("no-app",{appName:t});return e}function Vi(t,e,n){var r;let a=(r=j4[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(h.join(" "));return}Rr(new Ki(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebase-heartbeat-database",q4=1,Cc="firebase-heartbeat-store";let Cg=null;function VR(){return Cg||(Cg=NR(H4,q4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),Cg}async function G4(t){try{const n=(await VR()).transaction(Cc),r=await n.objectStore(Cc).get(kR(t));return await n.done,r}catch(e){if(e instanceof Xi)ls.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function Lb(t,e){try{const r=(await VR()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,kR(t)),await r.done}catch(n){if(n instanceof Xi)ls.warn(n.message);else{const r=ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1024,K4=30;class $4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ub();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>K4){const u=W4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ub(),{heartbeatsToSend:r,unsentEntries:a}=Q4(this._heartbeatsCache.heartbeats),l=rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ls.warn(n),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function Q4(t,e=Y4){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),jb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function jb(t){return rd(JSON.stringify({version:2,heartbeats:t})).length}function W4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){Rr(new Ki("platform-logger",e=>new c4(e),"PRIVATE")),Rr(new Ki("heartbeat",e=>new $4(e),"PRIVATE")),Vi(hy,Vb,t),Vi(hy,Vb,"esm2017"),Vi("fire-js","")}Z4("");function Iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function LR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J4=LR,UR=new yo("auth","Firebase",LR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Pd("@firebase/auth");function e6(t,...e){ad.logLevel<=tt.WARN&&ad.warn(`Auth (${Ul}): ${t}`,...e)}function Lf(t,...e){ad.logLevel<=tt.ERROR&&ad.error(`Auth (${Ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw xv(t,...e)}function wr(t,...e){return xv(t,...e)}function jR(t,e,n){const r=Object.assign(Object.assign({},J4()),{[e]:n});return new yo("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return jR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UR.create(t,...e)}function Le(t,e,...n){if(!t)throw xv(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function us(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t6(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t6()||IR()||"connection"in navigator)?navigator.onLine:!0}function i6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=IL()||ML()}get(){return n6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a6=new Gc(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,r,a={}){return zR(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=qc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return DL()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(p.credentials="include"),BR.fetch()(await FR(t,t.config.apiHost,n,h),p)})}async function zR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r6),e);try{const a=new l6(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Sf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jR(t,y,p);$i(t,y)}}catch(a){if(a instanceof Xi)throw a;$i(t,"network-request-failed",{message:String(a)})}}async function Yc(t,e,n,r,a={}){const l=await Dr(t,e,n,r,a);return"mfaPendingCredential"in l&&$i(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FR(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Dv(t.config,a):`${t.config.apiScheme}://${a}`;return s6.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function o6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),a6.get())})}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=wr(t,e,r);return a.customData._tokenResponse=n,a}function zb(t){return t!==void 0&&t.enterprise!==void 0}class u6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function c6(t,e){return Dr(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function od(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f6(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),a=Mv(r);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:hc(Ig(a.auth_time)),issuedAtTime:hc(Ig(a.iat)),expirationTime:hc(Ig(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function Mv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=wR(n);return a?JSON.parse(a):(Lf("Failed to decode base64 JWT payload"),null)}catch(a){return Lf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Fb(t){const e=Mv(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&d6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Rl(t,od(n,{idToken:r}));Le(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?HR(l.providerUserInfo):[],h=g6(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new py(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function p6(t){const e=Vt(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function HR(t){return t.map(e=>{var{providerId:n}=e,r=Iv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){const n=await zR(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await FR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(d.credentials="include"),BR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v6(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=Fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await y6(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new Tl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new py(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f6(this,e)}reload(){return p6(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Rl(this,h6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,h,d,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,b=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,k=(h=n.tenantId)!==null&&h!==void 0?h:void 0,P=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Y=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:re,isAnonymous:te,providerData:B,stsTokenManager:M}=n;Le(H&&M,e,"internal-error");const A=Tl.fromJSON(this.name,M);Le(typeof H=="string",e,"internal-error"),Hs(_,e.name),Hs(T,e.name),Le(typeof re=="boolean",e,"internal-error"),Le(typeof te=="boolean",e,"internal-error"),Hs(b,e.name),Hs(C,e.name),Hs(k,e.name),Hs(P,e.name),Hs(D,e.name),Hs(Y,e.name);const x=new Gi({uid:H,auth:e,email:T,emailVerified:re,displayName:_,isAnonymous:te,photoURL:C,phoneNumber:b,tenantId:k,stsTokenManager:A,createdAt:D,lastLoginAt:Y});return B&&Array.isArray(B)&&(x.providerData=B.map(U=>Object.assign({},U))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const a=new Tl;a.updateFromServerResponse(n);const l=new Gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ld(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Tl;h.updateFromIdToken(r);const d=new Gi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;function is(t){us(t instanceof Function,"Expected a class definition");let e=Hb.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qR.type="NONE";const qb=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await od(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new El(is(qb),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||is(qb);const u=Uf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const T=await od(e,{idToken:y}).catch(()=>{});if(!T)break;_=await Gi._fromGetAccountInfoResponse(e,T,y)}else _=Gi._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new El(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new El(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XR(e))return"Blackberry";if(WR(e))return"Webos";if(YR(e))return"Safari";if((e.includes("chrome/")||KR(e))&&!e.includes("edge/"))return"Chrome";if(QR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GR(t=Mn()){return/firefox\//i.test(t)}function YR(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KR(t=Mn()){return/crios\//i.test(t)}function $R(t=Mn()){return/iemobile/i.test(t)}function QR(t=Mn()){return/android/i.test(t)}function XR(t=Mn()){return/blackberry/i.test(t)}function WR(t=Mn()){return/webos/i.test(t)}function Pv(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _6(t=Mn()){var e;return Pv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T6(){return PL()&&document.documentMode===10}function ZR(t=Mn()){return Pv(t)||QR(t)||WR(t)||XR(t)||/windows phone/i.test(t)||$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e=[]){let n;switch(t){case"Browser":n=Gb(Mn());break;case"Worker":n=`${Gb(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=6;class S6{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:b6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yb(this),this.idTokenSubscription=new Yb(this),this.beforeStateQueue=new E6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await od(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(rs(this));const n=e?Vt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w6(this),n=new S6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&e6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return Vt(t)}class Yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jL(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R6(t){Nd=t}function eC(t){return Nd.loadJS(t)}function C6(){return Nd.recaptchaEnterpriseScript}function I6(){return Nd.gapiScript}function x6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D6{constructor(){this.enterprise=new M6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P6="recaptcha-enterprise",tC="NO_RECAPTCHA";class N6{constructor(e){this.type=P6,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{c6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new u6(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;zb(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(tC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D6().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&zb(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=C6();d.length!==0&&(d+=h),eC(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Kb(t,e,n,r=!1,a=!1){const l=new N6(t);let u;if(a)u=tC;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ud(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kb(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Kb(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){const n=vo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(oa(l,e??{}))return a;$i(a,"already-initialized")}return n.initialize({options:e})}function V6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k6(t,e,n){const r=ya(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=nC(e),{host:u,port:h}=L6(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(oa(p,r.config.emulator)&&oa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ll(u)?(RR(`${l}//${u}${d}`),CR("Auth",!0)):U6()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L6(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:$b(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:$b(u)}}}function $b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function j6(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(t,e){return Yc(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}async function z6(t,e){return Dr(t,"POST","/v1/accounts:sendOobCode",fs(t,e))}async function F6(t,e){return z6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function q6(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Nv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ud(e,n,"signInWithPassword",B6);case"emailLink":return H6(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ud(e,r,"signUpPassword",j6);case"emailLink":return q6(e,{idToken:n,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Yc(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="http://localhost";class lo extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Iv(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new lo(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:G6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K6(t){const e=Ju(ec(t)).link,n=e?Ju(ec(e)).deep_link_id:null,r=Ju(ec(t)).deep_link_id;return(r?Ju(ec(r)).link:null)||r||n||e||t}class Ov{constructor(e){var n,r,a,l,u,h;const d=Ju(ec(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=Y6((a=d.mode)!==null&&a!==void 0?a:null);Le(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=K6(e);try{return new Ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return Ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ov.parseLink(n);return Le(r,"argument-error"),Ic._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Kc{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Kc{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Kc{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e){return Yc(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Gi._fromIdTokenResponse(e,r,a),u=Qb(r);return new uo({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Qb(r);return new uo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Xi{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new cd(e,n,r,a)}}function rC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(t,l,e,r):l})}async function Q6(t,e,n=!1){const r=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(rs(r));const a="reauthenticate";try{const l=await Rl(t,rC(r,a,e,t),n);Le(l.idToken,r,"internal-error");const u=Mv(l.idToken);Le(u,r,"internal-error");const{sub:h}=u;return Le(t.uid===h,r,"user-mismatch"),uo._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$i(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e,n=!1){if(Ni(t.app))return Promise.reject(rs(t));const r="signIn",a=await rC(t,r,e),l=await uo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function W6(t,e){return sC(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z6(t,e,n){const r=ya(t);await ud(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",F6)}async function J6(t,e,n){if(Ni(t.app))return Promise.reject(rs(t));const r=ya(t),u=await ud(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$6).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&aC(t),d}),h=await uo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function eU(t,e,n){return Ni(t.app)?Promise.reject(rs(t)):W6(Vt(t),jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e){return Dr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Rl(r,tU(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function iU(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function rU(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function sU(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=1e3,oU=10;class lC extends oC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);T6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,oU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const lU=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends oC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uC.type="SESSION";const cC=uC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await uU(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Vv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function hU(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function fU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mU(){return hC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",pU=1,fd="firebaseLocalStorage",dC="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function gU(){const t=indexedDB.deleteDatabase(fC);return new $c(t).toPromise()}function gy(){const t=indexedDB.open(fC,pU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fd,{keyPath:dC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await gU(),e(await gy()))})})}async function Xb(t,e,n){const r=Vd(t,!0).put({[dC]:e,value:n});return new $c(r).toPromise()}async function yU(t,e){const n=Vd(t,!1).get(e),r=await new $c(n).toPromise();return r===void 0?null:r.value}function Wb(t,e){const n=Vd(t,!0).delete(e);return new $c(n).toPromise()}const vU=800,_U=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_U)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(mU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fU(),!this.activeServiceWorker)return;this.sender=new cU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await Xb(e,hd,"1"),await Wb(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Vd(a,!1).getAll();return new $c(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const TU=mC;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e){return e?is(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wU(t){return sC(t.auth,new kv(t),t.bypassAuthState)}function bU(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),X6(n,new kv(t),t.bypassAuthState)}async function SU(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),Q6(n,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wU;case"linkViaPopup":case"linkViaRedirect":return SU;case"reauthViaPopup":case"reauthViaRedirect":return bU;default:$i(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Gc(2e3,1e4);class vl extends pC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AU.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="pendingRedirect",jf=new Map;class CU extends pC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const r=await IU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IU(t,e){const n=MU(e),r=DU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function xU(t,e){jf.set(t._key(),e)}function DU(t){return is(t._redirectPersistence)}function MU(t){return Uf(RU,t.config.apiKey,t.name)}async function PU(t,e,n=!1){if(Ni(t.app))return Promise.reject(rs(t));const r=ya(t),a=EU(r,e),u=await new CU(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=10*60*1e3;class OU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zb(e))}saveEventToCache(e){this.cachedEventUids.add(Zb(e)),this.lastProcessedEventTime=Date.now()}}function Zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UU=/^https?/;async function jU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kU(t);for(const n of e)try{if(BU(n))return}catch{}$i(t,"unauthorized-domain")}function BU(t){const e=my(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!UU.test(n))return!1;if(LU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Gc(3e4,6e4);function Jb(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var r,a,l;function u(){Jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jb(),n(wr(t,"network-request-failed"))},timeout:zU.get()})}if(!((a=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=br().gapi)===null||l===void 0)&&l.load)u();else{const h=x6("iframefcb");return br()[h]=()=>{gapi.load?u():n(wr(t,"network-request-failed"))},eC(`${I6()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function HU(t){return Bf=Bf||FU(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new Gc(5e3,15e3),GU="__/auth/iframe",YU="emulator/auth/iframe",KU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QU(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dv(e,YU):`https://${t.config.authDomain}/${GU}`,r={apiKey:e.apiKey,appName:t.name,v:Ul},a=$U.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${qc(r).slice(1)}`}async function XU(t){const e=await HU(t),n=br().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:QU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KU,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=wr(t,"network-request-failed"),h=br().setTimeout(()=>{l(u)},qU.get());function d(){br().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,JU=600,e3="_blank",t3="http://localhost";class eS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n3(t,e,n,r=ZU,a=JU){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},WU),{width:r.toString(),height:a.toString(),top:l,left:u}),p=Mn().toLowerCase();n&&(h=KR(p)?e3:n),GR(p)&&(e=e||t3,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[b,C])=>`${T}${b}=${C},`,"");if(_6(p)&&h!=="_self")return i3(e||"",h),new eS(null);const _=window.open(e||"",h,y);Le(_,t,"popup-blocked");try{_.focus()}catch{}return new eS(_)}function i3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="__/auth/handler",s3="emulator/auth/handler",a3=encodeURIComponent("fac");async function tS(t,e,n,r,a,l){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ul,eventId:a};if(e instanceof iC){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",UL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Kc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${a3}=${encodeURIComponent(d)}`:"";return`${o3(t)}?${qc(h).slice(1)}${p}`}function o3({config:t}){return t.emulator?Dv(t,s3):`https://${t.authDomain}/${r3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class l3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cC,this._completeRedirectFn=PU,this._overrideRedirectResult=xU}async _openPopup(e,n,r,a){var l;us((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await tS(e,n,r,my(),a);return n3(e,u,Vv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await tS(e,n,r,my(),a);return hU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(us(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XU(e),r=new OU(e);return n.register("authEvent",a=>(Le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xg,{type:xg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[xg];u!==void 0&&n(!!u),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZR()||YR()||Pv()}}const u3=l3;var nS="@firebase/auth",iS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f3(t){Rr(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(t)},p=new A6(r,a,l,d);return V6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new Ki("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new c3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(nS,iS,h3(t)),Vi(nS,iS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=5*60,m3=AR("authIdTokenMaxAge")||d3;let rS=null;const p3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m3)return;const a=n==null?void 0:n.token;rS!==a&&(rS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function g3(t=Cv()){const e=vo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O6(t,{popupRedirectResolver:u3,persistence:[TU,lU,cC]}),r=AR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=p3(l.toString());rU(n,u,()=>u(n.currentUser)),iU(n,h=>u(h))}}const a=bR("auth");return a&&k6(n,`http://${a}`),n}function y3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=wr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",y3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f3("Browser");var v3="firebase",_3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(v3,_3,"app");const yC="@firebase/installations",Lv="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1e4,_C=`w:${Lv}`,TC="FIS_v2",T3="https://firebaseinstallations.googleapis.com/v1",E3=60*60*1e3,w3="installations",b3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},co=new yo(w3,b3,S3);function EC(t){return t instanceof Xi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC({projectId:t}){return`${T3}/projects/${t}/installations`}function bC(t){return{token:t.token,requestStatus:2,expiresIn:R3(t.expiresIn),creationTime:Date.now()}}async function SC(t,e){const r=(await e.json()).error;return co.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A3(t,{refreshToken:e}){const n=AC(t);return n.append("Authorization",C3(e)),n}async function RC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function R3(t){return Number(t.replace("s","000"))}function C3(t){return`${TC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wC(t),a=AC(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:TC,appId:t.appId,sdkVersion:_C},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await RC(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:bC(p.authToken)}}else throw await SC("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=/^[cdef][\w-]{21}$/,yy="";function M3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=P3(t);return D3.test(n)?n:yy}catch{return yy}}function P3(t){return x3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Map;function xC(t,e){const n=kd(t);DC(n,e),N3(n,e)}function DC(t,e){const n=IC.get(t);if(n)for(const r of n)r(e)}function N3(t,e){const n=O3();n&&n.postMessage({key:t,fid:e}),V3()}let io=null;function O3(){return!io&&"BroadcastChannel"in self&&(io=new BroadcastChannel("[Firebase] FID Change"),io.onmessage=t=>{DC(t.data.key,t.data.fid)}),io}function V3(){IC.size===0&&io&&(io.close(),io=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firebase-installations-database",L3=1,ho="firebase-installations-store";let Dg=null;function Uv(){return Dg||(Dg=NR(k3,L3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ho)}}})),Dg}async function dd(t,e){const n=kd(t),a=(await Uv()).transaction(ho,"readwrite"),l=a.objectStore(ho),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&xC(t,e.fid),e}async function MC(t){const e=kd(t),r=(await Uv()).transaction(ho,"readwrite");await r.objectStore(ho).delete(e),await r.done}async function Ld(t,e){const n=kd(t),a=(await Uv()).transaction(ho,"readwrite"),l=a.objectStore(ho),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&xC(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(t){let e;const n=await Ld(t.appConfig,r=>{const a=U3(r),l=j3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===yy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function U3(t){const e=t||{fid:M3(),registrationStatus:0};return PC(e)}function j3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(co.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=B3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:z3(t)}:{installationEntry:e}}async function B3(t,e){try{const n=await I3(t,e);return dd(t.appConfig,n)}catch(n){throw EC(n)&&n.customData.serverCode===409?await MC(t.appConfig):await dd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function z3(t){let e=await sS(t.appConfig);for(;e.registrationStatus===1;)await CC(100),e=await sS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jv(t);return r||n}return e}function sS(t){return Ld(t,e=>{if(!e)throw co.create("installation-not-found");return PC(e)})}function PC(t){return F3(t)?{fid:t.fid,registrationStatus:0}:t}function F3(t){return t.registrationStatus===1&&t.registrationTime+vC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3({appConfig:t,heartbeatServiceProvider:e},n){const r=q3(t,n),a=A3(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:_C,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await RC(()=>fetch(r,h));if(d.ok){const p=await d.json();return bC(p)}else throw await SC("Generate Auth Token",d)}function q3(t,{fid:e}){return`${wC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t,e=!1){let n;const r=await Ld(t.appConfig,l=>{if(!NC(l))throw co.create("not-registered");const u=l.authToken;if(!e&&K3(u))return l;if(u.requestStatus===1)return n=G3(t,e),l;{if(!navigator.onLine)throw co.create("app-offline");const h=Q3(l);return n=Y3(t,h),h}});return n?await n:r.authToken}async function G3(t,e){let n=await aS(t.appConfig);for(;n.authToken.requestStatus===1;)await CC(100),n=await aS(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bv(t,e):r}function aS(t){return Ld(t,e=>{if(!NC(e))throw co.create("not-registered");const n=e.authToken;return X3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Y3(t,e){try{const n=await H3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dd(t.appConfig,r),n}catch(n){if(EC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MC(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dd(t.appConfig,r)}throw n}}function NC(t){return t!==void 0&&t.registrationStatus===2}function K3(t){return t.requestStatus===2&&!$3(t)}function $3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+E3}function Q3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function X3(t){return t.requestStatus===1&&t.requestTime+vC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t){const e=t,{installationEntry:n,registrationPromise:r}=await jv(e);return r?r.catch(console.error):Bv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e=!1){const n=t;return await J3(n),(await Bv(n,e)).token}async function J3(t){const{registrationPromise:e}=await jv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){if(!t||!t.options)throw Mg("App Configuration");if(!t.name)throw Mg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Mg(t){return co.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="installations",tj="installations-internal",nj=t=>{const e=t.getProvider("app").getImmediate(),n=ej(e),r=vo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ij=t=>{const e=t.getProvider("app").getImmediate(),n=vo(e,OC).getImmediate();return{getId:()=>W3(n),getToken:a=>Z3(n,a)}};function rj(){Rr(new Ki(OC,nj,"PUBLIC")),Rr(new Ki(tj,ij,"PRIVATE"))}rj();Vi(yC,Lv);Vi(yC,Lv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="analytics",sj="firebase_id",aj="origin",oj=60*1e3,lj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ci=new yo("analytics","Analytics",uj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){if(!t.startsWith(zv)){const e=ci.create("invalid-gtag-resource",{gtagURL:t});return Qn.warn(e.message),""}return t}function VC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fj(t,e){const n=hj("firebase-js-sdk-policy",{createScriptURL:cj}),r=document.createElement("script"),a=`${zv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function dj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function mj(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const d=(await VC(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){Qn.error(h)}t("config",a,l)}async function pj(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await VC(n);for(const d of u){const p=h.find(_=>_.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){Qn.error(l)}}function gj(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await pj(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await mj(t,e,n,r,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Qn.error(h)}}return a}function yj(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=gj(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function vj(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=30,Tj=1e3;class Ej{constructor(e={},n=Tj){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kC=new Ej;function wj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function bj(t){var e;const{appId:n,apiKey:r}=t,a={method:"GET",headers:wj(r)},l=lj.replace("{app-id}",n),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let h="";try{const d=await u.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function Sj(t,e=kC,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw ci.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw ci.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Cj;return setTimeout(async()=>{h.abort()},oj),LC({appId:r,apiKey:a,measurementId:l},u,h,e)}async function LC(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=kC){var l;const{appId:u,measurementId:h}=t;try{await Aj(r,e)}catch(d){if(h)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:u,measurementId:h};throw d}try{const d=await bj(t);return a.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!Rj(p)){if(a.deleteThrottleMetadata(u),h)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:h};throw d}const y=Number((l=p==null?void 0:p.customData)===null||l===void 0?void 0:l.httpStatus)===503?Mb(n,a.intervalMillis,_j):Mb(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return a.setThrottleMetadata(u,_),Qn.debug(`Calling attemptFetch again in ${y} millis`),LC(t,_,r,a)}}function Aj(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Rj(t){if(!(t instanceof Xi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Cj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ij(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u=Object.assign(Object.assign({},r),{send_to:l});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(){if(xR())try{await DR()}catch(t){return Qn.warn(ci.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qn.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Dj(t,e,n,r,a,l,u){var h;const d=Sj(t);d.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Qn.error(b)),e.push(d);const p=xj().then(b=>{if(b)return r.getId()}),[y,_]=await Promise.all([d,p]);vj(l)||fj(l,y.measurementId),a("js",new Date);const T=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return T[aj]="firebase",T.update=!0,_!=null&&(T[sj]=_),a("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.app=e}_delete(){return delete fc[this.app.options.appId],Promise.resolve()}}let fc={},oS=[];const lS={};let Pg="dataLayer",Pj="gtag",uS,UC,cS=!1;function Nj(){const t=[];if(IR()&&t.push("This is a browser extension environment."),OL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=ci.create("invalid-analytics-context",{errorInfo:e});Qn.warn(n.message)}}function Oj(t,e,n){Nj();const r=t.options.appId;if(!r)throw ci.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ci.create("no-api-key");if(fc[r]!=null)throw ci.create("already-exists",{id:r});if(!cS){dj(Pg);const{wrappedGtag:l,gtagCore:u}=yj(fc,oS,lS,Pg,Pj);UC=l,uS=u,cS=!0}return fc[r]=Dj(t,oS,lS,e,uS,Pg,n),new Mj(t)}function Vj(t=Cv()){t=Vt(t);const e=vo(t,md);return e.isInitialized()?e.getImmediate():kj(t)}function kj(t,e={}){const n=vo(t,md);if(n.isInitialized()){const a=n.getImmediate();if(oa(e,n.getOptions()))return a;throw ci.create("already-initialized")}return n.initialize({options:e})}function Lj(t,e,n,r){t=Vt(t),Ij(UC,fc[t.app.options.appId],e,n,r).catch(a=>Qn.error(a))}const hS="@firebase/analytics",fS="0.10.16";function Uj(){Rr(new Ki(md,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Oj(r,a,n)},"PUBLIC")),Rr(new Ki("analytics-internal",t,"PRIVATE")),Vi(hS,fS),Vi(hS,fS,"esm2017");function t(e){try{const n=e.getProvider(md).getImmediate();return{logEvent:(r,a,l)=>Lj(n,r,a,l)}}catch(n){throw ci.create("interop-component-reg-failed",{reason:n})}}}Uj();var dS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,jC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function x(){}x.prototype=A.prototype,M.D=A.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(U,z,G){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return A.prototype[z].apply(U,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,x){x||(x=0);var U=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)U[z]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(z=0;16>z;++z)U[z]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=M.g[0],x=M.g[1],z=M.g[2];var G=M.g[3],N=A+(G^x&(z^G))+U[0]+3614090360&4294967295;A=x+(N<<7&4294967295|N>>>25),N=G+(z^A&(x^z))+U[1]+3905402710&4294967295,G=A+(N<<12&4294967295|N>>>20),N=z+(x^G&(A^x))+U[2]+606105819&4294967295,z=G+(N<<17&4294967295|N>>>15),N=x+(A^z&(G^A))+U[3]+3250441966&4294967295,x=z+(N<<22&4294967295|N>>>10),N=A+(G^x&(z^G))+U[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=G+(z^A&(x^z))+U[5]+1200080426&4294967295,G=A+(N<<12&4294967295|N>>>20),N=z+(x^G&(A^x))+U[6]+2821735955&4294967295,z=G+(N<<17&4294967295|N>>>15),N=x+(A^z&(G^A))+U[7]+4249261313&4294967295,x=z+(N<<22&4294967295|N>>>10),N=A+(G^x&(z^G))+U[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=G+(z^A&(x^z))+U[9]+2336552879&4294967295,G=A+(N<<12&4294967295|N>>>20),N=z+(x^G&(A^x))+U[10]+4294925233&4294967295,z=G+(N<<17&4294967295|N>>>15),N=x+(A^z&(G^A))+U[11]+2304563134&4294967295,x=z+(N<<22&4294967295|N>>>10),N=A+(G^x&(z^G))+U[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=G+(z^A&(x^z))+U[13]+4254626195&4294967295,G=A+(N<<12&4294967295|N>>>20),N=z+(x^G&(A^x))+U[14]+2792965006&4294967295,z=G+(N<<17&4294967295|N>>>15),N=x+(A^z&(G^A))+U[15]+1236535329&4294967295,x=z+(N<<22&4294967295|N>>>10),N=A+(z^G&(x^z))+U[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=G+(x^z&(A^x))+U[6]+3225465664&4294967295,G=A+(N<<9&4294967295|N>>>23),N=z+(A^x&(G^A))+U[11]+643717713&4294967295,z=G+(N<<14&4294967295|N>>>18),N=x+(G^A&(z^G))+U[0]+3921069994&4294967295,x=z+(N<<20&4294967295|N>>>12),N=A+(z^G&(x^z))+U[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=G+(x^z&(A^x))+U[10]+38016083&4294967295,G=A+(N<<9&4294967295|N>>>23),N=z+(A^x&(G^A))+U[15]+3634488961&4294967295,z=G+(N<<14&4294967295|N>>>18),N=x+(G^A&(z^G))+U[4]+3889429448&4294967295,x=z+(N<<20&4294967295|N>>>12),N=A+(z^G&(x^z))+U[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=G+(x^z&(A^x))+U[14]+3275163606&4294967295,G=A+(N<<9&4294967295|N>>>23),N=z+(A^x&(G^A))+U[3]+4107603335&4294967295,z=G+(N<<14&4294967295|N>>>18),N=x+(G^A&(z^G))+U[8]+1163531501&4294967295,x=z+(N<<20&4294967295|N>>>12),N=A+(z^G&(x^z))+U[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=G+(x^z&(A^x))+U[2]+4243563512&4294967295,G=A+(N<<9&4294967295|N>>>23),N=z+(A^x&(G^A))+U[7]+1735328473&4294967295,z=G+(N<<14&4294967295|N>>>18),N=x+(G^A&(z^G))+U[12]+2368359562&4294967295,x=z+(N<<20&4294967295|N>>>12),N=A+(x^z^G)+U[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=G+(A^x^z)+U[8]+2272392833&4294967295,G=A+(N<<11&4294967295|N>>>21),N=z+(G^A^x)+U[11]+1839030562&4294967295,z=G+(N<<16&4294967295|N>>>16),N=x+(z^G^A)+U[14]+4259657740&4294967295,x=z+(N<<23&4294967295|N>>>9),N=A+(x^z^G)+U[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=G+(A^x^z)+U[4]+1272893353&4294967295,G=A+(N<<11&4294967295|N>>>21),N=z+(G^A^x)+U[7]+4139469664&4294967295,z=G+(N<<16&4294967295|N>>>16),N=x+(z^G^A)+U[10]+3200236656&4294967295,x=z+(N<<23&4294967295|N>>>9),N=A+(x^z^G)+U[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=G+(A^x^z)+U[0]+3936430074&4294967295,G=A+(N<<11&4294967295|N>>>21),N=z+(G^A^x)+U[3]+3572445317&4294967295,z=G+(N<<16&4294967295|N>>>16),N=x+(z^G^A)+U[6]+76029189&4294967295,x=z+(N<<23&4294967295|N>>>9),N=A+(x^z^G)+U[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=G+(A^x^z)+U[12]+3873151461&4294967295,G=A+(N<<11&4294967295|N>>>21),N=z+(G^A^x)+U[15]+530742520&4294967295,z=G+(N<<16&4294967295|N>>>16),N=x+(z^G^A)+U[2]+3299628645&4294967295,x=z+(N<<23&4294967295|N>>>9),N=A+(z^(x|~G))+U[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=G+(x^(A|~z))+U[7]+1126891415&4294967295,G=A+(N<<10&4294967295|N>>>22),N=z+(A^(G|~x))+U[14]+2878612391&4294967295,z=G+(N<<15&4294967295|N>>>17),N=x+(G^(z|~A))+U[5]+4237533241&4294967295,x=z+(N<<21&4294967295|N>>>11),N=A+(z^(x|~G))+U[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=G+(x^(A|~z))+U[3]+2399980690&4294967295,G=A+(N<<10&4294967295|N>>>22),N=z+(A^(G|~x))+U[10]+4293915773&4294967295,z=G+(N<<15&4294967295|N>>>17),N=x+(G^(z|~A))+U[1]+2240044497&4294967295,x=z+(N<<21&4294967295|N>>>11),N=A+(z^(x|~G))+U[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=G+(x^(A|~z))+U[15]+4264355552&4294967295,G=A+(N<<10&4294967295|N>>>22),N=z+(A^(G|~x))+U[6]+2734768916&4294967295,z=G+(N<<15&4294967295|N>>>17),N=x+(G^(z|~A))+U[13]+1309151649&4294967295,x=z+(N<<21&4294967295|N>>>11),N=A+(z^(x|~G))+U[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=G+(x^(A|~z))+U[11]+3174756917&4294967295,G=A+(N<<10&4294967295|N>>>22),N=z+(A^(G|~x))+U[2]+718787259&4294967295,z=G+(N<<15&4294967295|N>>>17),N=x+(G^(z|~A))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(z+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+G&4294967295}r.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var x=A-this.blockSize,U=this.B,z=this.h,G=0;G<A;){if(z==0)for(;G<=x;)a(this,M,G),G+=this.blockSize;if(typeof M=="string"){for(;G<A;)if(U[z++]=M.charCodeAt(G++),z==this.blockSize){a(this,U),z=0;break}}else for(;G<A;)if(U[z++]=M[G++],z==this.blockSize){a(this,U),z=0;break}}this.h=z,this.o+=A},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var x=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=x&255,x/=256;for(this.u(M),M=Array(16),A=x=0;4>A;++A)for(var U=0;32>U;U+=8)M[x++]=this.g[A]>>>U&255;return M};function l(M,A){var x=h;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=A(M)}function u(M,A){this.h=A;for(var x=[],U=!0,z=M.length-1;0<=z;z--){var G=M[z]|0;U&&G==A||(x[z]=G,U=!1)}this.g=x}var h={};function d(M){return-128<=M&&128>M?l(M,function(A){return new u([A|0],0>A?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return P(p(-M));for(var A=[],x=1,U=0;M>=x;U++)A[U]=M/x|0,x*=4294967296;return new u(A,0)}function y(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return P(y(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(A,8)),U=_,z=0;z<M.length;z+=8){var G=Math.min(8,M.length-z),N=parseInt(M.substring(z,z+G),A);8>G?(G=p(Math.pow(A,G)),U=U.j(G).add(p(N))):(U=U.j(x),U=U.add(p(N)))}return U}var _=d(0),T=d(1),b=d(16777216);t=u.prototype,t.m=function(){if(k(this))return-P(this).m();for(var M=0,A=1,x=0;x<this.g.length;x++){var U=this.i(x);M+=(0<=U?U:4294967296+U)*A,A*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(k(this))return"-"+P(this).toString(M);for(var A=p(Math.pow(M,6)),x=this,U="";;){var z=re(x,A).g;x=D(x,z.j(A));var G=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=z,C(x))return G+U;for(;6>G.length;)G="0"+G;U=G+U}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function k(M){return M.h==-1}t.l=function(M){return M=D(this,M),k(M)?-1:C(M)?0:1};function P(M){for(var A=M.g.length,x=[],U=0;U<A;U++)x[U]=~M.g[U];return new u(x,~M.h).add(T)}t.abs=function(){return k(this)?P(this):this},t.add=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],U=0,z=0;z<=A;z++){var G=U+(this.i(z)&65535)+(M.i(z)&65535),N=(G>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);U=N>>>16,G&=65535,N&=65535,x[z]=N<<16|G}return new u(x,x[x.length-1]&-2147483648?-1:0)};function D(M,A){return M.add(P(A))}t.j=function(M){if(C(this)||C(M))return _;if(k(this))return k(M)?P(this).j(P(M)):P(P(this).j(M));if(k(M))return P(this.j(P(M)));if(0>this.l(b)&&0>M.l(b))return p(this.m()*M.m());for(var A=this.g.length+M.g.length,x=[],U=0;U<2*A;U++)x[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<M.g.length;z++){var G=this.i(U)>>>16,N=this.i(U)&65535,Oe=M.i(z)>>>16,fe=M.i(z)&65535;x[2*U+2*z]+=N*fe,Y(x,2*U+2*z),x[2*U+2*z+1]+=G*fe,Y(x,2*U+2*z+1),x[2*U+2*z+1]+=N*Oe,Y(x,2*U+2*z+1),x[2*U+2*z+2]+=G*Oe,Y(x,2*U+2*z+2)}for(U=0;U<A;U++)x[U]=x[2*U+1]<<16|x[2*U];for(U=A;U<2*A;U++)x[U]=0;return new u(x,0)};function Y(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function H(M,A){this.g=M,this.h=A}function re(M,A){if(C(A))throw Error("division by zero");if(C(M))return new H(_,_);if(k(M))return A=re(P(M),A),new H(P(A.g),P(A.h));if(k(A))return A=re(M,P(A)),new H(P(A.g),A.h);if(30<M.g.length){if(k(M)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var x=T,U=A;0>=U.l(M);)x=te(x),U=te(U);var z=B(x,1),G=B(U,1);for(U=B(U,2),x=B(x,2);!C(U);){var N=G.add(U);0>=N.l(M)&&(z=z.add(x),G=N),U=B(U,1),x=B(x,1)}return A=D(M,z.j(A)),new H(z,A)}for(z=_;0<=M.l(A);){for(x=Math.max(1,Math.floor(M.m()/A.m())),U=Math.ceil(Math.log(x)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),G=p(x),N=G.j(A);k(N)||0<N.l(M);)x-=U,G=p(x),N=G.j(A);C(G)&&(G=T),z=z.add(G),M=D(M,N)}return new H(z,M)}t.A=function(M){return re(this,M).h},t.and=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],U=0;U<A;U++)x[U]=this.i(U)&M.i(U);return new u(x,this.h&M.h)},t.or=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],U=0;U<A;U++)x[U]=this.i(U)|M.i(U);return new u(x,this.h|M.h)},t.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),x=[],U=0;U<A;U++)x[U]=this.i(U)^M.i(U);return new u(x,this.h^M.h)};function te(M){for(var A=M.g.length+1,x=[],U=0;U<A;U++)x[U]=M.i(U)<<1|M.i(U-1)>>>31;return new u(x,M.h)}function B(M,A){var x=A>>5;A%=32;for(var U=M.g.length-x,z=[],G=0;G<U;G++)z[G]=0<A?M.i(G+x)>>>A|M.i(G+x+1)<<32-A:M.i(G+x);return new u(z,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,na=u}).apply(typeof dS<"u"?dS:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BC,tc,zC,zf,vy,FC,HC,qC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],R=E[f],v=v(R),v!=R&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var E=0,R=!1,Q={next:function(){if(!R&&E<f.length){var ie=E++;return{value:v(ie,f[ie]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,E){return f.call.apply(f.bind,arguments)}function _(f,v,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function T(f,v,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function b(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function C(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,Q,ie){for(var ye=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ye[rt-2]=arguments[rt];return v.prototype[Q].apply(R,ye)}}function k(f){const v=f.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=f[R];return E}return[]}function P(f,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(d(R)){const Q=f.length||0,ie=R.length||0;f.length=Q+ie;for(let ye=0;ye<ie;ye++)f[Q+ye]=R[ye]}else f.push(R)}}class D{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function re(f){return re[" "](f),f}re[" "]=function(){};var te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function B(f,v,E){for(const R in f)v.call(E,f[R],R,f)}function M(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function A(f){const v={};for(const E in f)v[E]=f[E];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,v){let E,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(E in R)f[E]=R[E];for(let ie=0;ie<x.length;ie++)E=x[ie],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function z(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function G(f){h.setTimeout(()=>{throw f},0)}function N(){var f=ve;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Oe{constructor(){this.h=this.g=null}add(v,E){const R=fe.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var fe=new D(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,me=!1,ve=new Oe,O=()=>{const f=h.Promise.resolve(void 0);ne=()=>{f.then(oe)}};var oe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){G(E)}var v=fe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}me=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f}();function qe(f,v){if(de.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(te){e:{try{re(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}C(qe,de);var xe={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function fi(f,v,E,R,Q){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=Q,this.key=++yt,this.da=this.fa=!1}function Rt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tn(f){this.src=f,this.g={},this.h=0}Tn.prototype.add=function(f,v,E,R,Q){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ye=Mr(f,v,R,Q);return-1<ye?(v=f[ye],E||(v.fa=!1)):(v=new fi(v,this.src,ie,!!R,Q),v.fa=E,f.push(v)),v};function Wi(f,v){var E=v.type;if(E in f.g){var R=f.g[E],Q=Array.prototype.indexOf.call(R,v,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(R,Q,1),ie&&(Rt(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Mr(f,v,E,R){for(var Q=0;Q<f.length;++Q){var ie=f[Q];if(!ie.da&&ie.listener==v&&ie.capture==!!E&&ie.ha==R)return Q}return-1}var Pn="closure_lm_"+(1e6*Math.random()|0),Ea={};function wo(f,v,E,R,Q){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)wo(f,v[ie],E,R,Q);return null}return E=ps(E),f&&f[Bt]?f.K(v,E,p(R)?!!R.capture:!1,Q):Nn(f,v,E,!1,R,Q)}function Nn(f,v,E,R,Q,ie){if(!v)throw Error("Invalid event type");var ye=p(Q)?!!Q.capture:!!Q,rt=di(f);if(rt||(f[Pn]=rt=new Tn(f)),E=rt.add(v,E,R,ye,ie),E.proxy)return E;if(R=Gl(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)Re||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),R,Q);else if(f.attachEvent)f.attachEvent(Pr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Gl(){function f(E){return v.call(f.src,f.listener,E)}const v=Ui;return f}function wa(f,v,E,R,Q){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)wa(f,v[ie],E,R,Q);else R=p(R)?!!R.capture:!!R,E=ps(E),f&&f[Bt]?(f=f.i,v=String(v).toString(),v in f.g&&(ie=f.g[v],E=Mr(ie,E,R,Q),-1<E&&(Rt(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete f.g[v],f.h--)))):f&&(f=di(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Mr(v,E,R,Q)),(E=-1<f?v[f]:null)&&ds(E))}function ds(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Bt])Wi(v.i,f);else{var E=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(E,R,f.capture):v.detachEvent?v.detachEvent(Pr(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=di(v))?(Wi(E,f),E.h==0&&(E.src=null,v[Pn]=null)):Rt(f)}}}function Pr(f){return f in Ea?Ea[f]:Ea[f]="on"+f}function Ui(f,v){if(f.da)f=!0;else{v=new qe(v,this);var E=f.listener,R=f.ha||f.src;f.fa&&ds(f),f=E.call(R,v)}return f}function di(f){return f=f[Pn],f instanceof Tn?f:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function ps(f){return typeof f=="function"?f:(f[ms]||(f[ms]=function(v){return f.handleEvent(v)}),f[ms])}function ct(){ge.call(this),this.i=new Tn(this),this.M=this,this.F=null}C(ct,ge),ct.prototype[Bt]=!0,ct.prototype.removeEventListener=function(f,v,E,R){wa(this,f,v,E,R)};function Ye(f,v){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new de(v,f);else if(v instanceof de)v.target=v.target||f;else{var Q=v;v=new de(R,f),U(v,Q)}if(Q=!0,E)for(var ie=E.length-1;0<=ie;ie--){var ye=v.g=E[ie];Q=En(ye,R,!0,v)&&Q}if(ye=v.g=f,Q=En(ye,R,!0,v)&&Q,Q=En(ye,R,!1,v)&&Q,E)for(ie=0;ie<E.length;ie++)ye=v.g=E[ie],Q=En(ye,R,!1,v)&&Q}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],R=0;R<E.length;R++)Rt(E[R]);delete f.g[v],f.h--}}this.F=null},ct.prototype.K=function(f,v,E,R){return this.i.add(String(f),v,!1,E,R)},ct.prototype.L=function(f,v,E,R){return this.i.add(String(f),v,!0,E,R)};function En(f,v,E,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ie=0;ie<v.length;++ie){var ye=v[ie];if(ye&&!ye.da&&ye.capture==E){var rt=ye.listener,Xt=ye.ha||ye.src;ye.fa&&Wi(f.i,ye),Q=rt.call(Xt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function zt(f,v,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function bo(f){f.g=zt(()=>{f.g=null,f.i&&(f.i=!1,bo(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class mi extends ge{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(f){ge.call(this),this.h=f,this.g={}}C(Zi,ge);var Ji=[];function er(f){B(f.g,function(v,E){this.g.hasOwnProperty(E)&&ds(v)},f),f.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),er(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=h.JSON.stringify,Nr=h.JSON.parse,pi=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function gs(){}gs.prototype.h=null;function Or(f){return f.h||(f.h=f.i())}function ba(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){de.call(this,"d")}C(ji,de);function ys(){de.call(this,"c")}C(ys,de);var On={},tr=null;function nr(){return tr=tr||new ct}On.La="serverreachability";function vs(f){de.call(this,On.La,f)}C(vs,de);function j(f){const v=nr();Ye(v,new vs(v))}On.STAT_EVENT="statevent";function $(f,v){de.call(this,On.STAT_EVENT,f),this.stat=v}C($,de);function W(f){const v=nr();Ye(v,new $(v,f))}On.Ma="timingevent";function ue(f,v){de.call(this,On.Ma,f),this.size=v}C(ue,de);function pe(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Te(){this.g=!0}Te.prototype.xa=function(){this.g=!1};function Me(f,v,E,R,Q,ie){f.info(function(){if(f.g)if(ie)for(var ye="",rt=ie.split("&"),Xt=0;Xt<rt.length;Xt++){var st=rt[Xt].split("=");if(1<st.length){var rn=st[0];st=st[1];var Wt=rn.split("_");ye=2<=Wt.length&&Wt[1]=="type"?ye+(rn+"="+st+"&"):ye+(rn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+v+`
`+E+`
`+ye})}function we(f,v,E,R,Q,ie,ye){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+v+`
`+E+`
`+ie+" "+ye})}function Se(f,v,E,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Pe(f,E)+(R?" "+R:"")})}function Ce(f,v){f.info(function(){return"TIMEOUT: "+v})}Te.prototype.info=function(){};function Pe(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Xn(E)}catch{return v}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function ft(){}C(ft,gs),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},We=new ft;function lt(f,v,E,R){this.j=f,this.i=v,this.l=E,this.R=R||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}var Qe={},yi={};function Qt(f,v,E){f.L=1,f.v=Ra(Jn(v)),f.m=E,f.P=!0,Vn(f,null)}function Vn(f,v){f.F=Date.now(),Wn(f),f.A=Jn(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Xl(E.i,"t",R),f.C=0,E=f.j.J,f.h=new it,f.g=mh(f.j,E?v:null,!f.m),0<f.O&&(f.M=new mi(T(f.Y,f,f.g),f.O)),v=f.U,E=f.g,R=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ji[0]=Q.toString()),Q=Ji);for(var ie=0;ie<Q.length;ie++){var ye=wo(E,Q[ie],R||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),j(),Me(f.i,f.u,f.A,f.l,f.R,f.m)}lt.prototype.ca=function(f){f=f.target;const v=this.M;v&&wi(f)==3?v.j():this.Y(f)},lt.prototype.Y=function(f){try{if(f==this.g)e:{const Wt=wi(this.g);var v=this.g.Ba();const Fr=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Wt!=4||v==7||(v==8||0>=Fr?j(3):j(2)),wn(this);var E=this.g.Z();this.X=E;t:if(un(this)){var R=ah(this.g);f="";var Q=R.length,ie=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),kn(this);var ye="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(ie&&v==Q-1)});R.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,we(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Xt=this.g;if((rt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(rt)){var st=rt;break t}}st=null}if(E=st)Se(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ft(this,E);else{this.o=!1,this.s=3,W(12),ze(this),kn(this);break e}}if(this.P){E=!0;let hn;for(;!this.J&&this.C<ye.length;)if(hn=ir(this,ye),hn==yi){Wt==4&&(this.s=4,W(14),E=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Qe){this.s=4,W(15),Se(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else Se(this.i,this.l,hn,null),Ft(this,hn);if(un(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ye.length!=0||this.h.h||(this.s=1,W(16),E=!1),this.o=this.o&&E,!E)Se(this.i,this.l,ye,"[Invalid Chunked Response]"),ze(this),kn(this);else if(0<ye.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Oa(rn),rn.M=!0,W(11))}}else Se(this.i,this.l,ye,null),Ft(this,ye);Wt==4&&ze(this),this.o&&!this.J&&(Wt==4?hh(this.j,this):(this.o=!1,Wn(this)))}else om(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),ze(this),kn(this)}}}catch{}finally{}};function un(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ir(f,v){var E=f.C,R=v.indexOf(`
`,E);return R==-1?yi:(E=Number(v.substring(E,R)),isNaN(E)?Qe:(R+=1,R+E>v.length?yi:(v=v.slice(R,R+E),f.C=R+E,v)))}lt.prototype.cancel=function(){this.J=!0,ze(this)};function Wn(f){f.S=Date.now()+f.I,_s(f,f.I)}function _s(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=pe(T(f.ba,f),v)}function wn(f){f.B&&(h.clearTimeout(f.B),f.B=null)}lt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ce(this.i,this.A),this.L!=2&&(j(),W(17)),ze(this),this.s=2,kn(this)):_s(this,this.S-f)};function kn(f){f.j.G==0||f.J||hh(f.j,f)}function ze(f){wn(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,er(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ft(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||vi(E.h,f))){if(!f.K&&vi(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Po(E),Do(E);else break e;tu(E),W(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=pe(T(E.Za,E),6e3));if(1>=wt(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else zr(E,11)}else if((f.K||E.g==f)&&Po(E),!Y(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let st=Q[v];if(E.T=st[0],st=st[1],E.G==2)if(st[0]=="c"){E.K=st[1],E.ia=st[2];const rn=st[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Wt=st[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Fr=st[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(R=1.5*Fr,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const hn=f.g;if(hn){const hr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var ie=R.h;ie.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Vr(ie,ie.h),ie.h=null))}if(R.D){const iu=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(R.ya=iu,vt(R.I,R.D,iu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ye=f;if(R.qa=dh(R,R.J?R.ia:null,R.W),ye.K){cn(R.h,ye);var rt=ye,Xt=R.L;Xt&&(rt.I=Xt),rt.B&&(wn(rt),Wn(rt)),R.g=ye}else uh(R);0<E.i.length&&Mo(E)}else st[0]!="stop"&&st[0]!="close"||zr(E,7);else E.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?zr(E,7):Jl(E):st[0]!="noop"&&E.l&&E.l.ta(st),E.v=0)}}j(4)}catch{}}var Zn=class{constructor(f,v){this.g=f,this.map=v}};function Fn(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wt(f){return f.h?1:f.g?f.g.size:0}function vi(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Vr(f,v){f.g?f.g.add(v):f.h=v}function cn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Fn.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Yl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return k(f.i)}function im(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],E=f.length,R=0;R<E;R++)v.push(f[R]);return v}v=[],E=0;for(R in f)v[E++]=f[R];return v}function So(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const R in f)v[E++]=R;return v}}}function Kl(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=So(f),R=im(f),Q=R.length,ie=0;ie<Q;ie++)v.call(void 0,R[ie],E&&E[ie],f)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rm(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),Q=null;if(0<=R){var ie=f[E].substring(0,R);Q=f[E].substring(R+1)}else ie=f[E];v(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ht(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ht){this.h=f.h,Aa(this,f.j),this.o=f.o,this.g=f.g,Ts(this,f.s),this.l=f.l;var v=f.i,E=new Lr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),kr(this,E),this.m=f.m}else f&&(v=String(f).match(Sa))?(this.h=!1,Aa(this,v[1]||"",!0),this.o=_i(v[2]||""),this.g=_i(v[3]||"",!0),Ts(this,v[4]),this.l=_i(v[5]||"",!0),kr(this,v[6]||"",!0),this.m=_i(v[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}Ht.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ca(v,$l,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ca(v,$l,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ca(E,E.charAt(0)=="/"?sm:Ql,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ca(E,Ao)),f.join("")};function Jn(f){return new Ht(f)}function Aa(f,v,E){f.j=E?_i(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ts(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function kr(f,v,E){v instanceof Lr?(f.i=v,rh(f.i,f.h)):(E||(v=Ca(v,am)),f.i=new Lr(v,f.h))}function vt(f,v,E){f.i.set(v,E)}function Ra(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function _i(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ca(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,ih),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ih(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $l=/[#\/\?@]/g,Ql=/[#\?:]/g,sm=/[#\?]/g,am=/[#\?@]/g,Ao=/#/g;function Lr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ti(f){f.g||(f.g=new Map,f.h=0,f.i&&rm(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Lr.prototype,t.add=function(f,v){Ti(this),this.i=null,f=sr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function Ur(f,v){Ti(f),v=sr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function jr(f,v){return Ti(f),v=sr(f,v),f.g.has(v)}t.forEach=function(f,v){Ti(this),this.g.forEach(function(E,R){E.forEach(function(Q){f.call(v,Q,R,this)},this)},this)},t.na=function(){Ti(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const Q=f[R];for(let ie=0;ie<Q.length;ie++)E.push(v[R])}return E},t.V=function(f){Ti(this);let v=[];if(typeof f=="string")jr(this,f)&&(v=v.concat(this.g.get(sr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return Ti(this),this.i=null,f=sr(this,f),jr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Xl(f,v,E){Ur(f,v),0<E.length&&(f.i=null,f.g.set(sr(f,v),k(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const ie=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var Q=ie;ye[R]!==""&&(Q+="="+encodeURIComponent(String(ye[R]))),f.push(Q)}}return this.i=f.join("&")};function sr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function rh(f,v){v&&!f.j&&(Ti(f),f.i=null,f.g.forEach(function(E,R){var Q=R.toLowerCase();R!=Q&&(Ur(this,R),Xl(this,Q,E))},f)),f.j=v}function Ia(f,v){const E=new Te;if(h.Image){const R=new Image;R.onload=b(Ei,E,"TestLoadImage: loaded",!0,v,R),R.onerror=b(Ei,E,"TestLoadImage: error",!1,v,R),R.onabort=b(Ei,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=b(Ei,E,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Bi(f,v){const E=new Te,R=new AbortController,Q=setTimeout(()=>{R.abort(),Ei(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(ie=>{clearTimeout(Q),ie.ok?Ei(E,"TestPingServer: ok",!0,v):Ei(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Ei(E,"TestPingServer: error",!1,v)})}function Ei(f,v,E,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(E)}catch{}}function xa(){this.g=new pi}function ar(f,v,E){const R=E||"";try{Kl(f,function(Q,ie){let ye=Q;p(Q)&&(ye=Xn(Q)),v.push(R+ie+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(R+"type="+encodeURIComponent("_badmap")),Q}}function Es(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Es,gs),Es.prototype.g=function(){return new Br(this.l,this.j)},Es.prototype.i=function(f){return function(){return f}}({});function Br(f,v){ct.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Br,ct),t=Br.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?or(this):lr(this),this.readyState==3&&Wl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,or(this))},t.Qa=function(f){this.g&&(this.response=f,or(this))},t.ga=function(){this.g&&or(this)};function or(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zl(f){let v="";return B(f,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function nn(f,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Zl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):vt(f,v,E))}function dt(f){ct.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(dt,ct);var Ro=/^https?$/i,Da=["POST","PUT"];t=dt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?Or(this.o):Or(We),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ie){sh(this,ie);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)E.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())E.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Da,v,void 0))||R||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of E)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){sh(this,ie)}};function sh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Co(f),ur(f)}function Co(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ye(this,"complete"),Ye(this,"abort"),ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},t.bb=function(){Io(this)};function Io(f){if(f.h&&typeof u<"u"&&(!f.v[1]||wi(f)!=4||f.Z()!=2)){if(f.u&&wi(f)==4)zt(f.Ea,0,f);else if(Ye(f,"readystatechange"),wi(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=ye===0){var Q=String(f.D).match(Sa)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),R=!Ro.test(Q?Q.toLowerCase():"")}E=R}if(E)Ye(f,"complete"),Ye(f,"success");else{f.m=6;try{var ie=2<wi(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Co(f)}}finally{ur(f)}}}}function ur(f,v){if(f.g){Ma(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ye(f,"ready");try{E.onreadystatechange=R}catch{}}}function Ma(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function wi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Nr(v)}};function ah(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function om(f){const v={};f=(f.g&&2<=wi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(Y(f[R]))continue;var E=z(f[R]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=v[Q]||[];v[Q]=ie,ie.push(E)}M(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function xo(f){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,f),this.cb=Pa("retryDelaySeedMs",1e4,f),this.Wa=Pa("forwardChannelMaxRetries",2,f),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Fn(f&&f.concurrentRequestLimit),this.Da=new xa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xo.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,R){W(0),this.W=f,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=dh(this,null,this.W),Mo(this)};function Jl(f){if(oh(f),f.G==3){var v=f.U++,E=Jn(f.I);if(vt(E,"SID",f.K),vt(E,"RID",v),vt(E,"TYPE","terminate"),Na(f,E),v=new lt(f,f.j,v),v.L=2,v.v=Ra(Jn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=mh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Wn(v)}fh(f)}function Do(f){f.g&&(Oa(f),f.g.cancel(),f.g=null)}function oh(f){Do(f),f.u&&(h.clearTimeout(f.u),f.u=null),Po(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Mo(f){if(!rr(f.h)&&!f.s){f.s=!0;var v=f.Ga;ne||O(),me||(ne(),me=!0),ve.add(v,f),f.B=0}}function lm(f,v){return wt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=pe(T(f.Ga,f,v),nu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new lt(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=A(ie),U(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=lh(this,Q,v),E=Jn(this.I),vt(E,"RID",f),vt(E,"CVER",22),this.D&&vt(E,"X-HTTP-Session-Id",this.D),Na(this,E),ie&&(this.O?v="headers="+encodeURIComponent(String(Zl(ie)))+"&"+v:this.m&&nn(E,this.m,ie)),Vr(this.h,Q),this.Ua&&vt(E,"TYPE","init"),this.P?(vt(E,"$req",v),vt(E,"SID","null"),Q.T=!0,Qt(Q,E,null)):Qt(Q,E,v),this.G=2}}else this.G==3&&(f?eu(this,f):this.i.length==0||rr(this.h)||eu(this))};function eu(f,v){var E;v?E=v.l:E=f.U++;const R=Jn(f.I);vt(R,"SID",f.K),vt(R,"RID",E),vt(R,"AID",f.T),Na(f,R),f.m&&f.o&&nn(R,f.m,f.o),E=new lt(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=lh(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vr(f.h,E),Qt(E,R,v)}function Na(f,v){f.H&&B(f.H,function(E,R){vt(v,R,E)}),f.l&&Kl({},function(E,R){vt(v,R,E)})}function lh(f,v,E){E=Math.min(f.i.length,E);var R=f.l?T(f.l.Na,f.l,f):null;e:{var Q=f.i;let ie=-1;for(;;){const ye=["count="+E];ie==-1?0<E?(ie=Q[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let rt=!0;for(let Xt=0;Xt<E;Xt++){let st=Q[Xt].g;const rn=Q[Xt].map;if(st-=ie,0>st)ie=Math.max(0,Q[Xt].g-100),rt=!1;else try{ar(rn,ye,"req"+st+"_")}catch{R&&R(rn)}}if(rt){R=ye.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,R}function uh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ne||O(),me||(ne(),me=!0),ve.add(v,f),f.v=0}}function tu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=pe(T(f.Fa,f),nu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pe(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),Do(this),ch(this))};function Oa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function ch(f){f.g=new lt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Jn(f.qa);vt(v,"RID","rpc"),vt(v,"SID",f.K),vt(v,"AID",f.T),vt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(v,"TO",f.ja),vt(v,"TYPE","xmlhttp"),Na(f,v),f.m&&f.o&&nn(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ra(Jn(v)),E.m=null,E.P=!0,Vn(E,f)}t.Za=function(){this.C!=null&&(this.C=null,Do(this),tu(this),W(19))};function Po(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function hh(f,v){var E=null;if(f.g==v){Po(f),Oa(f),f.g=null;var R=2}else if(vi(f.h,v))E=v.D,cn(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;R=nr(),Ye(R,new ue(R,E)),Mo(f)}else uh(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(R==1&&lm(f,v)||R==2&&tu(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),Q){case 1:zr(f,5);break;case 4:zr(f,10);break;case 3:zr(f,6);break;default:zr(f,2)}}}function nu(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function zr(f,v){if(f.j.info("Error code "+v),v==2){var E=T(f.fb,f),R=f.Xa;const Q=!R;R=new Ht(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Aa(R,"https"),Ra(R),Q?Ia(R.toString(),E):Bi(R.toString(),E)}else W(2);f.G=0,f.l&&f.l.sa(v),fh(f),oh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function fh(f){if(f.G=0,f.ka=[],f.l){const v=Yl(f.h);(v.length!=0||f.i.length!=0)&&(P(f.ka,v),P(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function dh(f,v,E){var R=E instanceof Ht?Jn(E):new Ht(E);if(R.g!="")v&&(R.g=v+"."+R.g),Ts(R,R.s);else{var Q=h.location;R=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new Ht(null);R&&Aa(ie,R),v&&(ie.g=v),Q&&Ts(ie,Q),E&&(ie.l=E),R=ie}return E=f.D,v=f.ya,E&&v&&vt(R,E,v),vt(R,"VER",f.la),Na(f,R),R}function mh(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new dt(new Es({eb:E})):new dt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ph(){}t=ph.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function No(){}No.prototype.g=function(f,v){return new Ln(f,v)};function Ln(f,v){ct.call(this),this.g=new xo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!Y(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new cr(this)}C(Ln,ct),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Jl(this.g)},Ln.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Xn(f),f=E);v.i.push(new Zn(v.Ya++,f)),v.G==3&&Mo(v)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,Ln.aa.N.call(this)};function gh(f){ji.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}C(gh,ji);function yh(){ys.call(this),this.status=1}C(yh,ys);function cr(f){this.g=f}C(cr,ph),cr.prototype.ua=function(){Ye(this.g,"a")},cr.prototype.ta=function(f){Ye(this.g,new gh(f))},cr.prototype.sa=function(f){Ye(this.g,new yh)},cr.prototype.ra=function(){Ye(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,qC=function(){return new No},HC=function(){return nr()},FC=On,vy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,zf=Ae,Ve.COMPLETE="complete",zC=Ve,ba.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,tc=ba,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,BC=dt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const mS="@firebase/firestore",pS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Pd("@firebase/firestore");function ul(){return fo.logLevel}function Ee(t,...e){if(fo.logLevel<=tt.DEBUG){const n=e.map(Fv);fo.debug(`Firestore (${Bl}): ${t}`,...n)}}function cs(t,...e){if(fo.logLevel<=tt.ERROR){const n=e.map(Fv);fo.error(`Firestore (${Bl}): ${t}`,...n)}}function Cl(t,...e){if(fo.logLevel<=tt.WARN){const n=e.map(Fv);fo.warn(`Firestore (${Bl}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GC(t,r,n)}function GC(t,e,n){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function mt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||GC(e,a,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class Bj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zj{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ss,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ss)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new YC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class Fj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Hj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Fj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Gj(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function _y(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return $e(r,a);{const l=KC(),u=Yj(l.encode(yS(t,n)),l.encode(yS(e,n)));return u!==0?u:$e(r,a)}}n+=r>65535?2:1}return $e(t.length,e.length)}function yS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Yj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return $e(t[n],e[n]);return $e(t.length,e.length)}function Il(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=-62135596800,_S=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_S);return new en(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vS)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_S}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new en(0,0))}static max(){return new Fe(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__name__";class yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=yr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const r=yr.isNumericId(e),a=yr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?yr.extractNumericId(e).compare(yr.extractNumericId(n)):_y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class At extends yr{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new At(n)}static emptyPath(){return new At([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends yr{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TS}static keyField(){return new vn([TS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(At.fromString(e))}static fromName(e){return new De(At.fromString(e).popFirst(5))}static empty(){return new De(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function $j(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Fe.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new la(a,De.empty(),e)}function Qj(t){return new la(t.readTime,t.key,xc)}class la{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new la(Fe.min(),De.empty(),xc)}static max(){return new la(Fe.max(),De.empty(),xc)}}function Xj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Wj)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>r(d))}),u=!0,l===a&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(a=>a?he.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new he((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(y=>{u[p]=y,++h,h===l&&r(u)},y=>a(y))}})}static doWhile(e,n){return new he((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function Jj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ud.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-1;function jd(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function e9(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="";function t9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ES(e)),e=n9(t.get(n),e);return ES(e)}function n9(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case QC:n+="";break;default:n+=l}}return n}function ES(t){return t+QC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??yn.RED,this.left=a??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new yn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return yn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(e){return new bS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class bS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new tn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WC("Invalid base64 string: "+l):l}}(e);return new _n(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const i9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=i9.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ca(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="server_timestamp",JC="__type__",eI="__previous_value__",tI="__local_write_time__";function qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JC])===null||n===void 0?void 0:n.stringValue)===ZC}function Bd(t){const e=t.mapValue.fields[eI];return qv(e)?Bd(e):e}function Dc(t){const e=ua(t.mapValue.fields[tI].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,r,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const gd="(default)";class Mc{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",s9="__max__",Cf={mapValue:{}},iI="__vector__",yd="value";function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qv(t)?4:o9(t)?9007199254740991:a9(t)?10:11:Ue(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ua(a.timestampValue),h=ua(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return ca(a.bytesValue).isEqual(ca(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return jt(a.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return jt(a.integerValue)===jt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=jt(a.doubleValue),h=jt(l.doubleValue);return u===h?pd(u)===pd(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(wS(u)!==wS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Cr(u[d],h[d])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Pc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function xl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=jt(l.integerValue||l.doubleValue),d=jt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return SS(t.timestampValue,e.timestampValue);case 4:return SS(Dc(t),Dc(e));case 5:return _y(t.stringValue,e.stringValue);case 6:return function(l,u){const h=ca(l),d=ca(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=$e(h[p],d[p]);if(y!==0)return y}return $e(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=$e(jt(l.latitude),jt(u.latitude));return h!==0?h:$e(jt(l.longitude),jt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AS(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,y;const _=l.fields||{},T=u.fields||{},b=(h=_[yd])===null||h===void 0?void 0:h.arrayValue,C=(d=T[yd])===null||d===void 0?void 0:d.arrayValue,k=$e(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:AS(b,C)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Cf.mapValue&&u===Cf.mapValue)return 0;if(l===Cf.mapValue)return 1;if(u===Cf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const T=_y(d[_],y[_]);if(T!==0)return T;const b=xl(h[d[_]],p[y[_]]);if(b!==0)return b}return $e(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function SS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=ua(t),r=ua(e),a=$e(n.seconds,r.seconds);return a!==0?a:$e(n.nanos,r.nanos)}function AS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=xl(n[a],r[a]);if(l)return l}return $e(n.length,r.length)}function Dl(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ua(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ty(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Ty(n.fields[u])}`;return a+"}"}(t.mapValue):Ue(61005,{value:t})}function Ff(t){switch(ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return ca(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Ff(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return va(r.fields,(l,u)=>{a+=l.length+Ff(u)}),a}(t.mapValue);default:throw Ue(13486,{value:t})}}function RS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ey(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function CS(t){return!!t&&"nullValue"in t}function IS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function a9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||n===void 0?void 0:n.stringValue)===iI}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===s9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=vn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=dc(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){va(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Kn(dc(this.value))}}function rI(t){const e=[];return va(t.fields,(n,r)=>{const a=new vn([n]);if(Hf(r)){const l=rI(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,Fe.min(),Fe.min(),Fe.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,a){return new xn(e,1,n,Fe.min(),r,a,0)}static newNoDocument(e,n){return new xn(e,2,n,Fe.min(),Fe.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Fe.min(),Fe.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.position=e,this.inclusive=n}}function xS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),n.key):r=xl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function DS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function l9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class Kt extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c9(e,n,r):n==="array-contains"?new d9(e,r):n==="in"?new m9(e,r):n==="not-in"?new p9(e,r):n==="array-contains-any"?new g9(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h9(e,r):new f9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Qi(e,n)}matches(e){return aI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aI(t){return t.op==="and"}function oI(t){return u9(t)&&aI(t)}function u9(t){for(const e of t.filters)if(e instanceof Qi)return!1;return!0}function wy(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(oI(t))return t.filters.map(e=>wy(e)).join(",");{const e=t.filters.map(n=>wy(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof Kt?function(r,a){return a instanceof Kt&&r.op===a.op&&r.field.isEqual(a.field)&&Cr(r.value,a.value)}(t,e):t instanceof Qi?function(r,a){return a instanceof Qi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,h)=>l&&lI(u,a.filters[h]),!0):!1}(t,e):void Ue(19439)}function uI(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`}(t):t instanceof Qi?function(n){return n.op.toString()+" {"+n.getFilters().map(uI).join(" ,")+"}"}(t):"Filter"}class c9 extends Kt{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class h9 extends Kt{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f9 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class d9 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&Pc(n.arrayValue,this.value)}}class m9 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class p9 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pc(this.value.arrayValue,n)}}class g9 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function MS(t,e=null,n=[],r=[],a=null,l=null,u=null){return new y9(t,e,n,r,a,l,u)}function Yv(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Dl(r)).join(",")),e.Ie=n}return e.Ie}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DS(t.startAt,e.startAt)&&DS(t.endAt,e.endAt)}function by(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function v9(t,e,n,r,a,l,u,h){return new Hl(t,e,n,r,a,l,u,h)}function $v(t){return new Hl(t)}function PS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hI(t){return t.collectionGroup!==null}function mc(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new tn(vn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Nc(l,r))}),n.has(vn.keyField().canonicalString())||e.Ee.push(new Nc(vn.keyField(),r))}return e.Ee}function Sr(t){const e=He(t);return e.de||(e.de=_9(e,mc(t))),e.de}function _9(t,e){if(t.limitType==="F")return MS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Nc(a.field,l)});const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return MS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sy(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ay(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return Kv(Sr(t),Sr(e))&&t.limitType===e.limitType}function fI(t){return`${Yv(Sr(t))}|lt:${t.limitType}`}function cl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>uI(a)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Dl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Dl(a)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):De.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of mc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const p=xS(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,mc(r),a)||r.endAt&&!function(u,h,d){const p=xS(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,mc(r),a))}(t,e)}function T9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dI(t){return(e,n)=>{let r=!1;for(const a of mc(t)){const l=E9(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function E9(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?xl(d,p):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Mt(De.comparator);function hs(){return w9}const mI=new Mt(De.comparator);function nc(...t){let e=mI;for(const n of t)e=e.insert(n.key,n);return e}function pI(t){let e=mI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return pc()}function gI(){return pc()}function pc(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const b9=new Mt(De.comparator),S9=new tn(De.comparator);function nt(...t){let e=S9;for(const n of t)e=e.add(n);return e}const A9=new tn($e);function R9(){return A9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function yI(t){return{integerValue:""+t}}function C9(t,e){return e9(e)?yI(e):Qv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function I9(t,e,n){return t instanceof Oc?function(a,l){const u={fields:{[JC]:{stringValue:ZC},[tI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&qv(l)&&(l=Bd(l)),l&&(u.fields[eI]=l),{mapValue:u}}(n,e):t instanceof Vc?_I(t,e):t instanceof kc?TI(t,e):function(a,l){const u=vI(a,l),h=NS(u)+NS(a.Re);return Ey(u)&&Ey(a.Re)?yI(h):Qv(a.serializer,h)}(t,e)}function x9(t,e,n){return t instanceof Vc?_I(t,e):t instanceof kc?TI(t,e):n}function vI(t,e){return t instanceof _d?function(r){return Ey(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Oc extends Hd{}class Vc extends Hd{constructor(e){super(),this.elements=e}}function _I(t,e){const n=EI(e);for(const r of t.elements)n.some(a=>Cr(a,r))||n.push(r);return{arrayValue:{values:n}}}class kc extends Hd{constructor(e){super(),this.elements=e}}function TI(t,e){let n=EI(e);for(const r of t.elements)n=n.filter(a=>!Cr(a,r));return{arrayValue:{values:n}}}class _d extends Hd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function NS(t){return jt(t.integerValue||t.doubleValue)}function EI(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.field=e,this.transform=n}}function M9(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Vc&&a instanceof Vc||r instanceof kc&&a instanceof kc?Il(r.elements,a.elements,Cr):r instanceof _d&&a instanceof _d?Cr(r.Re,a.Re):r instanceof Oc&&a instanceof Oc}(t.transform,e.transform)}class P9{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function wI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gd(t.key,Bn.none()):new Qc(t.key,t.data,Bn.none());{const n=t.data,r=Kn.empty();let a=new tn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new _a(t.key,r,new ui(a.toArray()),Bn.none())}}function N9(t,e,n){t instanceof Qc?function(a,l,u){const h=a.value.clone(),d=VS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(a,l,u){if(!qf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=VS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(bI(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof Qc?function(l,u,h,d){if(!qf(l.precondition,u))return h;const p=l.value.clone(),y=kS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(l,u,h,d){if(!qf(l.precondition,u))return h;const p=kS(l.fieldTransforms,d,u),y=u.data;return y.setAll(bI(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,u,h){return qf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function O9(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=vI(r.transform,a||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(r.field,l))}return n||null}function OS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Il(r,a,(l,u)=>M9(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qc extends qd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _a extends qd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VS(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,x9(u,h,n[a]))}return r}function kS(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,I9(l,u,e))}return r}class Gd extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V9 extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&N9(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gI();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=wI(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(n,r)=>OS(n,r))&&Il(this.baseMutations,e.baseMutations,(n,r)=>OS(n,r))}}class Xv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return b9}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Xv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ot;function j9(t){switch(t){case le.OK:return Ue(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function SI(t){if(t===void 0)return cs("GRPC error has no .code"),le.UNKNOWN;switch(t){case Yt.OK:return le.OK;case Yt.CANCELLED:return le.CANCELLED;case Yt.UNKNOWN:return le.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return le.INTERNAL;case Yt.UNAVAILABLE:return le.UNAVAILABLE;case Yt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Yt.NOT_FOUND:return le.NOT_FOUND;case Yt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Yt.ABORTED:return le.ABORTED;case Yt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Yt.DATA_LOSS:return le.DATA_LOSS;default:return Ue(39323,{code:t})}}(ot=Yt||(Yt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new na([4294967295,4294967295],0);function LS(t){const e=KC().encode(t),n=new jC;return n.update(e),new Uint8Array(n.digest())}function US(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new na([n,r],0),new na([a,l],0)]}class Wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=na.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(na.fromNumber(r)));return a.compare(B9)===1&&(a=new na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=LS(e),[r,a]=US(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Wv(l,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=LS(e),[r,a]=US(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yd(Fe.min(),a,new Mt($e),hs(),nt())}}class Xc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xc(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class AI{constructor(e,n){this.targetId=e,this.Ce=n}}class RI{constructor(e,n,r=_n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class jS{constructor(){this.Fe=0,this.Me=BS(),this.xe=_n.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:l})}}),new Xc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=BS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class z9{constructor(e){this.ze=e,this.je=new Map,this.He=hs(),this.Je=If(),this.Ye=If(),this.Ze=new Mt($e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(by(l))if(r===0){const u=new De(l.path);this.tt(n,u,xn.newNoDocument(u,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const h=this.ct(e),d=h?this.lt(h,e,u):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ca(r).toUint8Array()}catch(d){if(d instanceof WC)return Cl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Wv(u,a,l)}catch(d){return Cl(d instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&by(h.target)){const d=new De(h.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,xn.newNoDocument(d,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let r=nt();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Yd(e,n,this.Ze,this.He,r);return this.He=hs(),this.Je=If(),this.Ye=If(),this.Ze=new Mt($e),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new jS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new tn($e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new tn($e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new jS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function If(){return new Mt(De.comparator)}function BS(){return new Mt(De.comparator)}const F9={asc:"ASCENDING",desc:"DESCENDING"},H9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q9={and:"AND",or:"OR"};class G9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y9(t,e){return Td(t,e.toTimestamp())}function Ar(t){return mt(!!t,49232),Fe.fromTimestamp(function(n){const r=ua(n);return new en(r.seconds,r.nanos)}(t))}function Zv(t,e){return Cy(t,e).canonicalString()}function Cy(t,e){const n=function(a){return new At(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function II(t){const e=At.fromString(t);return mt(NI(e),10190,{key:e.toString()}),e}function Iy(t,e){return Zv(t.databaseId,e.path)}function Ng(t,e){const n=II(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(DI(n))}function xI(t,e){return Zv(t.databaseId,e)}function K9(t){const e=II(t);return e.length===4?At.emptyPath():DI(e)}function xy(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DI(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zS(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function $9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(mt(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?le.UNKNOWN:SI(p.code);return new _e(y,p.message||"")}(u);n=new RI(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ng(t,r.document.name),l=Ar(r.document.updateTime),u=r.document.createTime?Ar(r.document.createTime):Fe.min(),h=new Kn({mapValue:{fields:r.document.fields}}),d=xn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Gf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ng(t,r.document),l=r.readTime?Ar(r.readTime):Fe.min(),u=xn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Gf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ng(t,r.document),l=r.removedTargetIds||[];n=new Gf([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new U9(a,l),h=r.targetId;n=new AI(h,u)}}return n}function Q9(t,e){let n;if(e instanceof Qc)n={update:zS(t,e.key,e.value)};else if(e instanceof Gd)n={delete:Iy(t,e.key)};else if(e instanceof _a)n={update:zS(t,e.key,e.data),updateMask:r5(e.fieldMask)};else{if(!(e instanceof V9))return Ue(16599,{ft:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof Oc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof _d)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ue(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Y9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)}(t,e.precondition)),n}function X9(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Ar(a.updateTime):Ar(l);return u.isEqual(Fe.min())&&(u=Ar(l)),new P9(u,a.transformResults||[])}(n,e))):[]}function W9(t,e){return{documents:[xI(t,e.path)]}}function Z9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xI(t,a);const l=function(p){if(p.length!==0)return PI(Qi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:hl(T.field),direction:t5(T.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Ry(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function J9(t){let e=K9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){mt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const T=MI(_);return T instanceof Qi&&oI(T)?T.getFilters():[T]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(T=>function(C){return new Nc(fl(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(_){let T;return T=typeof _=="object"?_.value:_,jd(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(_){const T=!!_.before,b=_.values||[];return new vd(b,T)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const T=!_.before,b=_.values||[];return new vd(b,T)}(n.endAt)),v9(e,a,u,l,h,"F",d,p)}function e5(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fl(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fl(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fl(n.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(fl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qi.create(n.compositeFilter.filters.map(r=>MI(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function t5(t){return F9[t]}function n5(t){return H9[t]}function i5(t){return q9[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return vn.fromServerFormat(t.fieldPath)}function PI(t){return t instanceof Kt?function(n){if(n.op==="=="){if(IS(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(CS(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IS(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(CS(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:n5(n.op),value:n.value}}}(t):t instanceof Qi?function(n){const r=n.getFilters().map(a=>PI(a));return r.length===1?r[0]:{compositeFilter:{op:i5(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function r5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,a,l=Fe.min(),u=Fe.min(),h=_n.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.wt=e}}function a5(t){const e=J9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.Cn=new l5}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(la.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(la.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new tn(At.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new tn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OI=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(OI,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ml(0)}static lr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="LruGarbageCollector",u5=1048576;function qS([t,e],[n,r]){const a=$e(t,n);return a===0?$e(e,r):a}class c5{constructor(e){this.Er=e,this.buffer=new tn(qS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ee(HS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fl(n)?Ee(HS,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.mr(3e5)})}}class f5{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Ud.le);const r=new c5(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(FS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ul()<=tt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function d5(t,e){return new f5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&gc(r.mutation,a,ui.empty(),en.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const a=ro();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=nc();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let l=hs();const u=pc(),h=function(){return pc()}();return n.forEach((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof _a)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),gc(y.mutation,p,y.mutation.getFieldMask(),en.now())):u.set(p.key,ui.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>{var _;return h.set(p,new p5(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const r=pc();let a=new Mt((u,h)=>u-h),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||ui.empty();y=h.applyToLocalView(p,y),r.set(d,y);const _=(a.get(h.batchId)||nt()).add(d);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,_=gI();y.forEach(T=>{if(!l.has(T)){const b=wI(n.get(T),r.get(T));b!==null&&_.set(T,b),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):he.resolve(ro());let h=xc,d=l;return u.next(p=>he.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,nt())).next(y=>({batchId:h,changes:pI(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let a=nc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=nc();return this.indexManager.getCollectionParents(e,l).next(h=>he.forEach(h,d=>{const p=function(_,T){return new Hl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,T)=>{u=u.insert(_,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,xn.newInvalidDocument(y)))});let h=nc();return u.forEach((d,p)=>{const y=l.get(d);y!==void 0&&gc(y.mutation,p,ui.empty(),en.now()),Fd(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return he.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ar(a.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:a5(a.bundledQuery),readTime:Ar(a.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.overlays=new Mt(De.comparator),this.Qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return he.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.St(e,n,l)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const a=ro(),l=n.length+1,u=new De(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Mt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ro(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=ro(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return he.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new L9(n,r));let l=this.Qr.get(n);l===void 0&&(l=nt(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.$r=new tn(ln.Ur),this.Kr=new tn(ln.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ln(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ln(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new At([])),r=new ln(n,e),a=new ln(n,e+1),l=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new At([])),r=new ln(n,e),a=new ln(n,e+1);let l=nt();return this.Kr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new ln(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||$e(e.Zr,n.Zr)}static Wr(e,n){return $e(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new tn(ln.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new k9(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Xr=this.Xr.add(new ln(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Hv:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),a=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],u=>{const h=this.ei(u.Zr);l.push(h)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn($e);return n.forEach(a=>{const l=new ln(a,0),u=new ln(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],h=>{r=r.add(h.Zr)})}),he.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const u=new ln(new De(l),0);let h=new tn($e);return this.Xr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Zr)),!0)},u),he.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){mt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return he.forEach(n.mutations,a=>{const l=new ln(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ln(n,0),a=this.Xr.firstAfterOrEqual(r);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.ii=e,this.docs=function(){return new Mt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=hs();const u=n.path,h=new De(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Xj(Qj(y),r)<=0||(a.has(y.key)||Fd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ue(9500)}si(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new w5(this)}getSize(e){return he.resolve(this.size)}}class w5 extends m5{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.persistence=e,this.oi=new _o(n=>Yv(n),Kv),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Jv,this.targetCount=0,this.ui=Ml.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),he.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Tr(n),he.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.ci={},this.overlays={},this.li=new Ud(0),this.hi=!1,this.hi=!0,this.Pi=new _5,this.referenceDelegate=e(this),this.Ti=new b5(this),this.indexManager=new o5,this.remoteDocumentCache=function(a){return new E5(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new s5(n),this.Ei=new y5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new T5(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const a=new S5(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return he.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class S5 extends Zj{constructor(e){super(),this.currentSequenceNumber=e}}class e_{constructor(e){this.persistence=e,this.Vi=new Jv,this.mi=null}static fi(e){return new e_(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,r=>{const a=De.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Fe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return he.or([()=>he.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.yi=new _o(r=>t9(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=d5(this,n)}static fi(e,n){return new Ed(e,n)}di(){}Ai(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return he.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?he.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(h=>{h||(r++,l.removeEntry(u,Fe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}Dr(e,n,r){return he.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=nt(),a=nt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new t_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NL()?8:Jj(Mn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new A5;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(ul()<=tt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(ul()<=tt.DEBUG&&Ee("QueryEngine","Query:",cl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(ul()<=tt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):he.resolve())}ws(e,n){if(PS(n))return he.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ay(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=nt(...l);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.vs(n,h);return this.Cs(n,p,u,d.readTime)?this.ws(e,Ay(n,null,"F")):this.Fs(e,p,n,d)}))})))}bs(e,n,r,a){return PS(n)||a.isEqual(Fe.min())?he.resolve(null):this.ys.getDocuments(e,r).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,r,a)?he.resolve(null):(ul()<=tt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cl(n)),this.Fs(e,u,n,$j(a,xc)).next(h=>h))})}vs(e,n){let r=new tn(dI(e));return n.forEach((a,l)=>{Fd(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return ul()<=tt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",cl(n)),this.ys.getDocumentsMatchingQuery(e,n,la.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LocalStore",C5=3e8;class I5{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Mt($e),this.Os=new _o(l=>Yv(l),Kv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g5(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function x5(t,e,n,r){return new I5(t,e,n,r)}async function kI(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let d=nt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:h}))})})}function D5(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,p,y){const _=p.batch,T=_.keys();let b=he.resolve();return T.forEach(C=>{b=b.next(()=>y.getEntry(d,C)).next(k=>{const P=p.docVersions.get(C);mt(P!==null,48541),k.version.compareTo(P)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function LI(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function M5(t,e){const n=He(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const h=[];e.targetChanges.forEach((y,_)=>{const T=a.get(_);if(!T)return;h.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let b=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(_n.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),a=a.insert(_,b),function(k,P,D){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=C5?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(T,b,y)&&h.push(n.Ti.updateTargetData(l,b))});let d=hs(),p=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(P5(l,u,e.documentUpdates).next(y=>{d=y.qs,p=y.Qs})),!r.isEqual(Fe.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(y)}return he.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.xs=a,l))}function P5(t,e,n){let r=nt(),a=nt();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=hs();return n.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Ee(n_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function N5(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O5(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,he.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new Ws(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=He(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Fl(u))throw u;Ee(n_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function GS(t,e,n){const r=He(t);let a=Fe.min(),l=nt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,y){const _=He(d),T=_.Os.get(y);return T!==void 0?he.resolve(_.xs.get(T)):_.Ti.getTargetData(p,y)}(r,u,Sr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:Fe.min(),n?l:nt())).next(h=>(V5(r,T9(e),h),{documents:h,$s:l})))}function V5(t,e,n){let r=t.Ns.get(e)||Fe.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class YS{constructor(){this.activeTargetIds=R9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k5{constructor(){this.xo=new YS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new YS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="ConnectivityMonitor";class $S{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ee(KS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ee(KS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function My(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",U5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j5{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===gd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const u=My(),h=this.jo(e,n.toUriEncodedString());Ee(Og,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,l);const{host:p}=new URL(h),y=Ll(p);return this.Jo(e,h,d,r,y).then(_=>(Ee(Og,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Cl(Og,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,n,r,a,l,u){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=U5[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class z5 extends j5{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=My();return new Promise((h,d)=>{const p=new BC;p.setWithCredentials(!0),p.listenOnce(zC.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const _=p.getResponseJson();Ee(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case zf.TIMEOUT:Ee(An,`RPC '${e}' ${u} timed out`),d(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const T=p.getStatus();if(Ee(An,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const k=function(D){const Y=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Y)>=0?Y:le.UNKNOWN}(C.status);d(new _e(k,C.message))}else d(new _e(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{Ee(An,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);Ee(An,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)})}I_(e,n,r){const a=My(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=qC(),h=HC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");Ee(An,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=u.createWebChannel(y,d);this.E_(_);let T=!1,b=!1;const C=new B5({Zo:P=>{b?Ee(An,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(T||(Ee(An,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),Ee(An,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Xo:()=>_.close()}),k=(P,D,Y)=>{P.listen(D,H=>{try{Y(H)}catch(re){setTimeout(()=>{throw re},0)}})};return k(_,tc.EventType.OPEN,()=>{b||(Ee(An,`RPC '${e}' stream ${a} transport opened.`),C.__())}),k(_,tc.EventType.CLOSE,()=>{b||(b=!0,Ee(An,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(_))}),k(_,tc.EventType.ERROR,P=>{b||(b=!0,Cl(An,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),C.u_(new _e(le.UNAVAILABLE,"The operation could not be completed")))}),k(_,tc.EventType.MESSAGE,P=>{var D;if(!b){const Y=P.data[0];mt(!!Y,16349);const H=Y,re=(H==null?void 0:H.error)||((D=H[0])===null||D===void 0?void 0:D.error);if(re){Ee(An,`RPC '${e}' stream ${a} received error:`,re);const te=re.status;let B=function(x){const U=Yt[x];if(U!==void 0)return SI(U)}(te),M=re.message;B===void 0&&(B=le.INTERNAL,M="Unknown error status: "+te+" with message "+re.message),b=!0,C.u_(new _e(B,M)),_.close()}else Ee(An,`RPC '${e}' stream ${a} received:`,Y),C.c_(Y)}}),k(h,FC.STAT_EVENT,P=>{P.stat===vy.PROXY?Ee(An,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===vy.NOPROXY&&Ee(An,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new G9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="PersistentStream";class jI{constructor(e,n,r,a,l,u,h,d){this.xi=e,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new UI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new _e(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ee(QS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ee(QS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F5 extends jI{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=$9(this.serializer,e),r=function(l){if(!("targetChange"in l))return Fe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?Ar(u.readTime):Fe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=xy(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=by(d)?{documents:W9(l,d)}:{query:Z9(l,d).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=CI(l,u.resumeToken);const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=Td(l,u.snapshotVersion.toTimestamp());const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=e5(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.Q_(n)}}class H5 extends jI{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=X9(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=xy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q9(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{}class G5 extends q5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Cy(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(le.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Cy(n,r),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(le.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Y5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(cs(n),this.ua=!1):Ee("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class K5{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{r.enqueueAndForget(async()=>{To(this)&&(Ee(mo,"Restarting streams for network reachability change."),await async function(d){const p=He(d);p.da.add(4),await Wc(p),p.Va.set("Unknown"),p.da.delete(4),await $d(p)}(this))})}),this.Va=new Y5(r,a)}}async function $d(t){if(To(t))for(const e of t.Aa)await e(!0)}async function Wc(t){for(const e of t.Aa)await e(!1)}function BI(t,e){const n=He(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),a_(n)?s_(n):ql(n).N_()&&r_(n,e))}function i_(t,e){const n=He(t),r=ql(n);n.Ea.delete(e),r.N_()&&zI(n,e),n.Ea.size===0&&(r.N_()?r.k_():To(n)&&n.Va.set("Unknown"))}function r_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ql(t).Z_(e)}function zI(t,e){t.ma.Ke(e),ql(t).X_(e)}function s_(t){t.ma=new z9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ql(t).start(),t.Va.ca()}function a_(t){return To(t)&&!ql(t).O_()&&t.Ea.size>0}function To(t){return He(t).da.size===0}function FI(t){t.ma=void 0}async function $5(t){t.Va.set("Online")}async function Q5(t){t.Ea.forEach((e,n)=>{r_(t,e)})}async function X5(t,e){FI(t),a_(t)?(t.Va.Pa(e),s_(t)):t.Va.set("Unknown")}async function W5(t,e,n){if(t.Va.set("Online"),e instanceof RI&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ea.delete(h),a.ma.removeTarget(h))}(t,e)}catch(r){Ee(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(t,r)}else if(e instanceof Gf?t.ma.Xe(e):e instanceof AI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Fe.min()))try{const r=await LI(t.localStore);n.compareTo(r)>=0&&await function(l,u){const h=l.ma.It(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const y=l.Ea.get(d);if(!y)return;l.Ea.set(d,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),zI(l,d);const _=new Ws(y.target,d,p,y.sequenceNumber);r_(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){Ee(mo,"Failed to raise snapshot:",r),await wd(t,r)}}async function wd(t,e,n){if(!Fl(e))throw e;t.da.add(1),await Wc(t),t.Va.set("Offline"),n||(n=()=>LI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(mo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await $d(t)})}function HI(t,e){return e().catch(n=>wd(t,n,e))}async function Qd(t){const e=He(t),n=fa(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hv;for(;Z5(e);)try{const a=await N5(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,J5(e,a)}catch(a){await wd(e,a)}qI(e)&&GI(e)}function Z5(t){return To(t)&&t.Ia.length<10}function J5(t,e){t.Ia.push(e);const n=fa(t);n.N_()&&n.ea&&n.ta(e.mutations)}function qI(t){return To(t)&&!fa(t).O_()&&t.Ia.length>0}function GI(t){fa(t).start()}async function eB(t){fa(t).ia()}async function tB(t){const e=fa(t);for(const n of t.Ia)e.ta(n.mutations)}async function nB(t,e,n){const r=t.Ia.shift(),a=Xv.from(r,e,n);await HI(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Qd(t)}async function iB(t,e){e&&fa(t).ea&&await async function(r,a){if(function(u){return j9(u)&&u!==le.ABORTED}(a.code)){const l=r.Ia.shift();fa(r).L_(),await HI(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Qd(r)}}(t,e),qI(t)&&GI(t)}async function XS(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ee(mo,"RemoteStore received new credentials");const r=To(n);n.da.add(3),await Wc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await $d(n)}async function rB(t,e){const n=He(t);e?(n.da.delete(2),await $d(n)):e||(n.da.add(2),await Wc(n),n.Va.set("Unknown"))}function ql(t){return t.fa||(t.fa=function(n,r,a){const l=He(n);return l.oa(),new F5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:$5.bind(null,t),n_:Q5.bind(null,t),i_:X5.bind(null,t),Y_:W5.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),a_(t)?s_(t):t.Va.set("Unknown")):(await t.fa.stop(),FI(t))})),t.fa}function fa(t){return t.ga||(t.ga=function(n,r,a){const l=He(n);return l.oa(),new H5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:eB.bind(null,t),i_:iB.bind(null,t),na:tB.bind(null,t),ra:nB.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Qd(t)):(await t.ga.stop(),t.Ia.length>0&&(Ee(mo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new o_(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(t,e){if(cs("AsyncQueue",`${e}: ${t}`),Fl(t))return new _e(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.pa=new Mt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pl{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Pl(e,n,bl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class aB{constructor(){this.queries=ZS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=He(n),l=a.queries;a.queries=ZS(),l.forEach((u,h)=>{for(const d of h.Sa)d.onError(r)})})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function ZS(){return new _o(t=>fI(t),zd)}async function YI(t,e){const n=He(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Da()&&e.va()&&(r=2):(l=new sB,r=e.va()?0:1);try{switch(r){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=l_(u,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&u_(n)}async function KI(t,e){const n=He(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oB(t,e){const n=He(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Ma(a)&&(r=!0);u.ba=a}}r&&u_(n)}function lB(t,e,n){const r=He(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function u_(t){t.Ca.forEach(e=>{e.next()})}var Py,JS;(JS=Py||(Py={})).xa="default",JS.Cache="cache";class $I{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.key=e}}class XI{constructor(e){this.key=e}}class uB{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=dI(e),this.Xa=new bl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new WS,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const T=a.get(y),b=Fd(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;T&&b?T.data.isEqual(b.data)?C!==k&&(r.track({type:3,doc:b}),P=!0):this.ru(T,b)||(r.track({type:2,doc:b}),P=!0,(d&&this.Za(b,d)>0||p&&this.Za(b,p)<0)&&(h=!0)):!T&&b?(r.track({type:0,doc:b}),P=!0):T&&!b&&(r.track({type:1,doc:T}),P=!0,(d||p)&&(h=!0)),P&&(b?(u=u.add(b),l=k?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Xa:u,nu:r,Cs:h,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,_)=>function(b,C){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:P})}};return k(b)-k(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const h=n&&!a?this.su():[],d=this.Ya.size===0&&this.current&&!a?1:0,p=d!==this.Ja;return this.Ja=d,u.length!==0||p?{snapshot:new Pl(this.query,e.Xa,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new WS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new XI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new QI(r))}),n}au(e){this.Ha=e.$s,this.Ya=nt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Pl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const c_="SyncEngine";class cB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hB{constructor(e){this.key=e,this.cu=!1}}class fB{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new _o(h=>fI(h),zd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Mt(De.comparator),this.Eu=new Map,this.du=new Jv,this.Au={},this.Ru=new Map,this.Vu=Ml.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function dB(t,e,n=!0){const r=nx(t);let a;const l=r.hu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await WI(r,e,n,!0),a}async function mB(t,e){const n=nx(t);await WI(n,e,!0,!1)}async function WI(t,e,n,r){const a=await O5(t.localStore,Sr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await pB(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&BI(t.remoteStore,a),h}async function pB(t,e,n,r,a){t.fu=(_,T,b)=>async function(k,P,D,Y){let H=P.view.tu(D);H.Cs&&(H=await GS(k.localStore,P.query,!1).then(({documents:M})=>P.view.tu(M,H)));const re=Y&&Y.targetChanges.get(P.targetId),te=Y&&Y.targetMismatches.get(P.targetId)!=null,B=P.view.applyChanges(H,k.isPrimaryClient,re,te);return tA(k,P.targetId,B.ou),B.snapshot}(t,_,T,b);const l=await GS(t.localStore,e,!0),u=new uB(e,l.$s),h=u.tu(l.documents),d=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);tA(t,n,p.ou);const y=new cB(e,n,u);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function gB(t,e,n){const r=He(t),a=r.hu.get(e),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(u=>!zd(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Dy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&i_(r.remoteStore,a.targetId),Ny(r,a.targetId)}).catch(zl)):(Ny(r,a.targetId),await Dy(r.localStore,a.targetId,!0))}async function yB(t,e){const n=He(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i_(n.remoteStore,r.targetId))}async function vB(t,e,n){const r=AB(t);try{const a=await function(u,h){const d=He(u),p=en.now(),y=h.reduce((b,C)=>b.add(C.key),nt());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=hs(),k=nt();return d.Bs.getEntries(b,y).next(P=>{C=P,C.forEach((D,Y)=>{Y.isValidDocument()||(k=k.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,C)).next(P=>{_=P;const D=[];for(const Y of h){const H=O9(Y,_.get(Y.key).overlayedDocument);H!=null&&D.push(new _a(Y.key,H,rI(H.value.mapValue),Bn.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,D,h)}).next(P=>{T=P;const D=P.applyToLocalDocumentSet(_,k);return d.documentOverlayCache.saveOverlays(b,P.batchId,D)})}).then(()=>({batchId:T.batchId,changes:pI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.Au[u.currentUser.toKey()];p||(p=new Mt($e)),p=p.insert(h,d),u.Au[u.currentUser.toKey()]=p}(r,a.batchId,n),await Zc(r,a.changes),await Qd(r.remoteStore)}catch(a){const l=l_(a,"Failed to persist write");n.reject(l)}}async function ZI(t,e){const n=He(t);try{const r=await M5(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Eu.get(l);u&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?mt(u.cu,14607):a.removedDocuments.size>0&&(mt(u.cu,42227),u.cu=!1))}),await Zc(n,r,e)}catch(r){await zl(r)}}function eA(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((l,u)=>{const h=u.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=He(u);d.onlineState=h;let p=!1;d.queries.forEach((y,_)=>{for(const T of _.Sa)T.Fa(h)&&(p=!0)}),p&&u_(d)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _B(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),l=a&&a.key;if(l){let u=new Mt(De.comparator);u=u.insert(l,xn.newNoDocument(l,Fe.min()));const h=nt().add(l),d=new Yd(Fe.min(),new Map,new Mt($e),u,h);await ZI(r,d),r.Iu=r.Iu.remove(l),r.Eu.delete(e),h_(r)}else await Dy(r.localStore,e,!1).then(()=>Ny(r,e,n)).catch(zl)}async function TB(t,e){const n=He(t),r=e.batch.batchId;try{const a=await D5(n.localStore,e);ex(n,r,null),JI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zc(n,a)}catch(a){await zl(a)}}async function EB(t,e,n){const r=He(t);try{const a=await function(u,h){const d=He(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next(_=>(mt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);ex(r,e,n),JI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zc(r,a)}catch(a){await zl(a)}}function JI(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function ex(t,e,n){const r=He(t);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||tx(t,r)})}function tx(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(i_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),h_(t))}function tA(t,e,n){for(const r of n)r instanceof QI?(t.du.addReference(r.key,e),wB(t,r)):r instanceof XI?(Ee(c_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||tx(t,r.key)):Ue(19791,{pu:r})}function wB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ee(c_,"New document in limbo: "+n),t.Tu.add(r),h_(t))}function h_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(At.fromString(e)),r=t.Vu.next();t.Eu.set(r,new hB(n)),t.Iu=t.Iu.insert(n,r),BI(t.remoteStore,new Ws(Sr($v(n.path)),r,"TargetPurposeLimboResolution",Ud.le))}}async function Zc(t,e,n){const r=He(t),a=[],l=[],u=[];r.hu.isEmpty()||(r.hu.forEach((h,d)=>{u.push(r.fu(d,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=t_.Rs(d.targetId,p);l.push(_)}}))}),await Promise.all(u),r.lu.Y_(a),await async function(d,p){const y=He(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>he.forEach(p,T=>he.forEach(T.ds,b=>y.persistence.referenceDelegate.addReference(_,T.targetId,b)).next(()=>he.forEach(T.As,b=>y.persistence.referenceDelegate.removeReference(_,T.targetId,b)))))}catch(_){if(!Fl(_))throw _;Ee(n_,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const b=y.xs.get(T),C=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(T,k)}}}(r.localStore,l))}async function bB(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ee(c_,"User change. New user:",e.toKey());const r=await kI(n.localStore,e);n.currentUser=e,function(l,u){l.Ru.forEach(h=>{h.forEach(d=>{d.reject(new _e(le.CANCELLED,u))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zc(n,r.ks)}}function SB(t,e){const n=He(t),r=n.Eu.get(e);if(r&&r.cu)return nt().add(r.key);{let a=nt();const l=n.Pu.get(e);if(!l)return a;for(const u of l){const h=n.hu.get(u);a=a.unionWith(h.view.eu)}return a}}function nx(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.lu.Y_=oB.bind(null,e.eventManager),e.lu.gu=lB.bind(null,e.eventManager),e}function AB(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EB.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return x5(this.persistence,new R5,e.initialUser,this.serializer)}Su(e){return new VI(e_.fi,this.serializer)}bu(e){return new k5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class RB extends bd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){mt(this.persistence.referenceDelegate instanceof Ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h5(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new VI(r=>Ed.fi(r,n),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bB.bind(null,this.syncEngine),await rB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aB}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=function(l){return new z5(l)}(e.databaseInfo);return function(l,u,h,d){return new G5(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,h){return new K5(r,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>eA(this.syncEngine,n,0),function(){return $S.C()?new $S:new L5}())}createSyncEngine(e,n){return function(a,l,u,h,d,p,y){const _=new fB(a,l,u,h,d,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=He(a);Ee(mo,"RemoteStore shutting down."),l.da.add(5),await Wc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oy.provider={build:()=>new Oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class CB{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=$C.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{Ee(da,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ee(da,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kg(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(da,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await kI(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IB(t);Ee(da,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>XS(e.remoteStore,a)),t._onlineComponents=e}async function IB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(da,"Using user provided OfflineComponentProvider");try{await kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await kg(t,new bd)}}else Ee(da,"Using default OfflineComponentProvider"),await kg(t,new RB(void 0));return t._offlineComponents}async function rx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(da,"Using user provided OnlineComponentProvider"),await nA(t,t._uninitializedComponentsProvider._online)):(Ee(da,"Using default OnlineComponentProvider"),await nA(t,new Oy))),t._onlineComponents}function xB(t){return rx(t).then(e=>e.syncEngine)}async function sx(t){const e=await rx(t),n=e.eventManager;return n.onListen=dB.bind(null,e.syncEngine),n.onUnlisten=gB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yB.bind(null,e.syncEngine),n}function DB(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new ix({next:T=>{y.xu(),u.enqueueAndForget(()=>KI(l,_));const b=T.docs.has(h);!b&&T.fromCache?p.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&d&&d.source==="server"?p.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new $I($v(h.path),y,{includeMetadataChanges:!0,Qa:!0});return YI(l,_)}(await sx(t),t.asyncQueue,e,n,r)),r.promise}function MB(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const y=new ix({next:T=>{y.xu(),u.enqueueAndForget(()=>KI(l,_)),T.fromCache&&d.source==="server"?p.reject(new _e(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new $I(h,y,{includeMetadataChanges:!0,Qa:!0});return YI(l,_)}(await sx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e,n){if(!n)throw new _e(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PB(t,e,n,r){if(e===!0&&r===!0)throw new _e(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rA(t){if(!De.isDocumentKey(t))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(De.isDocumentKey(t))throw new _e(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firestore.googleapis.com",aA=!0;class oA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lx,this.ssl=aA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u5)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ax((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jj;switch(r.type){case"firstParty":return new Hj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iA.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())}(this),Promise.resolve()}}function NB(t,e,n,r={}){var a;t=Li(t,Wd);const l=Ll(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l&&(RR(`https://${d}`),CR("Firestore",!0)),u.host!==lx&&u.host!==d&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:l,emulatorOptions:r});if(!oa(p,h)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=In.MOCK_USER;else{y=AL(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new In(T)}t._authCredentials=new Bj(new YC(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ia extends Eo{constructor(e,n,r){super(e,n,$v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new De(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function Zs(t,e,...n){if(t=Vt(t),ox("collection","path",e),t instanceof Wd){const r=At.fromString(e,...n);return sA(r),new ia(t,null,r)}{if(!(t instanceof zn||t instanceof ia))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return sA(r),new ia(t.firestore,null,r)}}function Js(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=$C.newId()),ox("doc","path",e),t instanceof Wd){const r=At.fromString(e,...n);return rA(r),new zn(t,null,new De(r))}{if(!(t instanceof zn||t instanceof ia))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return rA(r),new zn(t.firestore,t instanceof ia?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="AsyncQueue";class uA{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new UI(this,"async_queue_retry"),this.rc=()=>{const r=Vg();r&&Ee(lA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ss;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fl(e))throw e;Ee(lA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,cs("INTERNAL UNHANDLED ERROR: ",cA(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=o_.createAndSchedule(this,e,n,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ue(47125,{cc:cA(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function cA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ta extends Wd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new uA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function OB(t,e){const n=typeof t=="object"?t:Cv(),r=typeof t=="string"?t:gd,a=vo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=bL("firestore");l&&NB(a,...l)}return a}function Zd(t){if(t._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VB(t),t._firestoreClient}function VB(t){var e,n,r;const a=t._freezeSettings(),l=function(h,d,p,y){return new r9(h,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ax(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new CB(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(_n.fromBase64String(e))}catch(n){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nl(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^__.*__$/;class LB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qc(e,this.data,n,this.fieldTransforms)}}class ux{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ic:t})}}class m_{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(cx(this.Ic)&&kB.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class UB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}bc(e,n,r,a=!1){return new m_({Ic:e,methodName:n,wc:r,path:vn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new UB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p_(t,e,n,r,a,l={}){const u=t.bc(l.merge||l.mergeFields?2:0,e,n,a);y_("Data must be an object, but it was:",u,r);const h=dx(r,u);let d,p;if(l.merge)d=new ui(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=Vy(e,_,n);if(!u.contains(T))throw new _e(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);px(y,T)||y.push(T)}d=new ui(y),p=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=u.fieldTransforms;return new LB(new Kn(h),d,p)}class em extends Jd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}class g_ extends Jd{_toFieldTransform(e){return new D9(e.path,new Oc)}isEqual(e){return e instanceof g_}}function hx(t,e,n,r){const a=t.bc(1,e,n);y_("Data must be an object, but it was:",a,r);const l=[],u=Kn.empty();va(r,(d,p)=>{const y=v_(e,d,n);p=Vt(p);const _=a.mc(y);if(p instanceof em)l.push(y);else{const T=th(p,_);T!=null&&(l.push(y),u.set(y,T))}});const h=new ui(l);return new ux(u,h,a.fieldTransforms)}function fx(t,e,n,r,a,l){const u=t.bc(1,e,n),h=[Vy(e,r,n)],d=[a];if(l.length%2!=0)throw new _e(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Vy(e,l[T])),d.push(l[T+1]);const p=[],y=Kn.empty();for(let T=h.length-1;T>=0;--T)if(!px(p,h[T])){const b=h[T];let C=d[T];C=Vt(C);const k=u.mc(b);if(C instanceof em)p.push(b);else{const P=th(C,k);P!=null&&(p.push(b),y.set(b,P))}}const _=new ui(p);return new ux(y,_,u.fieldTransforms)}function jB(t,e,n,r=!1){return th(n,t.bc(r?4:3,e))}function th(t,e){if(mx(t=Vt(t)))return y_("Unsupported field value:",e,t),dx(t,e);if(t instanceof Jd)return function(r,a){if(!cx(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const h of r){let d=th(h,a.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C9(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=en.fromDate(r);return{timestampValue:Td(a.serializer,l)}}if(r instanceof en){const l=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(a.serializer,l)}}if(r instanceof f_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nl)return{bytesValue:CI(a.serializer,r._byteString)};if(r instanceof zn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof d_)return function(u,h){return{mapValue:{fields:{[nI]:{stringValue:iI},[yd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.gc("VectorValues must only contain numeric values.");return Qv(h.serializer,p)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${Xd(r)}`)}(t,e)}function dx(t,e){const n={};return XC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,a)=>{const l=th(a,e.Ac(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof f_||t instanceof Nl||t instanceof zn||t instanceof Jd||t instanceof d_)}function y_(t,e,n){if(!mx(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Xd(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Vy(t,e,n){if((e=Vt(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return v_(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const BB=new RegExp("[~\\*/\\[\\]]");function v_(t,e,n){if(e.search(BB)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jc(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new _e(le.INVALID_ARGUMENT,h+t+d)}function px(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zB extends gx{data(){return super.data()}}function tm(t,e){return typeof e=="string"?v_(t,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class yx extends __{}function vx(t,e,...n){let r=[];e instanceof __&&r.push(e),r=r.concat(n),function(l){const u=l.filter(d=>d instanceof T_).length,h=l.filter(d=>d instanceof nm).length;if(u>1||u>0&&h>0)throw new _e(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class nm extends yx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nm(e,n,r)}_apply(e){const n=this._parse(e);return Tx(e._query,n),new Eo(e.firestore,e.converter,Sy(e._query,n))}_parse(e){const n=eh(e.firestore);return function(l,u,h,d,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){fA(_,y);const C=[];for(const k of _)C.push(hA(d,l,k));T={arrayValue:{values:C}}}else T=hA(d,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||fA(_,y),T=jB(h,u,_,y==="in"||y==="not-in");return Kt.create(p,y,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function HB(t,e,n){const r=e,a=tm("where",t);return nm._create(a,r,n)}class T_ extends __{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)Tx(u,d),u=Sy(u,d)}(e._query,n),new Eo(e.firestore,e.converter,Sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E_ extends yx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E_(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(l,u)}(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Hl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function _x(t,e="asc"){const n=e,r=tm("orderBy",t);return E_._create(r,n)}function hA(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new _e(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hI(e)&&n.indexOf("/")!==-1)throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!De.isDocumentKey(r))throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RS(t,new De(r))}if(n instanceof zn)return RS(t,n._key);throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function fA(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tx(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qB{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[yd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>jt(u.doubleValue));return new d_(l)}convertGeoPoint(e){return new f_(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=ua(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);mt(NI(r),9688,{name:e});const a=new Mc(r.get(1),r.get(3)),l=new De(r.popFirst(5));return a.isEqual(n)||cs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ex extends gx{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yf extends Ex{data(e={}){return super.data(e)}}class GB{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yf(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:YB(h.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){t=Li(t,zn);const e=Li(t.firestore,Ta);return DB(Zd(e),t._key).then(n=>QB(e,t,n))}class bx extends qB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function yc(t){t=Li(t,Eo);const e=Li(t.firestore,Ta),n=Zd(e),r=new bx(e);return FB(t._query),MB(n,t._query).then(a=>new GB(e,r,t,a))}function KB(t,e,n){t=Li(t,zn);const r=Li(t.firestore,Ta),a=w_(t.converter,e,n);return nh(r,[p_(eh(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Bn.none())])}function Sx(t,e,n,...r){t=Li(t,zn);const a=Li(t.firestore,Ta),l=eh(a);let u;return u=typeof(e=Vt(e))=="string"||e instanceof Jc?fx(l,"updateDoc",t._key,e,n,r):hx(l,"updateDoc",t._key,e),nh(a,[u.toMutation(t._key,Bn.exists(!0))])}function $B(t){return nh(Li(t.firestore,Ta),[new Gd(t._key,Bn.none())])}function b_(t,e){const n=Li(t.firestore,Ta),r=Js(t),a=w_(t.converter,e);return nh(n,[p_(eh(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function nh(t,e){return function(r,a){const l=new ss;return r.asyncQueue.enqueueAndForget(async()=>vB(await xB(r),a,l)),l.promise}(Zd(t),e)}function QB(t,e,n){const r=n.docs.get(e._key),a=new bx(t);return new Ex(t,a,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eh(e)}set(e,n,r){this._verifyNotCommitted();const a=Lg(e,this._firestore),l=w_(a.converter,n,r),u=p_(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Bn.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const l=Lg(e,this._firestore);let u;return u=typeof(n=Vt(n))=="string"||n instanceof Jc?fx(this._dataReader,"WriteBatch.update",l._key,n,r,a):hx(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new Gd(n._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(t,e){if((t=Vt(t)).firestore!==e)throw new _e(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ky(){return new g_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){return Zd(t=Li(t,Ta)),new XB(t,e=>nh(t,e))}(function(e,n=!0){(function(a){Bl=a})(Ul),Rr(new Ki("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Ta(new zj(r.getProvider("auth-internal")),new qj(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(p.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Vi(mS,pS,e),Vi(mS,pS,"esm2017")})();const ZB={apiKey:"AIzaSyDXbs67ghUM7l6XIO7vTkDiEr50Jm1-prs",authDomain:"wandermind-fe68b.firebaseapp.com",projectId:"wandermind-fe68b",storageBucket:"wandermind-fe68b.firebasestorage.app",messagingSenderId:"5759534778",appId:"1:5759534778:web:13265b3097a18ca455e483",measurementId:"G-XY0M72FES1"},S_=OR(ZB);Vj(S_);const Yi=g3(S_),Cn=OB(S_),Ax=L.createContext({user:null,loading:!0}),JB=({children:t})=>{const[e,n]=L.useState(null),[r,a]=L.useState(!0);return L.useEffect(()=>{const l=sU(Yi,u=>{n(u||null),a(!1)});return()=>l()},[]),I.jsx(Ax.Provider,{value:{user:e,loading:r},children:t})},A_=()=>L.useContext(Ax),ez="/wander-mind/wandermind%20logo.png",tz=()=>{const{user:t,loading:e}=A_(),[n,r]=L.useState(!1),[a,l]=L.useState(!1);L.useEffect(()=>{const d=()=>{window.scrollY>10?l(!0):l(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const u=()=>{r(!n)},h=()=>{r(!1)};return e?null:I.jsx("header",{className:`nav-header ${a?"scrolled":""}`,children:I.jsxs("div",{className:"nav-container",children:[I.jsx("div",{className:"logo-container",children:I.jsx("img",{src:ez,alt:"WanderMind Logo",width:75})}),I.jsxs("nav",{className:"nav-links",children:[I.jsx(pn,{to:"/",onClick:h,children:"Home"}),I.jsx(pn,{to:"/escapes",onClick:h,children:"Escape List"}),I.jsx(pn,{to:"/journal",onClick:h,children:"Journal"}),I.jsx(pn,{to:"/ai-companion",onClick:h,children:"MindMate AI"})]}),I.jsx("div",{className:"auth-buttons",children:t?I.jsx(I.Fragment,{children:I.jsx("button",{onClick:()=>Yi.signOut(),className:"logout-button",children:"Logout"})}):I.jsxs(I.Fragment,{children:[I.jsx(pn,{to:"/login",children:"Login"}),I.jsx(pn,{to:"/sign-up",children:"Sign Up"})]})}),I.jsx("button",{className:"mobile-menu-button",onClick:u,"aria-label":"Toggle menu","aria-expanded":n,children:n?I.jsx(dL,{className:"menu-icon"}):I.jsx(hL,{className:"menu-icon"})}),I.jsx("div",{className:`mobile-menu-overlay ${n?"open":""}`,onClick:h,"aria-hidden":!n}),I.jsx("div",{className:`mobile-menu ${n?"open":""}`,children:I.jsxs("nav",{className:"mobile-nav-links",children:[I.jsx(pn,{to:"/",onClick:h,className:({isActive:d})=>d?"active":"",children:"Home"}),I.jsx(pn,{to:"/escapes",onClick:h,className:({isActive:d})=>d?"active":"",children:"Escape List"}),I.jsx(pn,{to:"/journal",onClick:h,className:({isActive:d})=>d?"active":"",children:"Journal"}),I.jsx(pn,{to:"/ai-companion",onClick:h,className:({isActive:d})=>d?"active":"",children:"MindMate AI"}),I.jsx("div",{className:"mobile-auth-section",children:t?I.jsxs(I.Fragment,{children:[I.jsx(pn,{to:"/profile",onClick:h,className:({isActive:d})=>`mobile-profile-link ${d?"active":""}`}),I.jsx("button",{onClick:()=>{Yi.signOut(),h()},className:"logout-button",children:"Logout"})]}):I.jsxs(I.Fragment,{children:[I.jsx(pn,{to:"/login",onClick:h,className:({isActive:d})=>`mobile-auth-link ${d?"active":""}`,children:"Login"}),I.jsx(pn,{to:"/sign-up",onClick:h,className:({isActive:d})=>`mobile-auth-link ${d?"active":""}`,children:"Sign Up"})]})})]})})]})})},hi=({children:t})=>I.jsxs("div",{className:"layout-container",children:[I.jsx(tz,{}),I.jsx("main",{className:"layout-main-content",children:t}),I.jsx(cL,{})]}),nz=()=>I.jsx("div",{className:"home-page",children:I.jsx(hi,{children:I.jsx(Zk,{})})});function iz(){return I.jsx(I.Fragment,{children:I.jsx(nz,{})})}const rz="/wander-mind/wandermindlogo.png",sz=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[a,l]=L.useState(""),[u,h]=L.useState(""),d=Rd(),p=async y=>{if(y.preventDefault(),l(""),h(""),!t||!n){l("Please enter both email and password.");return}try{await eU(Yi,t,n),h("Login successful! Redirecting..."),setTimeout(()=>{d("/journal")},1500)}catch{l("Invalid Credentials!")}};return I.jsx(hi,{children:I.jsxs("div",{className:"login-container",children:[I.jsx("div",{className:"login-background"}),I.jsxs("div",{className:"login-card",children:[I.jsxs("div",{className:"login-header",children:[I.jsx("img",{src:rz,alt:"WanderMind Logo",className:"logo"}),I.jsx("h2",{children:"Welcome Back"}),I.jsx("p",{children:"Connect with mindful journeys"})]}),I.jsxs("form",{className:"login-form",onSubmit:p,children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"email",children:"Email"}),I.jsx("input",{type:"email",id:"email",value:t,onChange:y=>e(y.target.value),placeholder:"your@email.com"}),I.jsx("span",{className:"input-icon",children:""})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsx("input",{type:"password",id:"password",value:n,onChange:y=>r(y.target.value),placeholder:""}),I.jsx("span",{className:"input-icon",children:""})]}),a&&I.jsx("span",{className:"login-error",children:a}),u&&I.jsx("span",{className:"login-success",children:u}),I.jsx("button",{type:"submit",className:"login-button",children:"Sign In"}),I.jsxs("div",{className:"login-footer",children:[I.jsx(pn,{to:"/reset-password",type:"button",className:"reset-password-link",style:{background:"none",border:"none",color:"red",cursor:"pointer",padding:0},children:"Forgot password?"}),I.jsx("span",{children:""}),I.jsx("a",{href:"/sign-up",children:"Create account"})]})]})]})]})})},az=()=>{const[t,e]=L.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=L.useState({}),[a,l]=L.useState(!1),[u,h]=L.useState(!1),[d,p]=L.useState(""),[y,_]=L.useState(""),T=Rd(),b=P=>{const{name:D,value:Y}=P.target;e(H=>({...H,[D]:Y}))},C=()=>{const P={};return t.name.trim()||(P.name="Name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(P.email="Enter a valid email"):P.email="Email is required",t.password?t.password.length<8&&(P.password="Minimum 8 characters required"):P.password="Password is required",t.password!==t.confirmPassword&&(P.confirmPassword="Passwords do not match"),r(P),Object.keys(P).length===0},k=async P=>{if(P.preventDefault(),_(""),p(""),!!C()){l(!0);try{const{email:D,password:Y}=t;await J6(Yi,D,Y),await nU(Yi.currentUser,{displayName:t.name}),await Yi.currentUser.reload(),p("Account created successfully! Redirecting..."),e({name:"",email:"",password:"",confirmPassword:""}),await new Promise(H=>setTimeout(H,1500)),T("/journal")}catch(D){console.error("Signup error:",D),_(D.message||"Signup failed. Try again.")}finally{l(!1)}}};return I.jsx(hi,{children:I.jsx("div",{className:"signup-container",children:I.jsxs("div",{className:"signup-card",children:[I.jsxs("div",{className:"signup-header",children:[I.jsx("h1",{children:"Create Account"}),I.jsx("p",{children:"Join our community today"})]}),d&&I.jsx("div",{className:"success-message",children:d}),y&&I.jsx("div",{className:"error-message",children:y}),I.jsxs("form",{className:"signup-form",onSubmit:k,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"name",children:"UserName"}),I.jsx("input",{id:"name",name:"name",type:"text",placeholder:"Enter your name",value:t.name,onChange:b,className:n.name?"error":""}),n.name&&I.jsx("span",{className:"error-message",children:n.name})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"email",children:"Email Address"}),I.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:t.email,onChange:b,className:n.email?"error":""}),n.email&&I.jsx("span",{className:"error-message",children:n.email})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"password",children:"Password"}),I.jsxs("div",{className:"password-input",children:[I.jsx("input",{id:"password",name:"password",type:u?"text":"password",placeholder:"Create a password",value:t.password,onChange:b,className:n.password?"error":""}),I.jsx("button",{type:"button",className:"toggle-password",onClick:()=>h(!u),children:u?"Hide":"Show"})]}),n.password&&I.jsx("span",{className:"error-message",children:n.password})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),I.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:b,className:n.confirmPassword?"error":""}),n.confirmPassword&&I.jsx("span",{className:"error-message",children:n.confirmPassword})]}),I.jsxs("div",{className:"terms-group",children:[I.jsx("input",{type:"checkbox",id:"terms",required:!0}),I.jsxs("label",{htmlFor:"terms",children:["I agree to the ",I.jsx("a",{href:"#",children:"Terms of Service"})," and ",I.jsx("a",{href:"#",children:"Privacy Policy"})]})]}),I.jsx("button",{type:"submit",className:"signup-button",disabled:a,children:a?I.jsx("span",{className:"spinner"}):"Sign Up"})]}),I.jsxs("div",{className:"login-link",children:["Already have an account? ",I.jsx("a",{href:"/login",children:"Log in"})]})]})})})},Ug={sad:[{location:"Wistmans Wood",country:"England",vibe:"twisted oaks in a fog that listens",imageQuery:"Wistman's Wood foggy forest"},{location:"Marble Caves",country:"Chile",vibe:"echoing caves carved by gentle waves",imageQuery:"Marble Caves Patagonia water reflections"},{location:"Lake Natron",country:"Tanzania",vibe:"a crimson mirror of silence and time",imageQuery:"Lake Natron red lake flamingos"},{location:"Aokigahara Forest",country:"Japan",vibe:"stillness thick as moss beneath ancient trees",imageQuery:"Aokigahara Forest quiet mist"},{location:"Lofoten Islands",country:"Norway",vibe:"sorrow wrapped in blue fjords and mountains",imageQuery:"Lofoten Islands moody sky"},{location:"Isle of Skye",country:"Scotland",vibe:"cliffs and clouds that understand solitude",imageQuery:"Isle of Skye dark coast"},{location:"Prypiat",country:"Ukraine",vibe:"forgotten cities frozen in loss",imageQuery:"Chernobyl abandoned city overgrown"},{location:"Lake Bled in Rain",country:"Slovenia",vibe:"a chapel island blurred by tears of sky",imageQuery:"Lake Bled rain mist"},{location:"St. Kevins Monastic Ruins",country:"Ireland",vibe:"ruins where monks whispered to the rain",imageQuery:"St. Kevin ruins Ireland fog"},{location:"Derweze Gas Crater",country:"Turkmenistan",vibe:"the earths glowing wound, still burning",imageQuery:"Door to Hell crater night fire"}],stressed:[{location:"Shirakami-Sanchi",country:"Japan",vibe:"beech forests dripping golden stillness",imageQuery:"Shirakami Sanchi sunlight forest"},{location:"Plitvice Lakes",country:"Croatia",vibe:"cascading waters singing soft lullabies",imageQuery:"Plitvice Lakes waterfalls emerald"},{location:"Lenis Maranhenses",country:"Brazil",vibe:"sapphire pools cradled by white dunes",imageQuery:"Lencois Maranhenses aerial dunes lagoons"},{location:"Socotra Island",country:"Yemen",vibe:"alien trees in sacred silence",imageQuery:"Socotra dragon blood trees"},{location:"Antelope Canyon",country:"USA",vibe:"curved stone waves kissed by light",imageQuery:"Antelope Canyon light beams"},{location:"Kyoto Zen Garden",country:"Japan",vibe:"patterns in gravel that calm the storm",imageQuery:"Kyoto Zen rock garden"},{location:"Jasper National Park",country:"Canada",vibe:"silent peaks reflected in glassy lakes",imageQuery:"Jasper lake reflections"},{location:"Valley of Flowers",country:"India",vibe:"meadows breathing out color and calm",imageQuery:"Valley of Flowers Himalayas"},{location:"Chteau de Chambord",country:"France",vibe:"serenity behind ancient castle walls",imageQuery:"Chambord castle France fog"},{location:"Blue Pond",country:"Japan",vibe:"hauntingly still waters under pale skies",imageQuery:"Blue Pond Biei Japan"}],excited:[{location:"Cappadocia",country:"Turkey",vibe:"sunrise skies filled with balloons and thrill",imageQuery:"Cappadocia hot air balloons"},{location:"La Tomatina",country:"Spain",vibe:"red chaos, laughter, and tomato storms",imageQuery:"La Tomatina festival Spain"},{location:"Holi Festival",country:"India",vibe:"colors exploding like happiness set free",imageQuery:"Holi Festival color powder"},{location:"Times Square NYE",country:"USA",vibe:"countdowns, confetti, and collective joy",imageQuery:"Times Square New Year confetti"},{location:"Oktoberfest",country:"Germany",vibe:"mugs clashing and accordion joy",imageQuery:"Oktoberfest Germany crowd beer"},{location:"Rio Carnival",country:"Brazil",vibe:"dancing feathers in electric rhythms",imageQuery:"Rio Carnival costumes parade"},{location:"Tomorrowland",country:"Belgium",vibe:"beats pulsing under a neon sky",imageQuery:"Tomorrowland music festival crowd"},{location:"Santorini",country:"Greece",vibe:"sunset claps and white rooftops over joy",imageQuery:"Santorini sunset celebration"},{location:"Lantern Festival",country:"Taiwan",vibe:"sky on fire with flying wishes",imageQuery:"Taiwan Lantern Festival night sky"},{location:"Disneyland Fireworks",country:"USA",vibe:"magic exploding in starbursts",imageQuery:"Disneyland fireworks night"}],tired:[{location:"Gasadalur",country:"Faroe Islands",vibe:"a sleepy village wrapped in waterfalls",imageQuery:"Gasadalur waterfall Faroe Islands"},{location:"Huacachina Oasis",country:"Peru",vibe:"dunes whispering secrets to the lagoon",imageQuery:"Huacachina oasis desert Peru"},{location:"Bamboo Forest",country:"Japan",vibe:"wind murmuring through green pillars",imageQuery:"Kyoto bamboo forest sunlight"},{location:"Lake Louise",country:"Canada",vibe:"a mirror of turquoise beneath giants",imageQuery:"Lake Louise canoe mountain"},{location:"Hallstatt",country:"Austria",vibe:"dreamlike lakeside stillness",imageQuery:"Hallstatt lake village mountains"},{location:"Blue Grotto",country:"Italy",vibe:"a glowing cave where time floats",imageQuery:"Blue Grotto Capri cave boat"},{location:"Seongsan Ilchulbong",country:"South Korea",vibe:"gentle sunrise over a crater by sea",imageQuery:"Seongsan Ilchulbong sunrise"},{location:"Mount Cook Village",country:"New Zealand",vibe:"snowy silence under southern stars",imageQuery:"Mount Cook New Zealand snowy"},{location:"Llyn Padarn",country:"Wales",vibe:"a lonely tree sleeping in a quiet lake",imageQuery:"Llyn Padarn lone tree mist"},{location:"Laguna Colorada",country:"Bolivia",vibe:"a sleepy red lagoon dotted with flamingos",imageQuery:"Laguna Colorada flamingos lake"}],numb:[{location:"Svalbard Seed Vault",country:"Norway",vibe:"a frozen ark of forgotten futures",imageQuery:"Svalbard Seed Vault snow"},{location:"Salar de Uyuni",country:"Bolivia",vibe:"a sky mirror that erases edges",imageQuery:"Salar de Uyuni reflection sky"},{location:"Lake Baikal",country:"Russia",vibe:"cracked turquoise glass frozen in time",imageQuery:"Lake Baikal frozen ice"},{location:"Mount Erebus",country:"Antarctica",vibe:"a volcano whispering through frost",imageQuery:"Mount Erebus Antarctica lava"},{location:"Vatnajkull Glacier",country:"Iceland",vibe:"an ocean of blue ice breathing silence",imageQuery:"Vatnajkull glacier cave"},{location:"Deadvlei",country:"Namibia",vibe:"ghost trees under an eternal orange sky",imageQuery:"Deadvlei Namibia dead trees"},{location:"Tasiilaq",country:"Greenland",vibe:"quiet houses swallowed by snow",imageQuery:"Tasiilaq Greenland winter village"},{location:"Lapland",country:"Finland",vibe:"snow forests glowing in polar night",imageQuery:"Lapland winter forest aurora"},{location:"White Desert",country:"Egypt",vibe:"chalk spires frozen in windblown silence",imageQuery:"White Desert Egypt rocks"},{location:"Uummannaq",country:"Greenland",vibe:"icebergs drifting past a sleeping town",imageQuery:"Uummannaq Greenland iceberg village"}],nostalgic:[{location:"Angkor Wat",country:"Cambodia",vibe:"sunrise temples lost in time",imageQuery:"Angkor Wat sunrise temple"},{location:"Petra",country:"Jordan",vibe:"rose-red stone holding ancient breath",imageQuery:"Petra Jordan rock temple"},{location:"Machu Picchu",country:"Peru",vibe:"mist weaving through forgotten steps",imageQuery:"Machu Picchu Peru mist ruins"},{location:"Venice",country:"Italy",vibe:"gondolas gliding through history",imageQuery:"Venice canals gondola sunset"},{location:"Havana",country:"Cuba",vibe:"faded pastels and rolling 1950s cars",imageQuery:"Havana vintage cars buildings"},{location:"Bagan",country:"Myanmar",vibe:"temples floating in golden haze",imageQuery:"Bagan temples sunrise mist"},{location:"Crdoba",country:"Spain",vibe:"mosaics echoing medieval prayers",imageQuery:"Cordoba mosque arches"},{location:"Old Quebec",country:"Canada",vibe:"stone walls warmed by lanterns",imageQuery:"Old Quebec cobbled streets night"},{location:"Toledo",country:"Spain",vibe:"winding alleys and cathedral bells",imageQuery:"Toledo Spain old city sunset"},{location:"Bhaktapur",country:"Nepal",vibe:"wooden carvings and incense in the air",imageQuery:"Bhaktapur Nepal temple square"}],adventurous:[{location:"Mount Roraima",country:"Venezuela",vibe:"a floating plateau above the clouds",imageQuery:"Mount Roraima plateau Venezuela"},{location:"Zhangjiajie Glass Bridge",country:"China",vibe:"a path in the sky above forest pillars",imageQuery:"Zhangjiajie Glass Bridge"},{location:"Waitomo Caves",country:"New Zealand",vibe:"glowworms lighting a silent river",imageQuery:"Waitomo Caves glowworm"},{location:"Cerro Negro",country:"Nicaragua",vibe:"volcano boarding down ashen slopes",imageQuery:"Volcano boarding Cerro Negro"},{location:"Trolltunga",country:"Norway",vibe:"a cliff tongue stretching into the abyss",imageQuery:"Trolltunga cliff Norway"},{location:"Kalalau Trail",country:"Hawaii",vibe:"a jungle path on the edge of the sea",imageQuery:"Kalalau Trail Hawaii coast"},{location:"Moab Arches",country:"USA",vibe:"wind-carved stone gates to nowhere",imageQuery:"Moab Arches desert Utah"},{location:"Ice Climbing Slheimajkull",country:"Iceland",vibe:"tools in hand, frozen walls to conquer",imageQuery:"Ice climbing Iceland glacier"},{location:"Wadi Rum",country:"Jordan",vibe:"Mars-like valleys waiting for footprints",imageQuery:"Wadi Rum desert mountains"},{location:"Tigers Nest Monastery",country:"Bhutan",vibe:"a cliffside temple for brave hearts",imageQuery:"Tiger's Nest Monastery Bhutan"}]},dA={sad:["Sometimes, silence is the loudest cry for help.","You smiled through storms they never even saw.","Healing isnt linear  its a dance between falling and rising again.","Its okay if the light feels far away. Stars are distant too, but they still shine.","Grief isnt always loud. Sometimes, it sits quietly beside you and refuses to leave.","Even cracked hearts still beat  and thats strength.","Not every tear is weakness. Sometimes its the body finally exhaling pain.","Your softness is not your flaw  its your proof you still feel.","Youre allowed to miss what hurt you. Thats the human ache of attachment.","When everything feels heavy, let go of the need to carry it all alone.","Some nights you survive  not thrive  and thats enough.","Youre not broken. Youre a mosaic of all youve endured.","Even the moon goes dark before it returns full.","Pain carves space  for deeper joy to someday arrive.","Some days, existing is the bravest thing you do.","You may feel invisible, but your soul leaves footprints in every room.","Rain doesnt ask permission to fall. Let your sadness fall, too.","The pieces dont have to fit today. Just hold onto them.","You havent lost yourself  youre just beneath the noise.","Let the ache be a doorway. You are still becoming."],stressed:["Youre not failing  youre just carrying more than anyone can see.","Even machines overheat. You are allowed to pause.","The pressure you feel is proof of your passion  not your limits.","Your worth isnt measured by your productivity.","You dont have to earn rest. Youre human  not a project.","Sometimes, your breath is the only thing you need to fix first.","The world can wait. Peace cannot.","Your nervous system is not your enemy. Its begging for calm.","Let go of urgency. The present is still here, waiting.","You are not behind  youre on your own timeline.","Its okay to slow down even when the world keeps spinning.","One thing at a time. The mountain isnt climbed in a leap.","You werent made to run endlessly  you were made to feel fully.","Breathe. Youve survived every hard day so far.","Even the sun needs to set before it can rise again.","Let your to-do list wait. Come back to yourself first.","Youre allowed to feel overwhelmed  and still be strong.","Its not weakness to stop. Its wisdom.","You dont need to do everything today. You just need to be here.","Trust that calm will return  like the tide always does."],excited:["Youre not just alive  youre on fire with potential.","Let your joy be loud and unapologetic.","Every heartbeat is a drumroll for whats about to come.","You were made for moments like this  electric and infinite.","The spark you feel is your soul recognizing momentum.","This is what magic feels like when it wakes up in you.","Dont dim. The world is starving for your light.","This energy? Its your intuition celebrating ahead of time.","Let the thrill guide you  not fear.","You dont need permission to feel this alive.","Youre standing on the edge of everything beautiful.","Lean into the joy. Let it carry you beyond logic.","You are where the lightning strikes  powerful and rare.","Run toward the wonder. You were built for it.","This isnt chaos  its the rhythm of your becoming.","Every yes is a doorway. Walk through with fire in your veins.","Youre blooming  not by accident, but because you dared.","Keep moving. Even the stars need motion to shine.","Youre the crescendo in your own story.","Excitement is your spirit remembering what it came here for."],tired:["Youre not lazy  youre carrying stories no one sees.","Your soul is whispering: please, let me rest.","There is no shame in exhaustion. Youve given so much.","You dont have to push through everything. Some things ask for stillness.","Let today be the day you just breathe and be.","The world will wait. You need to mend.","Fatigue is not failure. Its a flag asking you to slow.","Rest is not a reward  its a right.","Even stars take breaks between their brightest bursts.","Close your eyes  even mountains need to sleep.","Your strength isnt in going nonstop  its in knowing when to stop.","Theres peace in pausing. Dont outrun it.","Let your mind unclench. Let your body forgive you.","Youre not meant to burn. Youre meant to glow  at your pace.","Tired doesnt mean done. It means listen.","Your body is wise  its asking for kindness.","Some days, rest is the bravest act.","Youve done enough for now. Let enough be enough.","Refill your soul, not just your to-do list.","You were not built to constantly perform. You were built to feel."],numb:["Numbness is the armor your heart wears when its too tired to feel.","Its okay to not feel okay  even when you cant name the ache.","Youre not broken. Youre buffering between storms.","When emotions go quiet, it doesnt mean youve vanished.","Theres a stillness in you that isnt empty  just waiting.","Sometimes, not feeling is how your body says 'I need to survive.'","The fog wont last forever. Clarity always finds its way back.","You dont have to force feeling. It will return when its safe.","Not feeling is still a feeling. Let it speak.","Youre not gone  just paused.","Even in the silence, your heart beats hope.","Youre cocooned right now. The wings will come.","You havent lost yourself  youre beneath the noise, resting.","Your soul is still here. Its just catching its breath.","This numbness isnt forever. Its a doorway, not a destination.","No emotion lasts forever  not even the absence of one.","Its okay to float for a while. Ground will return.","You feel less because you once felt deeply. Thats not a weakness.","Even in stillness, there is healing.","Your story isnt over. Its just on a quiet page."],nostalgic:["Memories are time-travel  soft, slow, and sacred.","You miss it because it mattered. Thats beautiful.","The past isnt calling you back  its reminding you who youve been.","Theres poetry in remembering. Even the ache is art.","You carry every version of yourself  like old songs in your chest.","Some places dont exist anymore. But they still live in your smile.","Youre allowed to love what you had, even if its gone.","Sometimes the heart whispers backwards  not to stay, but to honor.","That moment is gone. But how it shaped you never leaves.","Youre made of old laughter, faded sunlight, and unfinished dreams.","It wasnt perfect  but it was real. And thats enough.","The ache of remembering is proof youve lived.","Some feelings dont fade. They become part of the background music.","Old photos arent about faces  theyre about how you felt inside them.","Even the scent of a season can open a whole chapter again.","Memories age  but their meaning deepens.","You dont have to go back. Just carry it gently forward.","The past was not a mistake. It was a beginning.","Sometimes missing something is love that never stopped speaking.","Those golden hours made you. Let them glow in peace."],adventurous:["You were not born to stand still. You were made for motion and meaning.","The map was never the point  the journey is.","Fear is just the gate. Wonder is what lies beyond.","Theres more to life than comfort  theres *aliveness.*","Every risk you take writes a new part of your story.","Adventure begins the moment you step outside certainty.","Youre the kind of soul that chases horizons.","Let your curiosity guide you more than your caution.","The wild doesnt ask for permission. It asks for presence.","Some dreams live at the edge of fear. Go there.","You werent made to stay in one place  physically or emotionally.","Every new path is a whisper from your future self.","Growth happens where routine ends.","Leave the known. Discover the layers of who you truly are.","You are not lost. You are exploring.","Let the wind shift your perspective.","This world wasnt built to be watched. It was built to be wandered.","Adventure feeds the parts of you comfort starves.","Not all who wander are lost  some are finally found.","Step forward. Magic rarely visits those who stand still."]},oz=()=>{const{mood:t}=NA(),[e,n]=L.useState(""),[r,a]=L.useState(null),[l,u]=L.useState(!0),[h,d]=L.useState(""),[p,y]=L.useState(!1),_="7CK_ijdDl1dL347Lp9Ecq8xoobQ5YxyAoabpIOXqF4g",T=async C=>{try{const P=await(await fetch(`https://api.unsplash.com/search/photos?query=${C}&client_id=${_}`)).json();P.results.length>0&&n(P.results[0].urls.regular)}catch(k){console.error("Error fetching image:",k)}};L.useEffect(()=>{if(t&&Ug[t]){const C=Ug[t][Math.floor(Math.random()*Ug[t].length)];a(C),d(dA[t][Math.floor(Math.random()*dA[t].length)]),u(!0),T(C.imageQuery).then(()=>u(!1))}},[t]);const b=async()=>{const C=Yi.currentUser;if(!C){alert("Please log in to save your escape");return}try{await b_(Zs(Cn,"users",C.uid,"escapes"),{mood:t,location:r,imageUrl:e,quote:h,createdAt:new Date}),y(!0),setTimeout(()=>y(!1),2e3)}catch(k){console.error("Error saving escape:",k),alert("Failed to save escape.")}};return l||!r?I.jsx(hi,{children:I.jsx("div",{className:"loading-screen",children:I.jsx("h2",{children:" Getting your dream escape..."})})}):I.jsx("div",{className:"app",style:{backgroundImage:`url(${e})`},children:I.jsxs("div",{className:"overlay",children:[I.jsxs("div",{className:"text-content",children:[I.jsxs("h1",{children:["Feeling ",t.charAt(0).toUpperCase()+t.slice(1),"?"]}),I.jsxs("p",{style:{paddingTop:"10px"},children:["Consider ",I.jsxs("span",{className:"location-highlight",style:{background:"rgba(255, 255, 255, 0.08)",padding:"10px 20px",borderRadius:"10px",color:"white",fontSize:"1rem"},children:[" ",r.vibe]})," at"," ",I.jsxs("strong",{className:"location-highlight",style:{background:"rgba(255, 255, 255, 0.08)",padding:"10px 20px",borderRadius:"10px",color:"white",fontSize:"1rem",backdropFilter:"blur(12px)",margin:"0 5px"},children:[r.location,", ",r.country]}),"."]})]}),I.jsx("div",{className:"escape-card",children:I.jsxs("div",{className:"escape-image-container",children:[I.jsx("img",{src:e,alt:r.location,className:"escape-image"}),I.jsxs("div",{className:"content-overlay",children:[I.jsxs("p",{className:"quote-text",children:["",h,""]}),I.jsxs("div",{className:"btn-s",children:[I.jsx("button",{onClick:b,className:"save-btn",children:"Save this escape"}),p&&I.jsx("div",{className:"saved-popup",children:" Escape Saved!"}),I.jsx("button",{className:"try-btn",children:"Try another mood"})]})]})]})})]})})},lz=()=>{const{user:t,loading:e}=A_(),[n,r]=L.useState(""),[a,l]=L.useState([]),[u,h]=L.useState(null),[d,p]=L.useState(""),[y,_]=L.useState(!1);L.useEffect(()=>{e||T()},[t,e]);const T=async()=>{if(p(""),_(!0),!t){try{const D=localStorage.getItem("journal_entries"),Y=D?JSON.parse(D):[];l(Y.slice().reverse())}catch(D){console.error("Error parsing journal entries:",D),l([])}_(!1);return}try{const D=vx(Zs(Cn,"journal_entries"),HB("uid","==",t.uid),_x("date","desc")),H=(await yc(D)).docs.map(re=>{var M;const te=re.data();let B="";return(M=te.date)!=null&&M.toDate?B=te.date.toDate().toISOString():typeof te.date=="string"?B=te.date:B=new Date().toISOString(),{id:re.id,text:te.text,date:B}});l(H)}catch(D){console.error("Error loading from Firestore:",D),p(" Unable to load from cloud. Check your Firestore security rules.")}_(!1)},b=async()=>{if(!n.trim())return;if(p(""),u){if(!t){try{const Y=localStorage.getItem("journal_entries");let H=Y?JSON.parse(Y):[];H=H.map(re=>re.id===u?{...re,text:n.trim()}:re),localStorage.setItem("journal_entries",JSON.stringify(H)),l(H.slice().reverse())}catch(Y){console.error("Failed to update localStorage:",Y),p("Failed to update entry locally.")}h(null),r("");return}try{const Y=Js(Cn,"journal_entries",u);await Sx(Y,{text:n.trim()}),T()}catch(Y){console.error("Error updating Firestore:",Y),p(" Failed to update entry in cloud.")}h(null),r("");return}const D={id:Date.now().toString(),text:n.trim(),date:new Date().toISOString()};if(l(Y=>[D,...Y]),t)try{await b_(Zs(Cn,"journal_entries"),{text:D.text,uid:t.uid,date:ky()}),T()}catch(Y){console.error("Error saving to Firestore:",Y),p(" Failed to save to cloud. Check your Firestore rules.")}else try{const Y=localStorage.getItem("journal_entries"),re=[...Y?JSON.parse(Y):[],D];localStorage.setItem("journal_entries",JSON.stringify(re))}catch(Y){console.error("Failed to write localStorage:",Y),p("Failed to save entry locally.")}r("")},C=D=>{h(D.id),r(D.text)},k=()=>{h(null),r(""),p("")},P=async D=>{if(p(""),!t){try{const Y=localStorage.getItem("journal_entries");let H=Y?JSON.parse(Y):[];H=H.filter(re=>re.id!==D.id),localStorage.setItem("journal_entries",JSON.stringify(H)),l(H.slice().reverse())}catch(Y){console.error("Failed to delete from localStorage:",Y),p("Failed to delete entry locally.")}return}try{const Y=Js(Cn,"journal_entries",D.id);await $B(Y),T()}catch(Y){console.error("Error deleting Firestore doc:",Y),p(" Failed to delete entry in cloud.")}};return I.jsxs("div",{className:"journal-wrapper",children:[I.jsxs("div",{className:"journal-editor",children:[I.jsxs("div",{className:"editor-heading",children:[I.jsxs("h1",{children:[""," ",t?`Hey ${t.displayName||"there"}, your space is ready`:"My Journal"]}),I.jsx("p",{children:"A safe space to pour it all out."})]}),d&&I.jsx("p",{className:"error-message",children:d}),I.jsx("textarea",{value:n,onChange:D=>r(D.target.value),placeholder:"Write your thoughts here...",rows:6}),I.jsx("div",{style:{marginTop:"0.5rem"},children:u?I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:b,children:"Update Entry"})," ",I.jsx("button",{onClick:k,style:{marginLeft:"1rem"},children:"Cancel"})]}):I.jsx("button",{onClick:b,children:"Save Entry"})}),t?I.jsxs("p",{className:"save-note",style:{marginTop:"1rem"},children:["You're signed in as"," ",I.jsx("strong",{children:t.displayName||t.email}),". Your journal is saved to the cloud."]}):I.jsxs("p",{className:"save-note",style:{marginTop:"1rem"},children:["Note: Your entries are saved in your browser. To save them permanently across devices,"," ",I.jsx("strong",{children:I.jsx(pn,{to:"/sign-up",children:"create an account"})}),"."]})]}),I.jsxs("div",{className:"journal-sidebar",children:[I.jsx("h2",{children:"Your Entries"}),y?I.jsx("p",{children:"Loading entries..."}):a.length===0?I.jsx("p",{className:"no-entries",children:"No entries yet"}):I.jsx("ul",{className:"entry-list",children:a.map(D=>I.jsxs("li",{children:[I.jsx("strong",{children:new Date(D.date).toLocaleString()}),I.jsxs("p",{children:[D.text.slice(0,100),D.text.length>100?"...":""]}),I.jsxs("div",{style:{marginTop:"0.3rem"},children:[I.jsx("button",{onClick:()=>C(D),children:"Edit"})," ",I.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this entry?")&&P(D)},style:{marginLeft:"0.5rem"},children:"Delete"})]})]},D.id))})]})]})},uz=()=>I.jsx("div",{className:"journal-page",children:I.jsx(hi,{children:I.jsx(lz,{})})}),cz=()=>I.jsx("div",{className:"mood-page",children:I.jsx(hi,{children:I.jsx(oz,{})})}),hz=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[a,l]=L.useState(""),u=async h=>{if(h.preventDefault(),r(""),l(""),!t){l("Please enter your email address.");return}try{await Z6(Yi,t),r("Reset link sent! Check your inbox.")}catch(d){console.error(d),l("Could not send reset link. Make sure your email is registered.")}};return I.jsx("div",{className:"reset-container",children:I.jsxs("div",{className:"reset-card",children:[I.jsx("h2",{children:"Reset Password"}),I.jsx("p",{children:"Enter your email and well send a link to reset your password."}),n&&I.jsx("p",{className:"success-message",children:n}),a&&I.jsx("p",{className:"error-message",children:a}),I.jsxs("form",{onSubmit:u,children:[I.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:h=>e(h.target.value)}),I.jsx("button",{type:"submit",children:"Send Reset Link"})]}),I.jsx("p",{children:I.jsx("a",{href:"/login",children:"Back to login"})})]})})},fz=async t=>{var a,l,u;const e=await fetch("/api/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:`
            You are a compassionate and emotionally intelligent mental wellness companion. 
            Your goal is to make users feel calm, safe, and heard. 
            Respond with empathy, kindness, and without judgment. 
            Ask thoughtful follow-up questions when appropriate, and let the user lead the pace of the conversation.
            Avoid giving clinical advice or diagnoses  you are simply here to support, reflect, and listen. 
            Keep responses gentle, clear, and comforting.
          `},{role:"user",content:t}]})});if(!e.ok){const h=await e.text();throw new Error(`Backend error ${e.status}: ${h}`)}const n=await e.json(),r=(u=(l=(a=n==null?void 0:n.choices)==null?void 0:a[0])==null?void 0:l.message)==null?void 0:u.content;if(!r)throw new Error("No content in AI response");return r},dz=()=>{const{user:t,loading:e}=A_(),[n,r]=L.useState([]),[a,l]=L.useState(""),[u,h]=L.useState(!1),[d,p]=L.useState([]),[y,_]=L.useState(null),[T,b]=L.useState(null),[C,k]=L.useState(""),[P,D]=L.useState(null),Y=L.useRef(null),[H,re]=L.useState(!1);L.useEffect(()=>{const fe=q=>{const ne=document.querySelector(".sidebar"),me=document.querySelector(".sidebar-toggle");ne&&me&&!ne.contains(q.target)&&!me.contains(q.target)&&re(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]);const te=L.useRef(null);L.useEffect(()=>{const fe=q=>{te.current&&!te.current.contains(q.target)&&D(null)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),L.useEffect(()=>{e||x()},[t,e]),L.useEffect(()=>{var fe;(fe=Y.current)==null||fe.scrollIntoView({behavior:"smooth",block:"end"})},[n,u]);const B=fe=>fe?fe.length>25?fe.slice(0,25)+"...":fe:"Chat",M=async(fe,q)=>{if(q)if(t){const ne=Js(Cn,"users",t.uid,"chats",q);(await wx(ne)).exists()||await KB(ne,{title:B(fe.text),createdAt:ky()}),await b_(Zs(Cn,"users",t.uid,"chats",q,"messages"),{...fe,timestamp:ky()})}else{const ne=localStorage.getItem("guestChats")||"{}";let me={};try{me=JSON.parse(ne)}catch{me={}}const ve=me[q]||[];me[q]=[...ve,{...fe,timestamp:Date.now()}],localStorage.setItem("guestChats",JSON.stringify(me))}},A=async()=>{if(!a.trim())return;const fe={sender:"user",text:a},q=y||`chat-${Date.now()}`;y||_(q),r(ne=>[...ne,fe]),l(""),h(!0),M(fe,q).catch(console.error);try{const me={sender:"ai",text:await fz(a)};r(ve=>[...ve,me]),M(me,q).catch(console.error)}catch(ne){console.error("AI error:",ne)}finally{h(!1)}},x=async()=>{if(t)try{const q=(await yc(Zs(Cn,"users",t.uid,"chats"))).docs.map(ne=>({id:ne.id,...ne.data()}));q.sort((ne,me)=>{var ve,O;return(((ve=me.createdAt)==null?void 0:ve.seconds)||0)-(((O=ne.createdAt)==null?void 0:O.seconds)||0)}),p(q)}catch(fe){console.error("Failed loading chats:",fe),p([])}else try{const fe=localStorage.getItem("guestChats")||"{}",q=JSON.parse(fe),ne=Object.entries(q).map(([me,ve])=>{var O;return{id:me,title:B(((O=ve==null?void 0:ve[0])==null?void 0:O.text)||"Chat")}});p(ne)}catch{p([])}},U=async fe=>{if(_(fe),D(null),t)try{const ne=(await yc(vx(Zs(Cn,"users",t.uid,"chats",fe,"messages"),_x("timestamp","asc")))).docs.map(me=>{var O;const ve=me.data();return{...ve,timestamp:(O=ve.timestamp)!=null&&O.toDate?ve.timestamp.toDate().toISOString():ve.timestamp||new Date().toISOString()}});r(ne)}catch(q){console.error("Failed to load messages:",q),r([])}else try{const q=localStorage.getItem("guestChats")||"{}",ne=JSON.parse(q);r(ne[fe]||[])}catch{r([])}},z=async()=>{r([]);const fe=`chat-${Date.now()}`;_(fe),await x()},G=fe=>{b(fe.id),k(fe.title),D(null)},N=async fe=>{if(C.trim()){if(!t){b(null),await x();return}try{const q=Js(Cn,"users",t.uid,"chats",fe);await Sx(q,{title:C.trim()}),b(null),await x()}catch(q){console.error("Failed to rename chat:",q),b(null)}}},Oe=async fe=>{if(window.confirm("Are you sure you want to delete this chat?")){if(!t){try{const q=localStorage.getItem("guestChats")||"{}",ne=JSON.parse(q);delete ne[fe],localStorage.setItem("guestChats",JSON.stringify(ne)),y===fe&&(_(null),r([])),await x()}catch(q){console.error("Failed to delete guest chat:",q)}return}try{const q=Js(Cn,"users",t.uid,"chats",fe),ne=Zs(Cn,"users",t.uid,"chats",fe,"messages"),me=await yc(ne),ve=WB(Cn);me.forEach(O=>{ve.delete(Js(Cn,"users",t.uid,"chats",fe,"messages",O.id))}),ve.delete(q),await ve.commit(),y===fe&&(_(null),r([])),await x()}catch(q){console.error("Failed to delete chat:",q)}}};return I.jsx(hi,{children:I.jsxs("div",{className:"companion-wrapper",children:[I.jsx("button",{className:"sidebar-toggle",onClick:()=>re(!H),children:H?"":""}),I.jsx("div",{className:`sidebar-overlay ${H?"active":""}`,onClick:()=>re(!1)}),I.jsxs("aside",{className:`sidebar ${H?"active":""}`,children:[I.jsx("button",{className:"new-chat-btn",onClick:z,children:" New Chat"}),I.jsx("div",{className:"chat-history",ref:te,children:d.map(fe=>I.jsx("div",{className:`chat-title ${fe.id===y?"active":""}`,children:T===fe.id?I.jsxs("div",{className:"edit-title-container",children:[I.jsx("input",{type:"text",value:C,onChange:q=>k(q.target.value),onKeyDown:q=>{q.key==="Enter"&&N(fe.id),q.key==="Escape"&&b(null)},autoFocus:!0}),I.jsxs("div",{className:"edit-title-buttons",children:[I.jsx("button",{onClick:()=>N(fe.id),children:"Save"}),I.jsx("button",{onClick:()=>b(null),children:"Cancel"})]})]}):I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"chat-title-content",onClick:()=>U(fe.id),children:fe.title}),I.jsxs("div",{className:`chat-menu-container ${P===fe.id?"active":""}`,children:[I.jsx("button",{className:"chat-menu-button",onClick:q=>{q.stopPropagation(),D(P===fe.id?null:fe.id)},children:""}),I.jsxs("div",{className:"chat-menu-dropdown",children:[I.jsxs("button",{onClick:()=>{G(fe),D(null)},className:"chat-menu-item",children:[I.jsx(fL,{className:"menu-icon"}),"Rename"]}),I.jsxs("button",{onClick:()=>{D(null),Oe(fe.id)},className:"chat-menu-item delete",children:[I.jsx(mL,{className:"menu-icon"}),"Delete"]})]})]})]})},fe.id))})]}),I.jsxs("main",{className:"chat-container",children:[I.jsxs("header",{className:"chat-header",children:[I.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4712/4712109.png",alt:"avatar",className:"avatar"}),I.jsxs("div",{children:[I.jsx("h2",{children:"Menta"}),I.jsx("p",{children:"Your emotional wellness buddy"}),!t&&I.jsx("small",{style:{color:"#6b7280",fontWeight:"bold"},children:"* Your chats are saved in this browser. Log in to save your history."})]})]}),I.jsxs("div",{className:"chat-box",children:[n.map((fe,q)=>I.jsx("div",{className:`chat-bubble ${fe.sender==="user"?"user-bubble":"ai-bubble"}`,children:fe.text},q)),u&&I.jsxs("div",{className:"typing",style:{color:"#6b7280",fontWeight:"bold"},children:["Menta is typing",I.jsx("span",{className:"dot",children:"."}),I.jsx("span",{className:"dot",children:"."}),I.jsx("span",{className:"dot",children:"."})]}),I.jsx("div",{style:{fontFamily:"Manrope, sans-serif"},ref:Y})]}),I.jsxs("div",{className:"chat-input",children:[I.jsx("input",{value:a,placeholder:"Type here...",onChange:fe=>l(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&A()}),I.jsx("button",{onClick:A,children:""})]})]})]})})},mz=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),a=Rd();return L.useEffect(()=>{(async()=>{const u=Yi.currentUser;if(!u){console.warn("No current user"),r(!1);return}try{const h=Zs(Cn,"users",u.uid,"escapes"),p=(await yc(h)).docs.map(y=>({id:y.id,...y.data()}));e(p)}catch(h){console.error("Error fetching escapes:",h)}finally{r(!1)}})()},[]),n?I.jsx(hi,{children:I.jsx("p",{children:"Loading your escapes..."})}):t.length?I.jsx(hi,{children:I.jsxs("div",{className:"escape",style:{marginTop:"5rem"},children:[I.jsx("h1",{children:" My Escapes"}),I.jsx("div",{className:"escapes-list",children:t.map(l=>{var u,h,d;return I.jsxs("div",{className:"escape-card",onClick:()=>a(`/escape/${l.id}`),style:{cursor:"pointer"},children:[I.jsx("img",{src:l.imageUrl,alt:(u=l.location)==null?void 0:u.location,className:"escape-thumb"}),I.jsxs("div",{className:"escape-info",children:[I.jsxs("h2",{children:[(h=l.location)==null?void 0:h.location,", ",(d=l.location)==null?void 0:d.country]}),I.jsxs("p",{children:[l.mood,"  ",l.quote,""]}),I.jsx("small",{children:new Date(l.createdAt.toDate()).toLocaleString()})]})]},l.id)})})]})}):I.jsxs(hi,{children:[" ",I.jsxs("div",{className:"no-escape",children:[I.jsx("p",{children:"You have no saved escapes yet."}),I.jsx("p",{children:"Login or signup to save destinations."}),I.jsxs("div",{className:"auth-links",children:[I.jsx("a",{href:"/login",children:"Login"}),I.jsx("span",{children:" | "}),I.jsx("a",{href:"/signup",children:"Signup"})]})]})]})},pz=()=>{var l,u,h,d;const{id:t}=NA(),[e,n]=L.useState(null),[r,a]=L.useState(!0);return L.useEffect(()=>{(async()=>{const y=Yi.currentUser;if(!y){console.warn("No current user"),a(!1);return}try{const _=Js(Cn,"users",y.uid,"escapes",t),T=await wx(_);T.exists()?n({id:T.id,...T.data()}):console.warn("No such escape!")}catch(_){console.error("Error fetching escape:",_)}finally{a(!1)}})()},[t]),r?I.jsx(hi,{children:I.jsx("p",{children:"Loading escape..."})}):e?I.jsx(hi,{children:I.jsxs("div",{className:"escape-details",children:[I.jsx("img",{src:e.imageUrl,alt:(l=e.location)==null?void 0:l.location,className:"escape-full-image"}),I.jsxs("h1",{children:[(u=e.location)==null?void 0:u.location,", ",(h=e.location)==null?void 0:h.country]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Mood:"})," ",e.mood]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Vibe:"})," ",(d=e.location)==null?void 0:d.vibe]}),I.jsxs("blockquote",{children:["",e.quote,""]}),I.jsxs("small",{children:["Created at: ",new Date(e.createdAt.toDate()).toLocaleString()]})]})}):I.jsx(hi,{children:I.jsx("p",{children:"Escape not found."})})},gz=ZM([{path:"/",element:I.jsx(iz,{})},{path:"/login",element:I.jsx(sz,{})},{path:"/sign-up",element:I.jsx(az,{})},{path:"/mood/:mood",element:I.jsx(cz,{})},{path:"/journal",element:I.jsx(uz,{})},{path:"/reset-password",element:I.jsx(hz,{})},{path:"/ai-companion",element:I.jsx(dz,{})},{path:"/escapes",element:I.jsx(mz,{})},{path:"/escape/:id",element:I.jsx(pz,{})}],{basename:"/wander-mind"});s2.createRoot(document.getElementById("root")).render(I.jsx(L.StrictMode,{children:I.jsx(JB,{children:I.jsx(cP,{router:gz})})}));
